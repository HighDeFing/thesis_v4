UNIVERSIDAD CENTRAL DE VENEZUELA FACULTAD DE CIENCIAS ESCUELA DE COMPUTACIÓN Automatización de Trazado Cefalométrico Lateral para el Diagnóstico en Ortodoncia Trabajo Especial de Grado presentado ante la ilustre Universidad Central de Venezuela por el Br. Jhonattan David Piña para optar al t́ıtulo de Licenciado en Computación Tutor: Dra. Zenaida Castillo Caracas, Venezuela Mayo 2011 Índice general 1. Introducción 5 2. Cefalometŕıa 7 2.1. Antecedentes . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7 2.2. El trazado cefalométrico . . . . . . . . . . . . . . . . . . . . . . . . . . 8 2.3. Técnicas cefalométricas . . . . . . . . . . . . . . . . . . . . . . . . . . . 10 2.3.1. Cefalometŕıa lateral de Ricketts . . . . . . . . . . . . . . . . . . 10 2.3.2. Cefalometŕıa lateral de McNamara . . . . . . . . . . . . . . . . 11 2.3.3. Cefalometŕıa lateral de Steiner . . . . . . . . . . . . . . . . . . . 12 3. Automatización del Trazado Cefalométrico 13 3.1. Proceso de Trazado . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 13 3.2. Automatización del trazado . . . . . . . . . . . . . . . . . . . . . . . . 16 3.2.1. Solución propuesta . . . . . . . . . . . . . . . . . . . . . . . . . 18 4. Desarrollo del Software 19 4.1. Consideraciones de Implementación . . . . . . . . . . . . . . . . . . . . 24 4.1.1. Cálculo de elementos del trazado . . . . . . . . . . . . . . . . . 24 4.2. Casos de uso . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 28 4.2.1. Ejemplo de aplicación . . . . . . . . . . . . . . . . . . . . . . . 30 5. Conclusiones 33 5.1. Trabajo futuro . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 33 A. Lista de tablas 35 2 Índice de figuras 3.1. Materiales para el trazado. . . . . . . . . . . . . . . . . . . . . . . . . . 14 3.2. Tejidos blandos. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 15 3.3. Tejidos duros. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 15 3.4. Trazado Cefalométrico. . . . . . . . . . . . . . . . . . . . . . . . . . . . 16 4.1. Modelo espiral iterativo. . . . . . . . . . . . . . . . . . . . . . . . . . . 19 4.2. Panel izquerdo: Resultados del trazado. Panel derecho: Guia para el usuario 21 4.3. Panel Central. Muestra la imagen con ĺıneas y puntos . . . . . . . . . . 21 4.4. Panel inferior. Muestra el menú de actividades a realizar . . . . . . . . 22 4.5. Cálculo de ángulo de la profundidad facial . . . . . . . . . . . . . . . . 26 4.6. Trazado manual . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 30 4.7. Resultado del análisis: Plantilla . . . . . . . . . . . . . . . . . . . . . . 31 3 Índice de cuadros 2.1. Puntos Referenciales . . . . . . . . . . . . . . . . . . . . . . . . . . . . 9 2.2. Planos Referenciales . . . . . . . . . . . . . . . . . . . . . . . . . . . . 10 4.1. Puntos Referenciales . . . . . . . . . . . . . . . . . . . . . . . . . . . . 32 A.1. Referencias Craneales . . . . . . . . . . . . . . . . . . . . . . . . . . . . 35 A.2. Referencias Mandibulares . . . . . . . . . . . . . . . . . . . . . . . . . 36 A.3. Referencias Maxilares . . . . . . . . . . . . . . . . . . . . . . . . . . . . 37 A.4. Referencias en la Dentición . . . . . . . . . . . . . . . . . . . . . . . . . 37 A.5. Planos . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 38 A.6. Planos de la Cara . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 39 4 Capı́tulo 1 Introducción En las últimas décadas ha tomado gran importancia y se han masificado los tratamien- tos de Ortodoncia. La práctica del oficio se ha especializado, generando resultados alen- tadores en comunidades de niños, adolescentes y adultos. Es determinante el diagnóstico para poder establecer un correcto plan de tratamiento. El elemento de mayor relevancia en la evaluación diagnóstica es el trazado ce- falométrico, proceso mediante el cual se toma una rafiograf́ıa (lateral o frontal) del paciente, y sobre ella se dibujan (o trazan) puntos y ĺıneas de interés, que permiten calcular medidas y ángulos para determinar las caracteŕısticas óseas del paciente al comparar con normas establecidas. Esta comparación permite hacer un diagnóstico y proponer un tratamiento. Uno de los métodos más utilizados por los ortodoncistas en la actualidad, consiste en hacer un trazado de ĺıneas y puntos espećıficos sobre una radiograf́ıa lateral de acuerdo a una técnica previamente establecida, tal como la técnica de Ricketts, que es una de las más populares. La técnica de trazado, que en sus inicios fue completamente manual, ha ido evolu- cionando y en la actualidad se conocen algunas soluciones comerciales que automatizan este proceso. Sin embargo, estas soluciones aún no abarcan todas las actividades cono- cidas del proceso y algunas de ellas son dif́ıciles de obtener y/o de utilizar. En este trabajo se propone automatizar el trazado cefalométrico de radiograf́ıa late- ral, usando una radiograf́ıa digitalizada e información sumisnistrada por el usuario en un proceso interactivo a través de una interfaz gráfica. Se desarrollará un software de aplicación, con una interfaz gráfica basada en el mode- lo MVC (modelo, vista, controlador) mediante la cual el usuario (técnico u ortodoncista) introduce toda la información necesaria para el trazado que desea hacer sobre una ra- 5 diograf́ıa lateral del paciente ya digitalizada en un formato computacional apropiado. La aplicación generará todos los cálculos pertinentes al tipo de trazado para producir una imagen que contiene las ĺıneas y toda la información requerida para hacer el di- agnóstico. La herramienta debe brindar la oportunidad al ortodoncista de aplicar varias técnicas y generar información de interés para el futuro tratamiento. Después de un análisis de factibilidad, y considerando los requerimientos de usuario, se adoptó a Java como lenguaje para el desarrollo de una aplicación multiplataforma. La interfaz de usuario fue pensada para satisfacer criterios minimalistas y permitir al usuario hacer todo lo que se desee dentro del menor conjunto de posibilidades. Por otra parte, la aplicación fue diseñada para un conjunto reducido de usuarios: los ortodoncis- tas, técnicos de la ortodoncia o especialistas del área; y en lo posible ofrecer al usuario la mayor cantidad de usos junto con sus instrucciones. De esta manera, se establece un compromiso entre estos dos objetivos. Inicialmente la aplicación ofrece al usuario tres tipos de análisis cefalométrico, a saber: Ricketts, McNamara y Steiner, asi como también la posibilidad de generar infor- mación importante como: el cálculo de la norma-edad según la raza y sexo del paciente, la comparación de la medida del paciente trazado con su respectiva norma-edad y su interpretación. Se presentan en este documento varios casos de uso, entre ellos: 1. Cargar radiograf́ıa 2. Generar trazado 3. Generar plantillas Estos ejemplos de uso, nos ayudarán a describir el alcance de la aplicación. Evaluando las soluciones existentes y la propuesta de este trabajo podemos decir que se ha diseñado una aplicación pionera que automatiza el proceso de trazado ce- falométrico lateral, con la intervención controlada del usuario. Se plantea a futuro la extensión de esta aplicación hacia el estudio cefalométrico frontal; asi como también el incremento de funcionabilidades, como por ejemplo: la predicción de crecimiento según la estructura osea. El resto del documento está dividido de la siguiente manera: en el caṕıtulo 2 se es- tablecen los conceptos fundamentales de la cefalometŕıa, su importancia y aplicabilidad en la ortodoncia. En el caṕıtulo 3 se describe el proceso de automatización del análisis cefalométrico, asi como también las soluciones existentes en esa dirección. También se introduce las caracteŕısticas de la aplicación propuesta. El caṕıtulo 4 está destinado a una explicación amplia y detallada del desarrollo del software propuesto. Se describen las caracteŕısticas de la interfaz y los casos de uso. Finalmente, el caṕıtulo 5 presenta las conclusiones de este trabajo y las recomendaciones. 6 Capı́tulo 2 Cefalometŕıa Se conoce como cefalometŕıa al proceso de obtención, análisis y procesamiento, de medidas del cráneo humano. Los estudios cefalométricos tienen aplicación práctica en la evaluación de las v́ıas aéreas superiores[5], aśı como también para hacer seguimien- to de la maduración fetal por obstetricia. La cefalometŕıa también tiene utilidad en la elaboración de diagnósticos y en las evaluaciones de control y post-tratamiento en odontoloǵıa[15]. Este tipo de estudio es de particular importancia en el área de ortodoncia, donde es usado para obtener un conocimiento profundo de las estructuras óseas. Esto se logra después de medir estas estructuras, describirlas y analizar sus interrelaciones. 2.1. Antecedentes La cefalometŕıa tiene su origen a comienzos del siglo 20, un poco después de la aparición de los rayos X como técnica que permite observar las estructuras óseas a través de los tejidos blandos que las recubren. No pasó mucho tiempo de la invención del craneostato por Broadbent, en los años 1920-1930, cuando médicos e investigadores de la odontoloǵıa comienzan a definir estudios para determinar medidas cefalométricas. El propósito original en la construcción del craneostato fue investigar patrones de crecimiento del complejo craneofacial a fin de poder comparar un individuo con su grupo poblacional y establecer promedios con relación a género, raza y edad. Sin embargo, en la práctica, el instrumento tuvo otras aplicaciones, como el establecimiento de puntos y planos que sirven para establecer una base referencial de descripción morfológica, aśı como también para establecer una comparación longitudinal. Es aśı como surge el primer análisis cefalométrico en los años 1953-54 diseñado por Tweed [20], según mediciones hechas a pacientes tratados sin extracciones. Se publican a mediados de los años 50 diferentes art́ıculos comparando la morfoloǵıa de un paciente en varias etapas del tratamiento. 7 Después de una gran cantidad de mediciones en toda clase de pacientes durante unos treinta años, acompañados de numerosos análisis, se plantea la posibilidad de predecir el crecimiento y definir planes de tratamiento ortodóncico. Ricketts y McNamara proponen los primeros análisis cefalométricos efectivos y de amplia utilización en la actualidad. 2.2. El trazado cefalométrico La gran dificultad de la cefalometŕıa como técnica es el hecho de que ésta sólo pro- porciona información en dos planos del espacio, es por eso que el objetivo principal de un análisis cefalométrico es efectuar mediciones y obtener puntos referenciales que permitan predecir información necesaria a nivel volumétrico. La cefalometŕıa se realiza sobre un trazado de ĺıneas y ángulos fundamentales en una radiograf́ıa lateral o frontal, obtenida de la cara del paciente. Estas medidas son evaluadas según unas normas determinadas que permiten estandarizar los resultados y compararlos con patrones normales. Tal como su nombre lo sugiere, la cefalometŕıa frontal se realiza sobre una radiograf́ıa frontal del paciente; mientras que la lateral, sobre una radiograf́ıa lateral. La cefalometŕıa frontal se utiliza para el estudio de la simetŕıa de los componentes del complejo dentomaxilofacial. A continuación una lista de sus aplicaciones, las cuales son detalladas en [4, 16]: Para el diagnóstico diferencial de los casos de latero-desviaciones mandibulares y desviaciones de ĺıneas medias dentarias . Para la indicación y posterior evalución de trataminetos de expansión o disyunción del maxilar superior. Para el diagnóstico de malformaciones que puedan afectar distintas estructuras. Para la determinación del espesor de las ramas ascendentes mandibulares. Para el diagnóstico de estrechamiento de las vias aéreas superiores. Por otra parte, la cefalometŕıa lateral, que es la más usada en la actualidad, tiene diversas aplicaciones, algunas de las cuales se mencionan a continuación. Estudio del crecimiento craneofacial: repetición y reproducción de las estructuras del paciente. Superposición de trazados para estudiar su crecimiento, ver por ejemplo [8, 10]. Diagnóstico de posibles patoloǵıas especiales, tales como dilaceraciones, trauma- tismos hipertrofias adenoideas[9]. 8 Evaluación del espacio nasofaŕıngeo [5]. Diagnóstico de anomaĺıas cráneo-faciales (dólicofacial y braquifacial) [6] Seguimiento y evaluación de los resultados obtenidos en tratamientos de ortodon- cia [7]. La herramienta fundamental de un análisis en ortodoncia es el trazado cefalométrico, que no es más que una serie de ĺıneas y ángulos sobre una radiograf́ıa frontal o lateral del paciente. Este trazado se analiza usando normas aceptadas que nos permiten comparar los resultados con patrones normales. Existen diferentes metodoloǵıas o técnicas para hacer y analizar un trazado cefalométrico, cada una de las cuales requiere identificar ciertas ĺıneas o planos de referencia y puntos de interés sobre la radiograf́ıa. A conti- nuación se mencionan, de acuerdo su ubicación, las referencias utilizadas para realizar un trazado cefalométrico: 1. Referencias craneales. 2. Referencias mandibulares. 3. Referencias maxilares. 4. Referencias en la dentición. 5. Tejidos blandos. Cada una de esta referencias tiene asociado un conjunto de puntos. La tabla 2.1 contiene la especificación de estos puntos en cada referencia Cuadro 2.1: Puntos Referenciales Craneales Mandibulares Maxilares Dentales Tejidos Blandos Basion (Ba) Pogonio (Po) Espina nasal Incisivo Inf corona columnela Nacion (N) Suprapogonio (Pm) anterior (ENA) Incisivo Inf ráız subnasal Porion (P) Gnation (Gn) Espina nasal Incisivo Sup corona pronasal Orbital (O) Mentón (M) posterior (ENP) Incisivo Sup ráız propogonio Pterigoidea (Pr) Centroide (Xi) Punto A Molar Inf distal comisura Pterigoideo (Pt) Subgonion (Sgo) Molar Inf mesial labio inferior Silla turca (S) Condilar (Dc) Molar Sup mesial labio superior Centro Craneal(CC) Punto B Oclusal Centro Facial (CF) Articular (Ar) Condilion (Co) R1, R2, R3, R4 Gnation anatómico Supragonion Una descripción detallada de la ubicación e importancia de estos puntos puede ha- llarse el apéndice A. 9 Adicionalmente, los análisis cefalométricos hacen uso de la información proveniente de algunos planos y su intersección con partes del cráneo. La tabla 2.2 señala algunos planos que han probado ser de mayor utilidad y valor substancial en los análisis ce- falométricos. Cuadro 2.2: Planos Referenciales Base Craneal Planos de la cara BC anterior Plano Nasal BC posterior Plano Frankfort Cóndilo Posterior Ref Dentición Plano SN Plano Oclusal Plano Mandibular Linea Estética Plano Nasal 2.3. Técnicas cefalométricas La cefalometŕıa no es exacta, debido a la dificultad para localizar los puntos y la imprecisión de los exploradores a la hora de encontrarlos, y esto constituye uno de los retos de este tipo de trabajo. Existen diversos esquemas o técnicas que permiten definir e interpretar el trazado, y entre los más populares sen encuentran: la cefalometŕıa de Ricketts, la cefalometŕıa de McNamara y la cefalometŕıa de Steiner. Una descripción de éstas y algunas otras técnicas se encuentra en el art́ıculo de Barahora y Benavides [2]. En la práctica la mayoŕıa de los análisis se hacen sobre la radiograf́ıa lateral y muy pocos autores y/o profesionales de la ortodoncia han desarrollado técnicas para análisis frontal. Por esta razón, en este trabajo de tesis, se automatiza el trazado cefalométrico lateral, tomando en cuenta que la aplicación será directamente extendible a otro tipo de análisis. A continuación se describen las técnicas de cefalometŕıa lateral más usadas en la actualidad. 2.3.1. Cefalometŕıa lateral de Ricketts El análisis cefalométrico de Ricketts se inició en 1957, y desde esa fecha hasta nues- tros d́ıas ha experimentado un gran desarrollo, convirtiendose en un metodo complejo que utiliza varias incidencias y decenas de puntos cefalométricos. Este análisis consta de factores descriptivos agrupados en cuatro areas: 1. Posición del mentón en el espacio. 2. Posición del maxilar superior. 3. Posición de los dientes. 10 4. Análisis del perfil blando. Este análisis ofrece una información general de las anomaĺıas esqueléticas, dentales y estéticas mas importantes, desde el punto de vista diagnóstico, pronóstico y terapeutico. Algunas de las ventajas y cualidades del análisis cefalométrico lateral de Ricketts son: i) Aplicable a cualquier caso aportando datos expĺıcitos de la naturaleza del proble- ma. ii) Posibilidad de realizar pronóstico del tratamiento (OVT). iii) Posibilidad de realizar visualización del crecimiento. iv) Posibilidad de realizar objetivos del futuro tratamiento quirúrgico (STO). v) Analizado en una amplia muestra de casos cĺınicos, asegurando la confiabilidad de la norma cĺınica. vi) Se complementa con un análisis de la radiograf́ıa frontal. vii) Permita la diferenciación del biotipo facial. viii) Las normas son aplicables de acuerdo a la edad y sexo del paciente. ix) Las normas se aplican de acuerdo al grupo étnico del paciente. Para una descripción detallada de esta técnica se sugiere la lectura de [11]. 2.3.2. Cefalometŕıa lateral de McNamara James McNamara utilizó medidas obtenidas de otros analisis cefalométricos, prin- cipalmente de Ricketts y Harvold [17]. Su análisis mejora los métodos de ciruǵıa or- tognática y terapia funcional, en el que no solamente son posibles los cambios a nivel dentario, sino tambien a nivel óseo. Para algunos ortodoncistas, este análisis es más sencillo de elaborar. Se basó en cefalogramas obtenidos de tres grupos dintintos de pacientes con una buena armonia entre dientes, hueso y perfil blando. Los grupos estudiados fueron: niños comprendidos dentro del patrón de Bolton; niños del centro ortodóncico de Burlington y un grupo de 111 adultos jovenes tratados en la universidad de Michigan. El análi- sis de McNamara se realiza en una radiograf́ıa lateral, donde se busca diferenciar los componentes esqueléticos y dentoalveolares. Algunas de las caracteŕısticas de la cefalometŕıa lateral de McNamara son: Depende más de medidas lineales que angulares, lo cual facilita el estudio or- topédico, además que mejora la comunicación con pacientes y/o padres. 11 Analiza la relación intermaxilar no sólo en sentido sagital sino que le agrega el estudio de los cambios o alteraciones en sentido vertical. Cuantifica la incidencia de los cambios verticales en relación sagital. Es útil para estudiar superficialmente las v́ıas aéreas. 2.3.3. Cefalometŕıa lateral de Steiner En el 1953 Cecil Steiner presentó su análisis cefalométrico [4], el cual mejoró poste- riormente siguiendo lineamientos de diversos autores, entre ellos Wylie, Downs, Riedel, Brodie y Holdaway [19, 1, 18, 13] Este análisis se divide en cuatro factores: Análisis del esqueleto facial en realción a la base del cráneo. Relación entre el esqueleto facial y la base del cráneo. Posición de los dientes con respecto a los huesos basales. Análisis de los tejidos blandos. El análisis de Steiner usa como referencia la base craneana, representada por la linea SN (Silla-Nasion)[17]. El autor justifica su uso por el hecho de que ambos puntos se localizan en regiones óseas de fácil visualización, además de encontrarse en el plano sagital medio, siendo por tanto, puntos únicos. Además de eso Steiner pondera que por encontrarse en la base del cráneo, no sufrirán influencia de las alteraciones faciales. Los análisis cefalométricos, hasta la década de los 70, no admitian grandes cam- bios craneofaciales a través del tratamiento ortodóncico. Ahora bien, con el desarrollo de la ortodoncia, los nuevos conceptos respecto a la planificación y tratamiento or- todóncico, las nuevas técnicas de ciruǵıa ortognática y los modernos conceptos sobre las alteraciones cráneofaciales, se generaron nuevos formatos de las radiograf́ıas ce- falométricas, lo cual indujo a que fueran estudiadas de manera diferente. De todas las técnicas mencionadas, la cefalometŕıa lateral de Ricketts es la más usada, una vez que expresa los resultados haciendo mayor énfasis en las estructuras craneales del paciente. 12 Capı́tulo 3 Automatización del Trazado Cefalométrico Como hemos visto en el caṕıtulo anterior, la cefalometŕıa lateral es de especial utilidad en el campo de los tratamientos de ortodoncia, y existen pocas soluciones au- tomatizadas de este proceso, que sean amplias, flexibles y completas. Este hecho induce y motiva la idea de de crear un sistema o aplicación de software que cubra estos requeri- mientos. En este trabajo se analiza, desarrolla e implementa un software para la automati- zación del trazado cefalométrico, que permita al usuario (ortodoncista o técnico) utilizar el computador para dibujar las ĺıneas y puntos de referencia a f́ın de que se realicen los cálculos necesarios para producir un trazado digital y toda la información relevante que conduce al diagnóstico y posterior tratamiento. Este caṕıtulo describe las diversas actividades de planificación y desarrollo de este software. 3.1. Proceso de Trazado Debido a la particular importancia del trazado cefalométrico en el diagnóstico or- todóncico, el procedimiento automatizado debe contemplar todos los detalles del pro- ceso manual. En esta sección se describen los pasos que se siguen en la actualidad para producir el trazado. Para comenzar a trazar (o calcar), el ortodoncista (o técnico ortodoncista) dispone de los siguientes elementos: Radiográfia (lateral o frontal). Negatoscopio de luz fŕıa. Lámina de Acetato o papel vegetal. Lápices de Dibujo. 13 Protractor: Regla especial para medir trazados cefalométricos, que puede susti- tuirse por una regla milimetrada y un transportador. Cinta Adhesiva. Tijeras. Cartulina Negra. Figura 3.1: Materiales para el trazado. Con estos instrumentos, el ortodoncista ejecuta un procedimiento manual, que es en escencia dif́ıcil y que debe respetar cierta metodoloǵıa. El proceso de trazado o calco radiográfico requiere de cierta destreza para evitar que el trabajo se pierda. 1. Montaje del papel (o lámina de acetato) sobre la radiograf́ıa. Colocar la radiograf́ıa sobre el negatoscopio con el perfil orientado hacia la derecha, y colocar el papel dos o tres cent́ımetros por encima del punto nasion (entre los ojos) y dos o tres cent́ımetros por delante del punto pronasal(en la punta de la nariz). El papel se fija sobre la radiograf́ıa usando cinta adhesiva transparente, de manera que el plano de Frankfort quede paralelo a uno de los bordes del papel y perpendicular al otro. La incorrecta orientación de la radiograf́ıa puede dificultar la evaluación. 2. Visualización de las diferentes áreas. Con el objeto de distinguir claramente ciertas estructuras, se ajusta el reóstato del negatoscopio para controlar el flujo lumı́nico a través de la peĺıcula; también se puede usar una cartulina negra para cubrir áreas muy luminosas que provocan deslumbramiento, impidiendo ver con claridad. 3. Trazado cefalométrico lateral. 14 Figura 3.2: Tejidos blandos. Primero se realiza el trazado de los tejidos blandos (ver figura 3.2), y esto significa, delinear, o trazar una ĺınea desde la frente hasta el menton. Esto puede hacerse en dos pasos, trazar una ĺınea desde la frente hasta el labio superior y luego otra desde el labio inferior hasta el mentón. Luego, se trazan los tejidos duros, es decir los huesos. Es necesario dibujar ĺıneas que pasen por la fosa pterigomaxilar, maxilar superior, mand́ıbula y silla turca; y también ĺıneas que pasen por los puntos nasión y orbital. Al dibujar el contorno maxilar debe determinarse con exactitud la espina nasal anterior y el borde de la pared alveolar donde se ubica el punto A. Se requiere de mucha precisión para calcar esta zona. Figura 3.3: Tejidos duros. Dependiendo del tipo de análisis que se desee realizar se requieren ĺıneas adicionales; por ejemplo, si se trata de un análisis lateral de Ricketts se debe 15 dibujar el eje condilar y la proyeccin del plano que pasa por los puntos basion y nasion. 4. Análisis Cefalométrico Una vez que se tienen identificadas las estructuras externas e internas y que se han dibujado todas las ĺıneas necesarias, se procede a la parte final del trazado, que conlleva la obtención de medidas y ángulos que se compararán posteriormente con normas preestablecidas que dependen de la edad de la edad, la raza, o el sexo del paciente y también del tipo de análisis seleccionado. Figura 3.4: Trazado Cefalométrico. La figura 3.4 muestra una imagen del proceso. Poco se ha hecho por la automatización de este procedimiento; sin embargo, ha habido avances significativos en esta dirección, algunos de los cuales se describen en la proxima sección. 3.2. Automatización del trazado La motivación fundamental para automatizar este proceso es el tiempo que toma realizar el trazado. En particular, el trazado manual de Ricketts pudiera tardar entre 15 y 45 minutos dependiendo de la experticia del ortodoncista. Adicionalmente, con- siderando que actualmente existen máquinas de rayos X digitales y también scanners especializados en radiografias, una propuesta de automatización de este proceso es bien recibida por la comunidad de ortodoncistas. Cabe hacer notar que actualmente existen muy pocas soluciones automatizadas de este proceso y en general no logran satisfacer todas las necesidades que cubre la propuesta 16 en este trabajo. En particular, mencionamos algunas de las más usadas, una de ellas desarrollada como un sistema web, utilizando applets; y otra definida como una apli- cación standalone. CephX El sistema CephX 1 permite el almacenaje y retiro de todas las historias relacionadas con tratamientos ortodónticos, que pueden ser accedidos en cualquier momento, en cualquier lugar donde se disponga de conexión a Internet. Entre las principales caracteŕısticas de este sistema tenemos las siguientes: Los análisis cefalométricos, fotos, radiograf́ıas, planes de tratamiento y hojas de trabajo se hacen accesibles a través computadora conectada a internet, utilizando un nombre de usuario y contraseña. El sistema permite organizar los archivos del paciente buscar y acceder a todos los registros relacionados al tratamiento. No es necesario instalar hardware o software constosos para usar cephX. Toda la data se respalda de manera segura y automatizada. Quick Ceph Studio Quick Ceph Systems fue fundada por el ortodoncista y especialista en software Gunther Blaseio D.M.D., M.S. en 1986. Desde su concepción, la compañ́ıa ha producido software de diagnóstico y tratamiento de pacientes para ortodoncistas y cirujanos maxilo-faciales. Desde la aparición del primer release hace dos décadas han aparecido cuatro nuevas versiones y actualmente su version Quick Ceph 2000 contiene avances significativos que incluyen: tratamiento computarizado, simulaciones, compresión de imágenes en jpeg y trazado de ĺıneas mejorado usando curvas de Bezier, obteniendo aśı una alta resolución en las imágenes. Este software, actualmente el más respetado en la planificación y tratamiento en ortodoncia, es ampliamente usado por ortodoncistas en todo el mundo, previa adquisi- ción de una licencia comercial cuyo costo es elevado, sin contar, que la plataforma de ejecucion está limitada a Mac OS X. Quick Ceph Studio ofrece configuraciones diferentes ajustes de la relación de los teji- dos blandos dependiendo del tipo facial de sus pacientes, para que pueda predecir con 1http://www.cephx.com 17 precisión como el contorno del tejido blando del paciente cambiará por el tratamiento proyectado. Estas relaciones de tejidos blandos son también definibles por el usuario, dandole total control sobre los parámetros del tratamiento. El resultado es una simu- lación precisa de cómo se veŕıa el paciente después del tratamiento. Existen otras soluciones comerciales que aún no abarcan todas las actividades cono- cidas del proceso, y la mayoŕıa proveen una interfaz dif́ıcil de utilizar. En este trabajo se propone una herramienta completa de trazado y análisis cefalométrico, que interactue con el usuario a través de una interfaz minimalista. 3.2.1. Solución propuesta En este trabajo de tesis se desarrolla un análisis que nos permite identificar requeri- mientos, e implementar una herramienta de software para automatizar el procedimiento de trazado y posterior análisis cefalométrico, tomando en cuenta las debilidades de las soluciones planteadas anteriormente y que brinde la oportunidad al usuario de realizar su propio trazado, seleccionando la técnica de su preferencia. También se pretende desarrollar un software de uso flexible, que permita facilmente ex- tensiones a futuro y sobre todo que funcione independiente de plataformas de hardware y/o software. La aplicación que se implementa en este trabajo satisface los siguientes requerimientos: 1. Permitir al usuario cargar una radiograf́ıa lateral previamente digitalizada. 2. Mostrar por pantalla la radiograf́ıa para que el usuario pueda introducir todos los puntos y ĺıneas referenciales para el trazado. 3. Permitir que el usuario edite y modifique las referencias. 4. Brindar al usuario la posibilidad de escoger el tipo de trazado que desea hacer. 5. Generar información de utilidad al ortodoncista, como un reporte con los resulta- dos de los cálculos obtenidos en el trazado, aśı como también una interpretación de los mismo. 6. Emitir recomendaciones para el tratamiento del paciente. 7. Generar una imagen con las ĺıneas, puntos y ángulos a escala real de la radiograf́ıa original. En el próximo caṕıtulo se describe la metodoloǵıa y los pasos en el desarrollo del software propuesto para automatizar el proceso de análisis cefalométrico. 18 Capı́tulo 4 Desarrollo del Software El proceso de desarrollo de un software contempla las actividades de análisis, diseño, codificación, pruebas e instalación de producto o aplicación; y cada una de estas etapas debe llevarse a cabo respetando ciertos estandares para que se garanticen una solución eficaz y práctica que satisfaga los requerimientos del los usuarios. Para desarrollar el software de esta investigación se adoptó uno de los modelos de pro- cesos más utilizados, el modelo de proceso espiral, propuesto inicialmente por Boehm[3], el cual se caracteriza por ser un modelo evolutivo que permite el desarrollo rápido en versiones incrementales. Las actividades observadas en la figura 4.1 se consideran las mı́nimas necesarias para elaborar un software según Pressman[12], estableciendo un marco de trabajo genérico que puede ser aplicado en cualquier otro modelo del proceso. Figura 4.1: Modelo espiral iterativo. Dentro de las actividades ejecutadas en el proceso de desarrollo del software se encuentran las siguientes: 1. Captura de requerimientos: En esta actividad se obtienen los requisitos funda- 19 mentales que debe satisfacer el software. En el software propuesto tales requisitos fueron definidos para garantizar que el usuario pudiera: Cargar una radiograf́ıa. Introducir los puntos y ĺıneas necesarios para la realización del trazado. Seleccionar entre los trazados de Ricketts, McNamara y Steiner, la técnica de su agrado. Obtener una imagen con el trazado. Obtener resultados de las medidas realizadas. 2. Planeación: Evaluación de las actividades, riesgos y recursos. En esta etapa se evaluaron varias opciones de lenguajes de programacion y finalmente se encon- tró que el lenguaje y ambiente de programación que ofrece Java provee los ele- mentos necesarios para el desarrollo que se desea en este trabajo. Un estudio de las soluciones existentes (QuickCeph, CephX), presentadas en el caṕıtulo anterior, nos permitió evaluar los riesgos, factibilidad, recursos, la plataforma de trabajo y ejecución, y otros elementos. Como resultado de esta evaluación se estableció un cronograma de trabajo. 3. Modelado: Se define formalmente la arquitectura del software. El patron MVC (Modelo Vista Controlador) creado por Reenskaug[14] consiste en desarrollar una capa de abstraccion sobre los datos para facilitar su manipulación. Para lograrlo, se definen tres capas: la vista; encargada de presentar los datos de forma amigable, el controlador; que captura las acciones que ocurren en la vista y notifica al modelo y el modelo; que representa los datos con los que funciona el sistema. En este trabajo, la capa de la vista se corresponde con la interfaz gráfica de usuario, la capa controlador corresponde a los manejadores de los eventos de introducción de datos, y la capa de modelo se corresponde a los cálculos necesarios para generar los trazados y los análisis. La interfaz gráfica está dividida en cuatro paneles principales. El panel izquierdo, mostrado en la figura 4.2 (izq.), es donde se refleja de manera inmediata los resultados de los cálculos del trazado realizado. El panel derecho, que se muestra en la figura 4.2 (der.), contiene información de ayuda y gúıa para el usuario, en él se encuentra una etiqueta con el nombre del punto a introducir, una imagen miniatura donde se ilustra la ubicación de dicho punto sobre la radiograf́ıa, un área de texto donde se provee in- formación necesaria para la correcta interacción con el programa aśı como una breve descripción del punto o ĺınea a trazar, y finalmente un campo de texto donde el usuario puede introducir manualmente la resolución de la imagen de entrada. En el panel central, señalado en la figura (4.3), se desplega la imagen cargada y se muestran los puntos y ĺıneas introducidas por el usuario, aśı como también los puntos y ĺıneas calculadas por el modelo. 20 Figura 4.2: Panel izquerdo: Resultados del trazado. Panel derecho: Guia para el usuario Figura 4.3: Panel Central. Muestra la imagen con ĺıneas y puntos 21 También se dispone de un panel inferior, (ver figura 4.4), que contiene los botones para seleccionar la actividad a realizar, dentro de las cuales se ofrecen: Cargar la imagen: Permite al usuario buscar, cargar y desplegar en pantalla, una imagen de radiograf́ıa en formato jpeg. Digitalizar los puntos: Opción que inicia la interacción con el usuario, para que éste introduzca o señale los puntos de interés dentro de la radiograf́ıa. Generar un trazado: Opción que permite al usuario ordenar el trazado una vez que ha introducido todos los puntos y ĺıneas requeridos. Obtener una imagen de salida que contenga el resumen de los cálculos: El usuario puede guardar o imprimir los resultados del trazado (imágenes e información de los cálculos). Ocultar las ĺıneas del trazado para sólo ver los puntos: Opción que facilita la interacción entre el usuario y el software. Editar los puntos: El usuario puede correguir la posición de los puntos o la ubi- cación y/o forma de las ĺıneas. Figura 4.4: Panel inferior. Muestra el menú de actividades a realizar Dentro de las actividades previas al desarrollo del software, se estudiaron y analizaron los eventos que debe manejar el controlador. Estos eventos aśı como también una descripción de las acciones a seguir se describen a continuación: 1. Cargar imagen: Cuando el usuario presiona o hace clic en este botón, el controlador debe llamar al diálogo de abrir archivo y enviarle, tanto a la vista como al modelo, la ruta de la imagen sobre la cual se trabajará. 2. Digitalizar puntos: Al hacer clic en el botón de digitalizar puntos, el controlador activa los componentes del panel derecho para que se despliegue la información de ayuda correspondiente al primer punto a digitalizar. Además debe esperar por los siguientes cliks que se harán sobre la imagen para ir capturando las coordenadas de los siguientes puntos y ĺıneas. Finalmente, debe enviar esta información al modelo. 3. Trazar: Al presionar el botón trazar, el controlador ordena a la vista el despliegue de un sub menú para que el usuario seleccione la técnica de trazado de su prefe- rencia. Una vez hecha esta selección, el controlador notifica al modelo para que realice los cálculos pertinentes. Cuando el modelo termina con los cálculos, éstos 22 son tomados por el controlador y enviados a la vista, la cual desplega los resultados en el panel izquierdo. 4. Plantillas: Si se apunta y presiona el botón plantillas, el controlador ordena a la vista el despliege de un sub menú para que el usuario seleccione una de las plantillas disponibles. Una vez seleccionada la plantilla, el controlador solicita al modelo que genere los cálculos necesarios para producir la plantilla y una vez que recibe los resultados del modelo se los env́ıa a la vista para ser desplegados en una nueva ventana. 5. Ocultar ĺıneas: Al presionar el botón Esconder Ĺıneas el controlador ordena a la vista que detenga el despliegue de las ĺıneas por pantalla. Si se pulsa el botón nuevamente, el controlador ordena a la vista la reactivación del despliegue. 6. Editar puntos: Al presionar el botón Editar Puntos el controlador activa el modo de edición, en el cual captura cada movimiento que hace el puntero del ratón sobre el panel central, para comprobar si el cursor se encuentra ubicado a lo sumo a tres ṕıxeles alrededor de alguno de los puntos editables. En caso afirmativo, el controlador env́ıa un mensaje a la vista indicando que cambie la imagen del cursor señalando al usuario que está ubicado sobre un punto editable. En este estado, el usuario puede arrastrar el punto, y a medida que lo hace el controlador le indica al modelo que actualice la posición, y env́ıa un mensaje a la vista para que despliegue la nueva posición del punto. 7. Calibrar: Al hacer clic sobre el botón calibrar el controlador le env́ıa un mensaje a la vista para que despliegue en el panel derecho la información de ayuda corres- pondiente al proceso de calibración. Al mismo tiempo espera hasta que el usuario haga dos clics sobre la imagen, y cuando esto pasa, ordena a la vista a desplegar un diálogo donde inquiere al usuario sobre la distancia en miĺımetros que hay entre los puntos introducidos, y una vez que el usuario introduce esos datos, el controlador pasa al modelo la información sobre la resolución de la imagen. 8. Magnificar: Al pulsar el botón magnificar, el controlador indica a la vista que entre en modo “magnificador”, de esta manera cuando el usuario mueva el puntero sobre la imagen, la vista debe magnificar esa porción de la imagen cuyo, centro es la posición del puntero. 9. Editar Imagen: Al hacer clic en el botón editar imagen el controlador ordena a la vista a desplegar un diáglogo con seis botones. De acuerdo a la escogencia del usuario, el controlador env́ıa parámetros de modificación de la imagen a la vista para que se despliegue la imagen modificada. 23 4.1. Consideraciones de Implementación Para la generación del código fuente se utilizó el entorno de desarrollo integrado Eclipse, en su versión para desarrolladores Java. La razón para escoger el lenguaje de programación orientado a objetos Java es su soporte multiplataformas que permite realizar pruebas con testers de toda clase sin restricciones de plataforma; además de la gran facilidad para conseguir ejemplos codificados y documentados, que permiten la rápida implementación ded de las funcionalidades que se requieren en la aplicación pro- puesta. Una vez que se culminó el desarrollo del software propuesto, se procedió a comparar los resultados del mismo con los resultados obtenidos de trazar la misma radiograf́ıa de manera manual. Este proceso permitió una clara evaluación y entonación de la pro- puesta. Es importante señalar que el software captura los puntos necesarios para realizar el trazado en el espacio de coordenadas correspondiente al panel central. Este espa- cio generalmente es distinto al tamaño real de la imagen, razón por la cual se hizo necesaria la implementación de una transformación lineal antes de realizar los cálculos correspondientes, utilizando la siguiente fórmula xr = xp ∗ wr wp yr = yp ∗ hr hp donde (xp, yp) son las coordenadas del punto capturado en el panel central, wp, hp son las dimensiones del panel central, wr, hr son las dimensiones de la imagen original y (xr, yr) son las coordenadas del punto en el espacio de coordenadas original. Conjuntamente con el trazado sobre la imagen, el software contempla como salida unas plantillas (o “templates”) con información relevante sobre las medidas tomadas. Estas plantillas complementan el contexto bajo el cual el profesional ortodoncista genera un diagnóstico del paciente y sugiere el tratamiento adecuado. 4.1.1. Cálculo de elementos del trazado Los datos recogidos en las plantillas y que se generan después del trazado son de vital importancia en el diagnóstico y posterior tratamiento. Sus valores son producto de algunos cálculos que contemplan: distancia entre dos puntos, distancia entre un punto y una ĺınea (protección ortogonal u oblicua), ángulos e intersección de planos (o ĺıneas). La generalidad de estos cálculos se resume a continuación. Cálculo de distancias Las distancias entre dos puntos, o entre un punto y una recta fueron calculadas uti- 24 lizando la fórmula de Pitágoras d = √ (x1 − x2)2 + (y1 − y2)2 (4.1) En cuanto a la distancia entre puntos y planos (o ĺıneas), sean (x, y) las coordenadas de un punto cualquiera, y seas m y b la pendiente y el punto de corte con el eje y de la recta sobre la cual se desea proyectar el punto (x, y), cuando la distancia entre un punto y una ĺınea se realiza utilizando proyección perpendicular, el software calcula el punto proyectado siguiendo los siguientes pasos: 1. Calcular mp = −1/m, pendiente de la recta perpendicular a la ĺınea sobre la que se quiere proyectar el punto. Aunque se valida el valor de m contra un cero numérico, en la aplicación actual este caso no sucede. 2. Calcular bp = y −mpx, punto de corte con el eje y de la recta perpendicular. 3. Obtener (xp, yp) intersectando las rectas con la perpendicular que pasa por el punto (x, y) y utilizando el procedimiento antes descrito. 4. Calcular la distancia entre los puntos (xp, yp) y (x, y) aplicando (4.1). Las proyecciones oblicuas necesarias para los trazados implementados en este tra- bajo se reducen a proyecciones paralelas al eje de las abcisas o al eje de las ordenadas, las cuales son directamente implementables. Cálculo de ángulos Con respecto a los ángulos, éstos son determinados utilizando la fórmula α = arctan ∣∣∣∣ m1 −m21 +m1m2 ∣∣∣∣ (4.2) donde m1 y m2 son las pendientes de las rectas que definen ángulo a calcular. En caso de que una de las rectas sea vertical, la fórmula se simplifica a α = arctan ∣∣∣∣ 1m ∣∣∣∣ (4.3) donde m es la pendiente de la recta que no es vertical. Es importante señalar que α siempre será el menor de los dos ángulos que forman la intersección de las rectas, esto es α ≤ 90◦. Sin embargo, en los trazados cefalométricos pueden haber ángulos de interés mayores a 90◦ o numéricamente muy cercanos a 90◦, por lo que han de ser considerados de manera especial. Particularmente, cuando se calcula una medida angular de la profundidad facial1, en el análisis lateral de Ricketts, el software sigue el siguiente procedimiento: 1La profundidad facial es el ángulo entre el plano facial y el plano de Frankfort 25 1. Calcular m1 como la pendiente del plano facial (Nasion-Pogonio). 2. Calcular m2 como la pendiente del plano de Frankfort (Porion-Orbital). 3. Dadas las pendientes de las rectas involucradas, y α, el ángulo resultante de aplicar la fórmula (4.2), β el ángulo restulante de la fórmula (4.3) con la pendiente que se especifique, y sea θ el ángulo de la profundidad facial que se desea calcular, puede suceder uno de los siguientes casos, comprobados en este orden: En caso de que los puntos Nasion y Pogonio estén alineados verticalmente, el cálculo del ángulo se reduce a obtener β con m = m2 y m2 6= 0. Si m2 < 0 entonces el ángulo de la profundidad facial es θ = 180◦−β, en caso contrario es θ = β. Si m2 = 0, se obtiene que θ = 90 ◦. En caso de que los puntos Porion y Orbital esten alineados horizontalmente y Nasion y Pogonio no lo estén verticalmente, el cálculo del ángulo se realiza aplicando la fórmula para α. Luego si m1 < 0 entonces el ángulo de la profundidad facial es θ = 180◦ − α, en caso contrario es θ = α. En caso de que m1 > 0 y m2 > 0, tenemos que θ = α. En caso de que m1 < 0 y m2 < 0, tenemos que θ = 180 ◦ − α. En caso de que m1 y m2 sean de signos opuestos, calculamos mp = −1/m2 la pendiente de cualquier recta perpendicular al plano de Frankfort. Si mp > m1 entonces θ = α, y en caso contrario θ = 180◦ − α. En la figura (4.5) se visualiza en ángulo θ. Es importante destacar que existen puntos Figura 4.5: Cálculo de ángulo de la profundidad facial importantes dentro del trazado, que no son suministrados por el usuario y que son calculados de manera automática por el software, mediante la intersección de dos ĺıneas o puntos que cumplan condiciones especiales. Un ejemplo de ello lo constituye la obtención del punto más anterior del perfil superior (Pronasal) o la intersección entre el plano Basion-Nasion y el Eje facial que define el punto Centro craneal (CC). Para obtener el punto Centro craneal el software debe ejecutar los siguientes pasos: 26 1. Utilizando los puntos Basion y Nasion, obtener la pendiente m1 y el punto de corte con el eje y (b1) sobre el plano Basion-Nasion, utilizando la fórmula de la recta que pasa por dos puntos. 2. Calcular el punto Gnation interceptando el plano mandibular con el plano facial. 3. Obtener la pendiente (m2) y el punto de corte con el eje y (b2) del eje facial, utilizando la fórmula de la recta que pasa por dos puntos, en este caso los puntos Gnation (previamente calculado) y Pterigoideo. 4. Igualar las dos rectas obtenidas para hallar su punto de instersección. m1x+ b1 = m2x+ b2 m1x−m2x = b2 − b1 (m1 −m2)x = b2 − b1 x = b2 − b1 m1 −m2 5. Con el procedimiento usual de obtener el valor de x de una de las ecuaciones y sustituirlo en cualquiera de las otras para hallar el valor de y, obtenemos el punto de intersección buscado. Cálculo de ĺıneas curvas Otro cálculo de importancia dentro del trazado, que ameritó probar algunos modelos numéricos fue la obtención de ĺıneas curvas, como la del perfil. Despues de probar con modelos lineales y cuadráticos, se constató que la herramienta más eficiente para dibujar estas ĺıneas eran las curvas de Bezier de tercer orden B(t) = P0(1− t)3 + P1t(1− t)2 + P2t2(1− t) + P3t3, t ∈ [0, 1]. evaluadas utilizando el algoritmo de Horner para cada binomio. Para generar los puntos de control primero se obtienen una selecciona una serie de puntos pertenecientes a la trayectoria que define el usuario al mover el ratón, en el momento que se le solicita que dibuje las ĺınea. De estos puntos se selecciona un sub- conjunto de cardinalidad definida, igualmente espaciados; de esta manera los segmentos de curva tienen una continuidad de clase C0. Esto significa que pudieran generarse pi- cos indeseables al dibujar la ĺınea. Sin embargo, las pruebas han demostrado que en la mayoŕıa de los casos las curvas generadas por el usuario son suficientemente suaves y permiten obtener un trazado con la precisión visual deseada. El software desarrollado fue distribuido entre un grupo seleccionado de usuarios para su evaluación. De esta manera una muestra de los usuarios finales pudieron hacer sus respectivas observaciones y recomendaciones, las cuales contribuyeron a la mejora del software. 27 4.2. Casos de uso Un caso de uso representa las funciones que un sistema puede ejecutar, a petición del usuario. Describe los usos del sistema y su interacción con el usuario. A continuación se detallan algunos casos de uso del software desarrollado 1. Caso de uso: Cargar Radiograf́ıa. Descripción: El usuario selecciona una radiograf́ıa en formato jpg sobre la cúal se dibujará el trazado posteriormente. Actores: Técnico, Estudiante u Ortodoncista. Precondiciones: Ninguna. Flujo Normal: El usuario hace clic en cargar imagen para abrir el diálogo de selección de imagen. Selecciona una imagen que tenga disponible en algún dispositivo de almace- namiento. Confirma la selección haciendo doble clic sobre la imagen o haciendo clic sobre el botón “abrir” Poscondiciones: La radiograf́ıa ha sido desplegada en el panel central. 2. Caso de uso: Digitalizar Puntos. Descripción: El usuario le indica al software en qué coordenadas se encuentran los diferentes puntos y ĺıneas de interés. Actores: Técnico, Estudiante u Ortodoncista. Precondiciones: La imagen de la radiograf́ıa debe estar cargada. Flujo Normal: El usuario hace clic en digitalizar puntos, y se repite el siguiente procedi- miento hasta que todos los puntos y ĺıneas necesarios estén digitalizados. • El software le indica al usuario cuál es el punto o ĺınea que espera que digitalice. • El usuario hace clic sobre el punto que le fue solicitado, en caso de ser una ĺınea hace un clic para indicar el comienzo de la digitalización de la misma, mueve el ratón por toda la ĺınea y para indicar la finalización de la ĺınea hace de nuevo clic al final de la ĺınea. Poscondiciones: El software ha almacenado la información necesaria para generar los trazados. 3. Caso de uso: Escoger Análisis Descripción: El usuario selecciona uno de los análisis disponibles para realizar el trazado cefalométrico, entre: Ricketts, Macnamara y Steiner. 28 Actores: Técnico, Estudiante u Ortodoncista. Precondiciones: Los puntos y ĺıneas de referencia deben estar digitalizados. Flujo Normal: El usuario hace clic en el botón “Análisis” y el software despliega un menú. El usuario escoge el análisis deseado haciendo clic sobre el item correspon- diente. Poscondiciones: El trazado ha sido generado y dibujado en el panel central, los valores de las medidas se han desplegado en el panel izquierdo. 4. Caso de uso: Obtener Reporte Descripción: El usuario selecciona una de las plantillas para obtener la imagen de salida, que contiene el trazado y los valores de interés. Actores: Técnico, Estudiante u Ortodoncista. Precondiciones: Un análisis ha sido escogido. Flujo Normal: El usuario hace clic en el botón “Plantillas” y el software despliega un menú. El usuario escoge una plantilla de su preferencia presionando el item corres- pondiente. El software despliega una nueva ventana con la imagen de la plantilla desea- da. Poscondiciones: La imagen de salida ha sido generada. 5. Caso de uso: Editar Puntos Descripción: El usuario modifica uno de los puntos que ha digitalizado previa- mente y modifica su ubicación. Actores: Técnico, Estudiante u Ortodoncista. Precondiciones: Un análisis ha sido escogido. Flujo Normal: El usuario hace clic en el botón “Editar Puntos”. El usuario lleva el puntero hacia el punto que desea modificar. El software le indica que puede modificar ese punto a través de cambiar la forma del puntero de la estandar a una en forma de mano. El usuario hace clic y arrastra el punto a la posición deseada. El usuario suelta el clic para definir la nueva posición. El usuario hace clic de nuevo en el botón “Editar Puntos” para salir del modo de edición. 29 Poscondiciones: El (los) punto(s) ha(n) sido relocalizado(s). El análisis ha sido recalculado. 6. Caso de uso: Esconder/Mostrar Ĺıneas Descripción: El usuario le indica al software que desea ver o no las ĺıneas del trazado. Actores: Técnico, Estudiante u Ortodoncista. Precondiciones: Un análisis ha sido escogido. Flujo Normal: El usuario hace clic en el botón “Ocultar ĺıneas”. Poscondiciones: Las ĺıneas del trazado han sido Mostradas u Ocultadas según el estado inicial. 4.2.1. Ejemplo de aplicación A fin de evaluar comparativamente la precisión de los resultados obtenidos con la aplicación desarrollada a continuación presentamos un ejemplo real y reciente sobre la radiograf́ıa de un paciente cuyo tratamiento se lleva a cabo en la actualidad en un reconocido centro odontológico del páıs. En la figura 4.6 se presenta un trazado realizado manualmente sobre la radiograf́ıa del paciente. Una vez realizado este procedimiento que tardó alrededor de 20 minutos, el ordoncista procedió a calcular las medidas necesarias para el análisis lateral de Ricketts. Figura 4.6: Trazado manual La radiograf́ıa digital del mismo paciente, en formato jpg, fue cargada usando la opción Cargar una imagen del menú; luego se introdujeron los puntos de interés 30 seleccionando la opción con Digitalizar puntos, con el proposito de solicitar un análisis de Ricketts pulsando el botón Trazar. Una vez obtenido el trazado y usando la opción para general la plantilla se obtuvo la imágen que se presenta en la figura (4.7). Figura 4.7: Resultado del análisis: Plantilla Podemos notar en la tabla (4.1) como los cálculos hechos por el ortodoncista una vez realizado el trazado coinciden en gran medida con los cálculos realizados por la aplicación. Adicionalmente también se puede inferir que los cálculos de la aplicación son más confiables (o precisos) ya que fueron generados por el computador y no con herranientas como el transportados o la regla, los cuales estan sujetos a la apreciación del ortodoncista o el profesional que realice el trazado. 31 Cuadro 4.1: Puntos Referenciales Medidad Unidades Cálculo manual Software propuesto Diferencia Ant Cranial Base (mm) 56,0 56,0 0,0 Post Facial Ht (mm) 60,0 59,3 0,7 Cranial Deflect (deg) 26,5 26,1 0,4 Porion Location (mm) -44,5 -44,4 -0,1 Maxillary Depth (deg) 86,5 87,0 -0,5 Maxillary Height (deg) 52,0 51,6 0,4 Palatal Plane/Fh (deg) 6,0 6,5 -0,5 Facial Depth (deg) 85,0 84,6 0,4 Facial Axis (deg) 91,0 90,9 0,1 Mandibular Plane (deg) 21,0 21,6 -0,6 Total Facial Ht (deg) 54,0 53,6 0,4 Facial Taper (deg) 73,0 73,8 -0,8 Convexity (mm) 2,0 2,0 0,0 Corpus Length (mm) 67,0 67,1 -0,1 Mandibular Arc (deg) 32,0 32,4 -0,4 Lower Facial Height (deg) 41,0 40,9 0,1 Mx 1, to APo (mm) 6,5 6,9 -0,4 Mx 1, to APo (deg) 40,0 39,3 0,7 Mx 1, to FH (deg) 121,0 121,6 -0,6 Mx 6, to PTV (mm) 10,5 10,6 -0,1 Md 1, to APo Md 1, Inclination (deg) 22,0 22,4 -0,4 Md 1, Extrusion (mm) 4,0 3,8 0,2 Oc. Plane Height (mm) 1,0 0,6 0,4 Oc.Plane Inclination (deg) 18,0 18,8 -0,8 Molar Relation (mm) 3,5 3,8 -0,3 Incisor Overjet (mm) 7,0 6,9 0,1 Incisor Overbite (mm) 4,0 4,4 -0,4 Interincisor Angle (deg) 118,0 118,3 -0,3 Lower Lip E-Plane (mm) -1,5 -1,6 0,1 Upper Lip Length (mm) 27,0 26,7 0,3 Dist. Emb/Oc.Plane (mm) 0,5 0,6 -0,1 32 Capı́tulo 5 Conclusiones En este trabajo se analizó y desarrolló un software para automatizar el proceso de trazado en análisis cefalométrico. El diseño del software respeta las bases del modelo MVC y por lo tanto está conformado por tres partes fundamentales que se identifican en el modelo, la vista (o interfaz) y el controlador. El desarrollo siguió un proceso espiral, el cual aseguró la obtención de un software que satisface plenamente los requerimientos de usuario. El software propuesto tiene las siguentes ventajas prácticas sobre las aplicaciones existentes: Bajo costo computacional Independencia de la plataforma Adaptable a futuras incorporaciones de otros análisis y medidas Se dispone de una interfaz de usuario que aspira satisfacer un compromiso entre mi- nimalista y humanizada. En el diseño se contempló minimizar los errores del usuario; en ese sentido, la aplicación desabilita las funciones que pudieran generar un estado inconsistente. Las pruebas realizadas con varios usuarios, especialistas en el área de ortodoncia, re- sultaron satisfactorias, y confirman que los trazados no incrementan el margen de error de las imágenes digitalizadas. Se propone a futuro, formalizar estas pruebas con una herramienta formal de medición de estos conceptos. 5.1. Trabajo futuro Este trabajo marca el comienzo de una ĺınea de investigación a que contempla la extensión de este mismo programa a trazados cefalométricos frontales, y su utilización 33 en otros campos de la odontoloǵıa como lo es la ciruǵıa bucal o implantes de prótesis. En particular pudieran considerarse: Agregar nuevos análisis cefalométricos. Implementar estudios de predicción de crecimiento. Con respecto la estructura del software, estudiar su aplicabilidad en otros contex- tos y diseñar instrumentos para su evaluación. 34 Apéndice A Lista de tablas Cuadro A.1: Referencias Craneales Nombre del Punto Localización Basion (Ba) Es el centro del hueso occipital, localizado en el borde anterior del forúmen magnum, entre los cóndilos del occipital. Nasion (N) Es el punto mas anterior de la sutura frontonasal. Porion (P) El punto Porion está ubicado en la parte más superior del meato auditivo externo. Representa el centro del hueso temporal. Orbital (O) Al ser la órbita una estructura bilateral se recomienda promediar y seleccionar un punto único orbital, en el inferior del margen de la misma. Referencia Pterigoidea (Pr) Este punto es referencial y se selecciona en el lugar más posterior de la curvatura de la fisura pterigo maxilar. Al observarse las imágenes de las dos fisuras pterigomaxilares, se promedian y se dibuja solo una. Pterigoideo (Pt) not defined Silla Turca (S) Este punto se ubica en el punto medio de la fosa pi- tuitaria 35 Cuadro A.2: Referencias Mandibulares Nombre del Punto Localización Pogonio (Po o Pog) Está localizado en el punto más anterior del mentón. Sin embargo, esa superficie en circunstancias puede ser relativamenteplana y poco espećıfica vertical- mente. Protuberancia Menti (Pm) Está localizado en el tope del “trigonum mentali”. Pm se sitúa donde la cortical vestibular termina y donde el contorno supramental se convierte en proce- so alveolar. Gnation (Gn) Técnicamente, Gnation era el punto más inferior y anterior del mentón. En la práctica, se construye y selecciona a través de la intersección de dos planos: el Plano Facial con el Plano Mandibular. Mentón (M) Es el punto más bajo del borde o contorno inferior de la śınfisis. Punto Xi El punto Xi o Centroide geométrico de la rama mandibular se obtiene bisectando la altura y el an- cho de la rama. Subgonion (Sgo) Gonion por definición es el punto más inferior y pos- terior del ángulo de la mandúbula. El borde inferior del ángulo de la mandúbula se utiliza para construir el Plano mandibular y es denominado Subgonion. Punto Dc También abreviado D, es el punto medio del cuello del cóndilo, sobre el plano formado por los puntos Basion y Nasion. 36 Cuadro A.3: Referencias Maxilares Nombre del Punto Localización Espina Nasal Ante- rior (Ena) Es la punta de la espina nasal, corresponde al Acan- tion antropológico Espina Nasal Pos- terior (Enp) Es la intersección del piso nasal con la pared anterior de la fosa pterigopalatina Punto A Se selecciona usualmente el punto de mayor profun- didad en la curvatura del borde anterior de los maxi- lares. En el adulto normal, el punto A está práctica- mente paralelo al ápice de los incisivos centrales. Cuadro A.4: Referencias en la Dentición Nombre del Punto Localización Incisivo Inferior (B1) Seleccionamos la posición común más representativa de los centrales inferiores. Si un incisivo está desplaza- do vestibularmente, éste no representa la posición de toda la sección anterior. En general el promedio de los dos incisivos centrales es una buena alternativa de trabajo. Incisivo Superior (A1) Aśı como en el inferior, la posición común o prome- dio de los dos centrales superiores es una relación de trabajo adecuada. Primer Molar Infe- rior (B6) El primer molar inferior es un elemento básico para el diagnóstico, planificación, y para consideraciones de anclaje. La posición de ellos es promediada para tener una referencia común. Primer Molar Su- perior (A6) También los primeros molares superiores son prome- diados. Un problema usual son las subdivisiones, sin embargo, aún en estos casos es preferible promediar sus posiciones para el análisis cefalométrico. Caninos Los cuatro caninos son de suma importancia cĺınica y sus puntas o cúspides sirven de referencia para el análisis. 37 Cuadro A.5: Planos Nombre del Plano Descripción Plano Basion- Nasion Cuando se hace un corte a través del plano Basion- Nasion, Este plano corta la base de las apófisis pterigoideas, atraviesa el cuello del cóndilo y es pa- ralelo a la sutura cigomático-temporal. Este plano prácticamente separa la cara del cráneo. Plano Frankfort Desde Porion, como centro del temporal, orienta el centro de la audición y el equilibrio con el sentido de la vista a través de Orbital. Este plano en general es perpendicular a la sutura coronal. Plano Vertical Pterigoideo Se traza una perpendicular a Frankfort a través del punto Pr (Referencia Pterigoidea). Actúa como ĺınea separatoria de la cara de la base de las apófisis pterigoideas. Se orienta con la sutura coronal. Con frecuencia denominamos a este plano (PTV) como abreviatura de Vertical de la ráız Pterigoidea. 38 Cuadro A.6: Planos de la Cara Nombre del Plano Descripción Plano Facial Este tradicional Plano se construye al conectar los puntos Nasion y Pogonio. El ángulo formado entre este plano y Frankfort (ángulo Facial) es quizás la mejor expresión horizontal del mentón. Plano Mandibular Han sido empleados muchos Planos Mandibulares, pero el más simple y útil es a través del punto más inferior del ángulo de la rama mandibular (Pto. Sub- gonion (Sgo)) hasta el punto Menton el cual es el borde inferior de la śınfisis. Eje Facial El eje más central descubierto en la cara es la ĺınea desde el punto Pterigoideo (Pt) hasta Gnation (Gn). Plano Nasal Se construye conectando Nasion y el punto A (N- A). Este plano en el crecimiento normal se desplaza anteriormente casi sin inclinación. (Fig.30). Eje Condilar Una ĺınea desde Xi a través del punto “D” (mitad del cuello del cóndilo medido sobre el plano Basion- Nasion) hasta Condilion forma el Eje Condilar. Eje del Cuerpo Este plano se forma desde Protuberancia Menti (Pm), también conocido como Suprapogonio pasando por Xi y extendiéndolo hasta que cruce con el Plano Basion- Nasion para formar en la intersección el punto Ver- tigón (Ve). Plano Palatino Una ĺınea trazada desde la Espina Nasal Anterior has- ta la Espina Nasal Posterior representa el plano del paladar duro, el cual es el piso de la nariz y el techo de la boca. Plano A-Pogonio (A-Po) La ĺınea desde el Punto A al Punto Pogonio es un Plano de referencia para la retrusión o protrusión de los dientes anteriores. Es la mejor referencia en el ra- zonamiento del diagnóstico y en la planificación. 39 Bibliograf́ıa [1] AG, B. The fourth dimension in Orthodontia. Angle Orthod, 1954. [2] Barahona, J., and Benavides, J. Principales análisis cefalométricos utilizados para el diagnóstico ortodóntico. Revista Cient́ıfica Odontológica 2, 1 (2006), 11–27. [3] Boehm, B. A spiral model of software development and enhancement, vol. 11. 1986. [4] Brusola, J. A. C. Ortodoncia Cĺınica y Terapéutica. Masson, S.A. Ronda General Mitre, Barcelona (Espana), 2000. [5] CARLOS VILLAFRANCA, Félix; COBO PLANA, J. F. M. P. y. J. A. Cefalometŕıa de las v́ıas aéreas superiores (VAS) (en español), vol. 7. 2002. [6] Curioca, S., and Portillo, G. Determinación cĺınica y radiográfica del soma- totipo facial en pacientes pediátricos. Revista Odontológica Mexicana 15, 1 (2011), 8–13. [7] Graber, T., Vanarsdall, Jr., R., and Vig, K. Ortodoncia Principios y Técnicas Actuales. ELSEVIER, 2006. [8] Menéndez, L. Introducción al método arquial de predicción de crecimiento cráneo facial. Odontoloǵıa Sanmarquina 8, 1 (2004), 39–41. [9] Mercado, V., Castro, O., Ferrer, F., Naranjo, R., Benavides, P., and Egaa, G. Evaluación de la obstrucción adenoidea en niños: telerradiograf́ıa cefalométrica versus fibroscoṕıa. Rev. Otorrinolaringol. Cir. Cabeza Cuello 65 (2005), 15–22. [10] nas, M. S. Estudio cefalométrico comparativo para el diagnóstico del tipo de crecimiento facial. Rev. Cubana Ortod. 16, 1 (2001), 24–29. [11] Podaderas, Z., Rodŕıguez, F., Tamargo, T., and González, S. Estudio cefalométrico comparativo para el diagnóstico del tipo de crecimiento facial. Rev. Cubana Ortod. 40, 3 (2003), 24–29. 40 [12] Pressman, R. S. Ingenieŕıa del software, vol. 6. University of Connecticut, 2005. [13] RA, H. Changes in relationship of points A and B during orthodontic treatment. Angle Orthod, 1956. [14] Trygve, R. Models-Views-Controllers, 1979. [15] TUKASAN, P. C. Craniofacial analysis of the tweed foundation in angle class ii, division 1 malocclusion (en portugués). 69–75. [16] Uribe, G. Ortodoncia - Teoŕıa y Cĺınica. CIB (Corporación para Investigaciones Biológicas), 2004. [17] Vellini-Ferreria, F. Ortodoncia Diagnóstico y Planificación Cĺınica. Artes médicas Latinoamerica, Sao Paulo Brasil, 2002. [18] WB, D. Analysis of the dento-facial profile. Angle Orthod, 1947. [19] WL, W. The assessment of antero posterior dysplasia. Angle Orthod, 1947. [20] Zamora, C. Compendio de Cefalometŕıa: Análisis Cĺınico y Práctico. Amol- ca, Actualidades Médico Odontológicas Latinoamérica, C.A., Caracas, Venezuela, 2004. 41UNIVERSIDAD CENTRAL DE VENEZUELA FACULTAD DE CIENCIAS ESCUELA DE COMPUTACIÓN Automatización de Trazado Cefalométrico Lateral para el Diagnóstico en Ortodoncia Trabajo Especial de Grado presentado ante la ilustre Universidad Central de Venezuela por el Br. Jhonattan David Piña para optar al t́ıtulo de Licenciado en Computación Tutor: Dra. Zenaida Castillo Caracas, Venezuela Mayo 2011 Índice general 1. Introducción 5 2. Cefalometŕıa 7 2.1. Antecedentes . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 7 2.2. El trazado cefalométrico . . . . . . . . . . . . . . . . . . . . . . . . . . 8 2.3. Técnicas cefalométricas . . . . . . . . . . . . . . . . . . . . . . . . . . . 10 2.3.1. Cefalometŕıa lateral de Ricketts . . . . . . . . . . . . . . . . . . 10 2.3.2. Cefalometŕıa lateral de McNamara . . . . . . . . . . . . . . . . 11 2.3.3. Cefalometŕıa lateral de Steiner . . . . . . . . . . . . . . . . . . . 12 3. Automatización del Trazado Cefalométrico 13 3.1. Proceso de Trazado . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 13 3.2. Automatización del trazado . . . . . . . . . . . . . . . . . . . . . . . . 16 3.2.1. Solución propuesta . . . . . . . . . . . . . . . . . . . . . . . . . 18 4. Desarrollo del Software 19 4.1. Consideraciones de Implementación . . . . . . . . . . . . . . . . . . . . 24 4.1.1. Cálculo de elementos del trazado . . . . . . . . . . . . . . . . . 24 4.2. Casos de uso . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 28 4.2.1. Ejemplo de aplicación . . . . . . . . . . . . . . . . . . . . . . . 30 5. Conclusiones 33 5.1. Trabajo futuro . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 33 A. Lista de tablas 35 2 Índice de figuras 3.1. Materiales para el trazado. . . . . . . . . . . . . . . . . . . . . . . . . . 14 3.2. Tejidos blandos. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 15 3.3. Tejidos duros. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 15 3.4. Trazado Cefalométrico. . . . . . . . . . . . . . . . . . . . . . . . . . . . 16 4.1. Modelo espiral iterativo. . . . . . . . . . . . . . . . . . . . . . . . . . . 19 4.2. Panel izquerdo: Resultados del trazado. Panel derecho: Guia para el usuario 21 4.3. Panel Central. Muestra la imagen con ĺıneas y puntos . . . . . . . . . . 21 4.4. Panel inferior. Muestra el menú de actividades a realizar . . . . . . . . 22 4.5. Cálculo de ángulo de la profundidad facial . . . . . . . . . . . . . . . . 26 4.6. Trazado manual . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 30 4.7. Resultado del análisis: Plantilla . . . . . . . . . . . . . . . . . . . . . . 31 3 Índice de cuadros 2.1. Puntos Referenciales . . . . . . . . . . . . . . . . . . . . . . . . . . . . 9 2.2. Planos Referenciales . . . . . . . . . . . . . . . . . . . . . . . . . . . . 10 4.1. Puntos Referenciales . . . . . . . . . . . . . . . . . . . . . . . . . . . . 32 A.1. Referencias Craneales . . . . . . . . . . . . . . . . . . . . . . . . . . . . 35 A.2. Referencias Mandibulares . . . . . . . . . . . . . . . . . . . . . . . . . 36 A.3. Referencias Maxilares . . . . . . . . . . . . . . . . . . . . . . . . . . . . 37 A.4. Referencias en la Dentición . . . . . . . . . . . . . . . . . . . . . . . . . 37 A.5. Planos . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 38 A.6. Planos de la Cara . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 39 4 Capı́tulo 1 Introducción En las últimas décadas ha tomado gran importancia y se han masificado los tratamien- tos de Ortodoncia. La práctica del oficio se ha especializado, generando resultados alen- tadores en comunidades de niños, adolescentes y adultos. Es determinante el diagnóstico para poder establecer un correcto plan de tratamiento. El elemento de mayor relevancia en la evaluación diagnóstica es el trazado ce- falométrico, proceso mediante el cual se toma una rafiograf́ıa (lateral o frontal) del paciente, y sobre ella se dibujan (o trazan) puntos y ĺıneas de interés, que permiten calcular medidas y ángulos para determinar las caracteŕısticas óseas del paciente al comparar con normas establecidas. Esta comparación permite hacer un diagnóstico y proponer un tratamiento. Uno de los métodos más utilizados por los ortodoncistas en la actualidad, consiste en hacer un trazado de ĺıneas y puntos espećıficos sobre una radiograf́ıa lateral de acuerdo a una técnica previamente establecida, tal como la técnica de Ricketts, que es una de las más populares. La técnica de trazado, que en sus inicios fue completamente manual, ha ido evolu- cionando y en la actualidad se conocen algunas soluciones comerciales que automatizan este proceso. Sin embargo, estas soluciones aún no abarcan todas las actividades cono- cidas del proceso y algunas de ellas son dif́ıciles de obtener y/o de utilizar. En este trabajo se propone automatizar el trazado cefalométrico de radiograf́ıa late- ral, usando una radiograf́ıa digitalizada e información sumisnistrada por el usuario en un proceso interactivo a través de una interfaz gráfica. Se desarrollará un software de aplicación, con una interfaz gráfica basada en el mode- lo MVC (modelo, vista, controlador) mediante la cual el usuario (técnico u ortodoncista) introduce toda la información necesaria para el trazado que desea hacer sobre una ra- 5 diograf́ıa lateral del paciente ya digitalizada en un formato computacional apropiado. La aplicación generará todos los cálculos pertinentes al tipo de trazado para producir una imagen que contiene las ĺıneas y toda la información requerida para hacer el di- agnóstico. La herramienta debe brindar la oportunidad al ortodoncista de aplicar varias técnicas y generar información de interés para el futuro tratamiento. Después de un análisis de factibilidad, y considerando los requerimientos de usuario, se adoptó a Java como lenguaje para el desarrollo de una aplicación multiplataforma. La interfaz de usuario fue pensada para satisfacer criterios minimalistas y permitir al usuario hacer todo lo que se desee dentro del menor conjunto de posibilidades. Por otra parte, la aplicación fue diseñada para un conjunto reducido de usuarios: los ortodoncis- tas, técnicos de la ortodoncia o especialistas del área; y en lo posible ofrecer al usuario la mayor cantidad de usos junto con sus instrucciones. De esta manera, se establece un compromiso entre estos dos objetivos. Inicialmente la aplicación ofrece al usuario tres tipos de análisis cefalométrico, a saber: Ricketts, McNamara y Steiner, asi como también la posibilidad de generar infor- mación importante como: el cálculo de la norma-edad según la raza y sexo del paciente, la comparación de la medida del paciente trazado con su respectiva norma-edad y su interpretación. Se presentan en este documento varios casos de uso, entre ellos: 1. Cargar radiograf́ıa 2. Generar trazado 3. Generar plantillas Estos ejemplos de uso, nos ayudarán a describir el alcance de la aplicación. Evaluando las soluciones existentes y la propuesta de este trabajo podemos decir que se ha diseñado una aplicación pionera que automatiza el proceso de trazado ce- falométrico lateral, con la intervención controlada del usuario. Se plantea a futuro la extensión de esta aplicación hacia el estudio cefalométrico frontal; asi como también el incremento de funcionabilidades, como por ejemplo: la predicción de crecimiento según la estructura osea. El resto del documento está dividido de la siguiente manera: en el caṕıtulo 2 se es- tablecen los conceptos fundamentales de la cefalometŕıa, su importancia y aplicabilidad en la ortodoncia. En el caṕıtulo 3 se describe el proceso de automatización del análisis cefalométrico, asi como también las soluciones existentes en esa dirección. También se introduce las caracteŕısticas de la aplicación propuesta. El caṕıtulo 4 está destinado a una explicación amplia y detallada del desarrollo del software propuesto. Se describen las caracteŕısticas de la interfaz y los casos de uso. Finalmente, el caṕıtulo 5 presenta las conclusiones de este trabajo y las recomendaciones. 6 Capı́tulo 2 Cefalometŕıa Se conoce como cefalometŕıa al proceso de obtención, análisis y procesamiento, de medidas del cráneo humano. Los estudios cefalométricos tienen aplicación práctica en la evaluación de las v́ıas aéreas superiores[5], aśı como también para hacer seguimien- to de la maduración fetal por obstetricia. La cefalometŕıa también tiene utilidad en la elaboración de diagnósticos y en las evaluaciones de control y post-tratamiento en odontoloǵıa[15]. Este tipo de estudio es de particular importancia en el área de ortodoncia, donde es usado para obtener un conocimiento profundo de las estructuras óseas. Esto se logra después de medir estas estructuras, describirlas y analizar sus interrelaciones. 2.1. Antecedentes La cefalometŕıa tiene su origen a comienzos del siglo 20, un poco después de la aparición de los rayos X como técnica que permite observar las estructuras óseas a través de los tejidos blandos que las recubren. No pasó mucho tiempo de la invención del craneostato por Broadbent, en los años 1920-1930, cuando médicos e investigadores de la odontoloǵıa comienzan a definir estudios para determinar medidas cefalométricas. El propósito original en la construcción del craneostato fue investigar patrones de crecimiento del complejo craneofacial a fin de poder comparar un individuo con su grupo poblacional y establecer promedios con relación a género, raza y edad. Sin embargo, en la práctica, el instrumento tuvo otras aplicaciones, como el establecimiento de puntos y planos que sirven para establecer una base referencial de descripción morfológica, aśı como también para establecer una comparación longitudinal. Es aśı como surge el primer análisis cefalométrico en los años 1953-54 diseñado por Tweed [20], según mediciones hechas a pacientes tratados sin extracciones. Se publican a mediados de los años 50 diferentes art́ıculos comparando la morfoloǵıa de un paciente en varias etapas del tratamiento. 7 Después de una gran cantidad de mediciones en toda clase de pacientes durante unos treinta años, acompañados de numerosos análisis, se plantea la posibilidad de predecir el crecimiento y definir planes de tratamiento ortodóncico. Ricketts y McNamara proponen los primeros análisis cefalométricos efectivos y de amplia utilización en la actualidad. 2.2. El trazado cefalométrico La gran dificultad de la cefalometŕıa como técnica es el hecho de que ésta sólo pro- porciona información en dos planos del espacio, es por eso que el objetivo principal de un análisis cefalométrico es efectuar mediciones y obtener puntos referenciales que permitan predecir información necesaria a nivel volumétrico. La cefalometŕıa se realiza sobre un trazado de ĺıneas y ángulos fundamentales en una radiograf́ıa lateral o frontal, obtenida de la cara del paciente. Estas medidas son evaluadas según unas normas determinadas que permiten estandarizar los resultados y compararlos con patrones normales. Tal como su nombre lo sugiere, la cefalometŕıa frontal se realiza sobre una radiograf́ıa frontal del paciente; mientras que la lateral, sobre una radiograf́ıa lateral. La cefalometŕıa frontal se utiliza para el estudio de la simetŕıa de los componentes del complejo dentomaxilofacial. A continuación una lista de sus aplicaciones, las cuales son detalladas en [4, 16]: Para el diagnóstico diferencial de los casos de latero-desviaciones mandibulares y desviaciones de ĺıneas medias dentarias . Para la indicación y posterior evalución de trataminetos de expansión o disyunción del maxilar superior. Para el diagnóstico de malformaciones que puedan afectar distintas estructuras. Para la determinación del espesor de las ramas ascendentes mandibulares. Para el diagnóstico de estrechamiento de las vias aéreas superiores. Por otra parte, la cefalometŕıa lateral, que es la más usada en la actualidad, tiene diversas aplicaciones, algunas de las cuales se mencionan a continuación. Estudio del crecimiento craneofacial: repetición y reproducción de las estructuras del paciente. Superposición de trazados para estudiar su crecimiento, ver por ejemplo [8, 10]. Diagnóstico de posibles patoloǵıas especiales, tales como dilaceraciones, trauma- tismos hipertrofias adenoideas[9]. 8 Evaluación del espacio nasofaŕıngeo [5]. Diagnóstico de anomaĺıas cráneo-faciales (dólicofacial y braquifacial) [6] Seguimiento y evaluación de los resultados obtenidos en tratamientos de ortodon- cia [7]. La herramienta fundamental de un análisis en ortodoncia es el trazado cefalométrico, que no es más que una serie de ĺıneas y ángulos sobre una radiograf́ıa frontal o lateral del paciente. Este trazado se analiza usando normas aceptadas que nos permiten comparar los resultados con patrones normales. Existen diferentes metodoloǵıas o técnicas para hacer y analizar un trazado cefalométrico, cada una de las cuales requiere identificar ciertas ĺıneas o planos de referencia y puntos de interés sobre la radiograf́ıa. A conti- nuación se mencionan, de acuerdo su ubicación, las referencias utilizadas para realizar un trazado cefalométrico: 1. Referencias craneales. 2. Referencias mandibulares. 3. Referencias maxilares. 4. Referencias en la dentición. 5. Tejidos blandos. Cada una de esta referencias tiene asociado un conjunto de puntos. La tabla 2.1 contiene la especificación de estos puntos en cada referencia Cuadro 2.1: Puntos Referenciales Craneales Mandibulares Maxilares Dentales Tejidos Blandos Basion (Ba) Pogonio (Po) Espina nasal Incisivo Inf corona columnela Nacion (N) Suprapogonio (Pm) anterior (ENA) Incisivo Inf ráız subnasal Porion (P) Gnation (Gn) Espina nasal Incisivo Sup corona pronasal Orbital (O) Mentón (M) posterior (ENP) Incisivo Sup ráız propogonio Pterigoidea (Pr) Centroide (Xi) Punto A Molar Inf distal comisura Pterigoideo (Pt) Subgonion (Sgo) Molar Inf mesial labio inferior Silla turca (S) Condilar (Dc) Molar Sup mesial labio superior Centro Craneal(CC) Punto B Oclusal Centro Facial (CF) Articular (Ar) Condilion (Co) R1, R2, R3, R4 Gnation anatómico Supragonion Una descripción detallada de la ubicación e importancia de estos puntos puede ha- llarse el apéndice A. 9 Adicionalmente, los análisis cefalométricos hacen uso de la información proveniente de algunos planos y su intersección con partes del cráneo. La tabla 2.2 señala algunos planos que han probado ser de mayor utilidad y valor substancial en los análisis ce- falométricos. Cuadro 2.2: Planos Referenciales Base Craneal Planos de la cara BC anterior Plano Nasal BC posterior Plano Frankfort Cóndilo Posterior Ref Dentición Plano SN Plano Oclusal Plano Mandibular Linea Estética Plano Nasal 2.3. Técnicas cefalométricas La cefalometŕıa no es exacta, debido a la dificultad para localizar los puntos y la imprecisión de los exploradores a la hora de encontrarlos, y esto constituye uno de los retos de este tipo de trabajo. Existen diversos esquemas o técnicas que permiten definir e interpretar el trazado, y entre los más populares sen encuentran: la cefalometŕıa de Ricketts, la cefalometŕıa de McNamara y la cefalometŕıa de Steiner. Una descripción de éstas y algunas otras técnicas se encuentra en el art́ıculo de Barahora y Benavides [2]. En la práctica la mayoŕıa de los análisis se hacen sobre la radiograf́ıa lateral y muy pocos autores y/o profesionales de la ortodoncia han desarrollado técnicas para análisis frontal. Por esta razón, en este trabajo de tesis, se automatiza el trazado cefalométrico lateral, tomando en cuenta que la aplicación será directamente extendible a otro tipo de análisis. A continuación se describen las técnicas de cefalometŕıa lateral más usadas en la actualidad. 2.3.1. Cefalometŕıa lateral de Ricketts El análisis cefalométrico de Ricketts se inició en 1957, y desde esa fecha hasta nues- tros d́ıas ha experimentado un gran desarrollo, convirtiendose en un metodo complejo que utiliza varias incidencias y decenas de puntos cefalométricos. Este análisis consta de factores descriptivos agrupados en cuatro areas: 1. Posición del mentón en el espacio. 2. Posición del maxilar superior. 3. Posición de los dientes. 10 4. Análisis del perfil blando. Este análisis ofrece una información general de las anomaĺıas esqueléticas, dentales y estéticas mas importantes, desde el punto de vista diagnóstico, pronóstico y terapeutico. Algunas de las ventajas y cualidades del análisis cefalométrico lateral de Ricketts son: i) Aplicable a cualquier caso aportando datos expĺıcitos de la naturaleza del proble- ma. ii) Posibilidad de realizar pronóstico del tratamiento (OVT). iii) Posibilidad de realizar visualización del crecimiento. iv) Posibilidad de realizar objetivos del futuro tratamiento quirúrgico (STO). v) Analizado en una amplia muestra de casos cĺınicos, asegurando la confiabilidad de la norma cĺınica. vi) Se complementa con un análisis de la radiograf́ıa frontal. vii) Permita la diferenciación del biotipo facial. viii) Las normas son aplicables de acuerdo a la edad y sexo del paciente. ix) Las normas se aplican de acuerdo al grupo étnico del paciente. Para una descripción detallada de esta técnica se sugiere la lectura de [11]. 2.3.2. Cefalometŕıa lateral de McNamara James McNamara utilizó medidas obtenidas de otros analisis cefalométricos, prin- cipalmente de Ricketts y Harvold [17]. Su análisis mejora los métodos de ciruǵıa or- tognática y terapia funcional, en el que no solamente son posibles los cambios a nivel dentario, sino tambien a nivel óseo. Para algunos ortodoncistas, este análisis es más sencillo de elaborar. Se basó en cefalogramas obtenidos de tres grupos dintintos de pacientes con una buena armonia entre dientes, hueso y perfil blando. Los grupos estudiados fueron: niños comprendidos dentro del patrón de Bolton; niños del centro ortodóncico de Burlington y un grupo de 111 adultos jovenes tratados en la universidad de Michigan. El análi- sis de McNamara se realiza en una radiograf́ıa lateral, donde se busca diferenciar los componentes esqueléticos y dentoalveolares. Algunas de las caracteŕısticas de la cefalometŕıa lateral de McNamara son: Depende más de medidas lineales que angulares, lo cual facilita el estudio or- topédico, además que mejora la comunicación con pacientes y/o padres. 11 Analiza la relación intermaxilar no sólo en sentido sagital sino que le agrega el estudio de los cambios o alteraciones en sentido vertical. Cuantifica la incidencia de los cambios verticales en relación sagital. Es útil para estudiar superficialmente las v́ıas aéreas. 2.3.3. Cefalometŕıa lateral de Steiner En el 1953 Cecil Steiner presentó su análisis cefalométrico [4], el cual mejoró poste- riormente siguiendo lineamientos de diversos autores, entre ellos Wylie, Downs, Riedel, Brodie y Holdaway [19, 1, 18, 13] Este análisis se divide en cuatro factores: Análisis del esqueleto facial en realción a la base del cráneo. Relación entre el esqueleto facial y la base del cráneo. Posición de los dientes con respecto a los huesos basales. Análisis de los tejidos blandos. El análisis de Steiner usa como referencia la base craneana, representada por la linea SN (Silla-Nasion)[17]. El autor justifica su uso por el hecho de que ambos puntos se localizan en regiones óseas de fácil visualización, además de encontrarse en el plano sagital medio, siendo por tanto, puntos únicos. Además de eso Steiner pondera que por encontrarse en la base del cráneo, no sufrirán influencia de las alteraciones faciales. Los análisis cefalométricos, hasta la década de los 70, no admitian grandes cam- bios craneofaciales a través del tratamiento ortodóncico. Ahora bien, con el desarrollo de la ortodoncia, los nuevos conceptos respecto a la planificación y tratamiento or- todóncico, las nuevas técnicas de ciruǵıa ortognática y los modernos conceptos sobre las alteraciones cráneofaciales, se generaron nuevos formatos de las radiograf́ıas ce- falométricas, lo cual indujo a que fueran estudiadas de manera diferente. De todas las técnicas mencionadas, la cefalometŕıa lateral de Ricketts es la más usada, una vez que expresa los resultados haciendo mayor énfasis en las estructuras craneales del paciente. 12 Capı́tulo 3 Automatización del Trazado Cefalométrico Como hemos visto en el caṕıtulo anterior, la cefalometŕıa lateral es de especial utilidad en el campo de los tratamientos de ortodoncia, y existen pocas soluciones au- tomatizadas de este proceso, que sean amplias, flexibles y completas. Este hecho induce y motiva la idea de de crear un sistema o aplicación de software que cubra estos requeri- mientos. En este trabajo se analiza, desarrolla e implementa un software para la automati- zación del trazado cefalométrico, que permita al usuario (ortodoncista o técnico) utilizar el computador para dibujar las ĺıneas y puntos de referencia a f́ın de que se realicen los cálculos necesarios para producir un trazado digital y toda la información relevante que conduce al diagnóstico y posterior tratamiento. Este caṕıtulo describe las diversas actividades de planificación y desarrollo de este software. 3.1. Proceso de Trazado Debido a la particular importancia del trazado cefalométrico en el diagnóstico or- todóncico, el procedimiento automatizado debe contemplar todos los detalles del pro- ceso manual. En esta sección se describen los pasos que se siguen en la actualidad para producir el trazado. Para comenzar a trazar (o calcar), el ortodoncista (o técnico ortodoncista) dispone de los siguientes elementos: Radiográfia (lateral o frontal). Negatoscopio de luz fŕıa. Lámina de Acetato o papel vegetal. Lápices de Dibujo. 13 Protractor: Regla especial para medir trazados cefalométricos, que puede susti- tuirse por una regla milimetrada y un transportador. Cinta Adhesiva. Tijeras. Cartulina Negra. Figura 3.1: Materiales para el trazado. Con estos instrumentos, el ortodoncista ejecuta un procedimiento manual, que es en escencia dif́ıcil y que debe respetar cierta metodoloǵıa. El proceso de trazado o calco radiográfico requiere de cierta destreza para evitar que el trabajo se pierda. 1. Montaje del papel (o lámina de acetato) sobre la radiograf́ıa. Colocar la radiograf́ıa sobre el negatoscopio con el perfil orientado hacia la derecha, y colocar el papel dos o tres cent́ımetros por encima del punto nasion (entre los ojos) y dos o tres cent́ımetros por delante del punto pronasal(en la punta de la nariz). El papel se fija sobre la radiograf́ıa usando cinta adhesiva transparente, de manera que el plano de Frankfort quede paralelo a uno de los bordes del papel y perpendicular al otro. La incorrecta orientación de la radiograf́ıa puede dificultar la evaluación. 2. Visualización de las diferentes áreas. Con el objeto de distinguir claramente ciertas estructuras, se ajusta el reóstato del negatoscopio para controlar el flujo lumı́nico a través de la peĺıcula; también se puede usar una cartulina negra para cubrir áreas muy luminosas que provocan deslumbramiento, impidiendo ver con claridad. 3. Trazado cefalométrico lateral. 14 Figura 3.2: Tejidos blandos. Primero se realiza el trazado de los tejidos blandos (ver figura 3.2), y esto significa, delinear, o trazar una ĺınea desde la frente hasta el menton. Esto puede hacerse en dos pasos, trazar una ĺınea desde la frente hasta el labio superior y luego otra desde el labio inferior hasta el mentón. Luego, se trazan los tejidos duros, es decir los huesos. Es necesario dibujar ĺıneas que pasen por la fosa pterigomaxilar, maxilar superior, mand́ıbula y silla turca; y también ĺıneas que pasen por los puntos nasión y orbital. Al dibujar el contorno maxilar debe determinarse con exactitud la espina nasal anterior y el borde de la pared alveolar donde se ubica el punto A. Se requiere de mucha precisión para calcar esta zona. Figura 3.3: Tejidos duros. Dependiendo del tipo de análisis que se desee realizar se requieren ĺıneas adicionales; por ejemplo, si se trata de un análisis lateral de Ricketts se debe 15 dibujar el eje condilar y la proyeccin del plano que pasa por los puntos basion y nasion. 4. Análisis Cefalométrico Una vez que se tienen identificadas las estructuras externas e internas y que se han dibujado todas las ĺıneas necesarias, se procede a la parte final del trazado, que conlleva la obtención de medidas y ángulos que se compararán posteriormente con normas preestablecidas que dependen de la edad de la edad, la raza, o el sexo del paciente y también del tipo de análisis seleccionado. Figura 3.4: Trazado Cefalométrico. La figura 3.4 muestra una imagen del proceso. Poco se ha hecho por la automatización de este procedimiento; sin embargo, ha habido avances significativos en esta dirección, algunos de los cuales se describen en la proxima sección. 3.2. Automatización del trazado La motivación fundamental para automatizar este proceso es el tiempo que toma realizar el trazado. En particular, el trazado manual de Ricketts pudiera tardar entre 15 y 45 minutos dependiendo de la experticia del ortodoncista. Adicionalmente, con- siderando que actualmente existen máquinas de rayos X digitales y también scanners especializados en radiografias, una propuesta de automatización de este proceso es bien recibida por la comunidad de ortodoncistas. Cabe hacer notar que actualmente existen muy pocas soluciones automatizadas de este proceso y en general no logran satisfacer todas las necesidades que cubre la propuesta 16 en este trabajo. En particular, mencionamos algunas de las más usadas, una de ellas desarrollada como un sistema web, utilizando applets; y otra definida como una apli- cación standalone. CephX El sistema CephX 1 permite el almacenaje y retiro de todas las historias relacionadas con tratamientos ortodónticos, que pueden ser accedidos en cualquier momento, en cualquier lugar donde se disponga de conexión a Internet. Entre las principales caracteŕısticas de este sistema tenemos las siguientes: Los análisis cefalométricos, fotos, radiograf́ıas, planes de tratamiento y hojas de trabajo se hacen accesibles a través computadora conectada a internet, utilizando un nombre de usuario y contraseña. El sistema permite organizar los archivos del paciente buscar y acceder a todos los registros relacionados al tratamiento. No es necesario instalar hardware o software constosos para usar cephX. Toda la data se respalda de manera segura y automatizada. Quick Ceph Studio Quick Ceph Systems fue fundada por el ortodoncista y especialista en software Gunther Blaseio D.M.D., M.S. en 1986. Desde su concepción, la compañ́ıa ha producido software de diagnóstico y tratamiento de pacientes para ortodoncistas y cirujanos maxilo-faciales. Desde la aparición del primer release hace dos décadas han aparecido cuatro nuevas versiones y actualmente su version Quick Ceph 2000 contiene avances significativos que incluyen: tratamiento computarizado, simulaciones, compresión de imágenes en jpeg y trazado de ĺıneas mejorado usando curvas de Bezier, obteniendo aśı una alta resolución en las imágenes. Este software, actualmente el más respetado en la planificación y tratamiento en ortodoncia, es ampliamente usado por ortodoncistas en todo el mundo, previa adquisi- ción de una licencia comercial cuyo costo es elevado, sin contar, que la plataforma de ejecucion está limitada a Mac OS X. Quick Ceph Studio ofrece configuraciones diferentes ajustes de la relación de los teji- dos blandos dependiendo del tipo facial de sus pacientes, para que pueda predecir con 1http://www.cephx.com 17 precisión como el contorno del tejido blando del paciente cambiará por el tratamiento proyectado. Estas relaciones de tejidos blandos son también definibles por el usuario, dandole total control sobre los parámetros del tratamiento. El resultado es una simu- lación precisa de cómo se veŕıa el paciente después del tratamiento. Existen otras soluciones comerciales que aún no abarcan todas las actividades cono- cidas del proceso, y la mayoŕıa proveen una interfaz dif́ıcil de utilizar. En este trabajo se propone una herramienta completa de trazado y análisis cefalométrico, que interactue con el usuario a través de una interfaz minimalista. 3.2.1. Solución propuesta En este trabajo de tesis se desarrolla un análisis que nos permite identificar requeri- mientos, e implementar una herramienta de software para automatizar el procedimiento de trazado y posterior análisis cefalométrico, tomando en cuenta las debilidades de las soluciones planteadas anteriormente y que brinde la oportunidad al usuario de realizar su propio trazado, seleccionando la técnica de su preferencia. También se pretende desarrollar un software de uso flexible, que permita facilmente ex- tensiones a futuro y sobre todo que funcione independiente de plataformas de hardware y/o software. La aplicación que se implementa en este trabajo satisface los siguientes requerimientos: 1. Permitir al usuario cargar una radiograf́ıa lateral previamente digitalizada. 2. Mostrar por pantalla la radiograf́ıa para que el usuario pueda introducir todos los puntos y ĺıneas referenciales para el trazado. 3. Permitir que el usuario edite y modifique las referencias. 4. Brindar al usuario la posibilidad de escoger el tipo de trazado que desea hacer. 5. Generar información de utilidad al ortodoncista, como un reporte con los resulta- dos de los cálculos obtenidos en el trazado, aśı como también una interpretación de los mismo. 6. Emitir recomendaciones para el tratamiento del paciente. 7. Generar una imagen con las ĺıneas, puntos y ángulos a escala real de la radiograf́ıa original. En el próximo caṕıtulo se describe la metodoloǵıa y los pasos en el desarrollo del software propuesto para automatizar el proceso de análisis cefalométrico. 18 Capı́tulo 4 Desarrollo del Software El proceso de desarrollo de un software contempla las actividades de análisis, diseño, codificación, pruebas e instalación de producto o aplicación; y cada una de estas etapas debe llevarse a cabo respetando ciertos estandares para que se garanticen una solución eficaz y práctica que satisfaga los requerimientos del los usuarios. Para desarrollar el software de esta investigación se adoptó uno de los modelos de pro- cesos más utilizados, el modelo de proceso espiral, propuesto inicialmente por Boehm[3], el cual se caracteriza por ser un modelo evolutivo que permite el desarrollo rápido en versiones incrementales. Las actividades observadas en la figura 4.1 se consideran las mı́nimas necesarias para elaborar un software según Pressman[12], estableciendo un marco de trabajo genérico que puede ser aplicado en cualquier otro modelo del proceso. Figura 4.1: Modelo espiral iterativo. Dentro de las actividades ejecutadas en el proceso de desarrollo del software se encuentran las siguientes: 1. Captura de requerimientos: En esta actividad se obtienen los requisitos funda- 19 mentales que debe satisfacer el software. En el software propuesto tales requisitos fueron definidos para garantizar que el usuario pudiera: Cargar una radiograf́ıa. Introducir los puntos y ĺıneas necesarios para la realización del trazado. Seleccionar entre los trazados de Ricketts, McNamara y Steiner, la técnica de su agrado. Obtener una imagen con el trazado. Obtener resultados de las medidas realizadas. 2. Planeación: Evaluación de las actividades, riesgos y recursos. En esta etapa se evaluaron varias opciones de lenguajes de programacion y finalmente se encon- tró que el lenguaje y ambiente de programación que ofrece Java provee los ele- mentos necesarios para el desarrollo que se desea en este trabajo. Un estudio de las soluciones existentes (QuickCeph, CephX), presentadas en el caṕıtulo anterior, nos permitió evaluar los riesgos, factibilidad, recursos, la plataforma de trabajo y ejecución, y otros elementos. Como resultado de esta evaluación se estableció un cronograma de trabajo. 3. Modelado: Se define formalmente la arquitectura del software. El patron MVC (Modelo Vista Controlador) creado por Reenskaug[14] consiste en desarrollar una capa de abstraccion sobre los datos para facilitar su manipulación. Para lograrlo, se definen tres capas: la vista; encargada de presentar los datos de forma amigable, el controlador; que captura las acciones que ocurren en la vista y notifica al modelo y el modelo; que representa los datos con los que funciona el sistema. En este trabajo, la capa de la vista se corresponde con la interfaz gráfica de usuario, la capa controlador corresponde a los manejadores de los eventos de introducción de datos, y la capa de modelo se corresponde a los cálculos necesarios para generar los trazados y los análisis. La interfaz gráfica está dividida en cuatro paneles principales. El panel izquierdo, mostrado en la figura 4.2 (izq.), es donde se refleja de manera inmediata los resultados de los cálculos del trazado realizado. El panel derecho, que se muestra en la figura 4.2 (der.), contiene información de ayuda y gúıa para el usuario, en él se encuentra una etiqueta con el nombre del punto a introducir, una imagen miniatura donde se ilustra la ubicación de dicho punto sobre la radiograf́ıa, un área de texto donde se provee in- formación necesaria para la correcta interacción con el programa aśı como una breve descripción del punto o ĺınea a trazar, y finalmente un campo de texto donde el usuario puede introducir manualmente la resolución de la imagen de entrada. En el panel central, señalado en la figura (4.3), se desplega la imagen cargada y se muestran los puntos y ĺıneas introducidas por el usuario, aśı como también los puntos y ĺıneas calculadas por el modelo. 20 Figura 4.2: Panel izquerdo: Resultados del trazado. Panel derecho: Guia para el usuario Figura 4.3: Panel Central. Muestra la imagen con ĺıneas y puntos 21 También se dispone de un panel inferior, (ver figura 4.4), que contiene los botones para seleccionar la actividad a realizar, dentro de las cuales se ofrecen: Cargar la imagen: Permite al usuario buscar, cargar y desplegar en pantalla, una imagen de radiograf́ıa en formato jpeg. Digitalizar los puntos: Opción que inicia la interacción con el usuario, para que éste introduzca o señale los puntos de interés dentro de la radiograf́ıa. Generar un trazado: Opción que permite al usuario ordenar el trazado una vez que ha introducido todos los puntos y ĺıneas requeridos. Obtener una imagen de salida que contenga el resumen de los cálculos: El usuario puede guardar o imprimir los resultados del trazado (imágenes e información de los cálculos). Ocultar las ĺıneas del trazado para sólo ver los puntos: Opción que facilita la interacción entre el usuario y el software. Editar los puntos: El usuario puede correguir la posición de los puntos o la ubi- cación y/o forma de las ĺıneas. Figura 4.4: Panel inferior. Muestra el menú de actividades a realizar Dentro de las actividades previas al desarrollo del software, se estudiaron y analizaron los eventos que debe manejar el controlador. Estos eventos aśı como también una descripción de las acciones a seguir se describen a continuación: 1. Cargar imagen: Cuando el usuario presiona o hace clic en este botón, el controlador debe llamar al diálogo de abrir archivo y enviarle, tanto a la vista como al modelo, la ruta de la imagen sobre la cual se trabajará. 2. Digitalizar puntos: Al hacer clic en el botón de digitalizar puntos, el controlador activa los componentes del panel derecho para que se despliegue la información de ayuda correspondiente al primer punto a digitalizar. Además debe esperar por los siguientes cliks que se harán sobre la imagen para ir capturando las coordenadas de los siguientes puntos y ĺıneas. Finalmente, debe enviar esta información al modelo. 3. Trazar: Al presionar el botón trazar, el controlador ordena a la vista el despliegue de un sub menú para que el usuario seleccione la técnica de trazado de su prefe- rencia. Una vez hecha esta selección, el controlador notifica al modelo para que realice los cálculos pertinentes. Cuando el modelo termina con los cálculos, éstos 22 son tomados por el controlador y enviados a la vista, la cual desplega los resultados en el panel izquierdo. 4. Plantillas: Si se apunta y presiona el botón plantillas, el controlador ordena a la vista el despliege de un sub menú para que el usuario seleccione una de las plantillas disponibles. Una vez seleccionada la plantilla, el controlador solicita al modelo que genere los cálculos necesarios para producir la plantilla y una vez que recibe los resultados del modelo se los env́ıa a la vista para ser desplegados en una nueva ventana. 5. Ocultar ĺıneas: Al presionar el botón Esconder Ĺıneas el controlador ordena a la vista que detenga el despliegue de las ĺıneas por pantalla. Si se pulsa el botón nuevamente, el controlador ordena a la vista la reactivación del despliegue. 6. Editar puntos: Al presionar el botón Editar Puntos el controlador activa el modo de edición, en el cual captura cada movimiento que hace el puntero del ratón sobre el panel central, para comprobar si el cursor se encuentra ubicado a lo sumo a tres ṕıxeles alrededor de alguno de los puntos editables. En caso afirmativo, el controlador env́ıa un mensaje a la vista indicando que cambie la imagen del cursor señalando al usuario que está ubicado sobre un punto editable. En este estado, el usuario puede arrastrar el punto, y a medida que lo hace el controlador le indica al modelo que actualice la posición, y env́ıa un mensaje a la vista para que despliegue la nueva posición del punto. 7. Calibrar: Al hacer clic sobre el botón calibrar el controlador le env́ıa un mensaje a la vista para que despliegue en el panel derecho la información de ayuda corres- pondiente al proceso de calibración. Al mismo tiempo espera hasta que el usuario haga dos clics sobre la imagen, y cuando esto pasa, ordena a la vista a desplegar un diálogo donde inquiere al usuario sobre la distancia en miĺımetros que hay entre los puntos introducidos, y una vez que el usuario introduce esos datos, el controlador pasa al modelo la información sobre la resolución de la imagen. 8. Magnificar: Al pulsar el botón magnificar, el controlador indica a la vista que entre en modo “magnificador”, de esta manera cuando el usuario mueva el puntero sobre la imagen, la vista debe magnificar esa porción de la imagen cuyo, centro es la posición del puntero. 9. Editar Imagen: Al hacer clic en el botón editar imagen el controlador ordena a la vista a desplegar un diáglogo con seis botones. De acuerdo a la escogencia del usuario, el controlador env́ıa parámetros de modificación de la imagen a la vista para que se despliegue la imagen modificada. 23 4.1. Consideraciones de Implementación Para la generación del código fuente se utilizó el entorno de desarrollo integrado Eclipse, en su versión para desarrolladores Java. La razón para escoger el lenguaje de programación orientado a objetos Java es su soporte multiplataformas que permite realizar pruebas con testers de toda clase sin restricciones de plataforma; además de la gran facilidad para conseguir ejemplos codificados y documentados, que permiten la rápida implementación ded de las funcionalidades que se requieren en la aplicación pro- puesta. Una vez que se culminó el desarrollo del software propuesto, se procedió a comparar los resultados del mismo con los resultados obtenidos de trazar la misma radiograf́ıa de manera manual. Este proceso permitió una clara evaluación y entonación de la pro- puesta. Es importante señalar que el software captura los puntos necesarios para realizar el trazado en el espacio de coordenadas correspondiente al panel central. Este espa- cio generalmente es distinto al tamaño real de la imagen, razón por la cual se hizo necesaria la implementación de una transformación lineal antes de realizar los cálculos correspondientes, utilizando la siguiente fórmula xr = xp ∗ wr wp yr = yp ∗ hr hp donde (xp, yp) son las coordenadas del punto capturado en el panel central, wp, hp son las dimensiones del panel central, wr, hr son las dimensiones de la imagen original y (xr, yr) son las coordenadas del punto en el espacio de coordenadas original. Conjuntamente con el trazado sobre la imagen, el software contempla como salida unas plantillas (o “templates”) con información relevante sobre las medidas tomadas. Estas plantillas complementan el contexto bajo el cual el profesional ortodoncista genera un diagnóstico del paciente y sugiere el tratamiento adecuado. 4.1.1. Cálculo de elementos del trazado Los datos recogidos en las plantillas y que se generan después del trazado son de vital importancia en el diagnóstico y posterior tratamiento. Sus valores son producto de algunos cálculos que contemplan: distancia entre dos puntos, distancia entre un punto y una ĺınea (protección ortogonal u oblicua), ángulos e intersección de planos (o ĺıneas). La generalidad de estos cálculos se resume a continuación. Cálculo de distancias Las distancias entre dos puntos, o entre un punto y una recta fueron calculadas uti- 24 lizando la fórmula de Pitágoras d = √ (x1 − x2)2 + (y1 − y2)2 (4.1) En cuanto a la distancia entre puntos y planos (o ĺıneas), sean (x, y) las coordenadas de un punto cualquiera, y seas m y b la pendiente y el punto de corte con el eje y de la recta sobre la cual se desea proyectar el punto (x, y), cuando la distancia entre un punto y una ĺınea se realiza utilizando proyección perpendicular, el software calcula el punto proyectado siguiendo los siguientes pasos: 1. Calcular mp = −1/m, pendiente de la recta perpendicular a la ĺınea sobre la que se quiere proyectar el punto. Aunque se valida el valor de m contra un cero numérico, en la aplicación actual este caso no sucede. 2. Calcular bp = y −mpx, punto de corte con el eje y de la recta perpendicular. 3. Obtener (xp, yp) intersectando las rectas con la perpendicular que pasa por el punto (x, y) y utilizando el procedimiento antes descrito. 4. Calcular la distancia entre los puntos (xp, yp) y (x, y) aplicando (4.1). Las proyecciones oblicuas necesarias para los trazados implementados en este tra- bajo se reducen a proyecciones paralelas al eje de las abcisas o al eje de las ordenadas, las cuales son directamente implementables. Cálculo de ángulos Con respecto a los ángulos, éstos son determinados utilizando la fórmula α = arctan ∣∣∣∣ m1 −m21 +m1m2 ∣∣∣∣ (4.2) donde m1 y m2 son las pendientes de las rectas que definen ángulo a calcular. En caso de que una de las rectas sea vertical, la fórmula se simplifica a α = arctan ∣∣∣∣ 1m ∣∣∣∣ (4.3) donde m es la pendiente de la recta que no es vertical. Es importante señalar que α siempre será el menor de los dos ángulos que forman la intersección de las rectas, esto es α ≤ 90◦. Sin embargo, en los trazados cefalométricos pueden haber ángulos de interés mayores a 90◦ o numéricamente muy cercanos a 90◦, por lo que han de ser considerados de manera especial. Particularmente, cuando se calcula una medida angular de la profundidad facial1, en el análisis lateral de Ricketts, el software sigue el siguiente procedimiento: 1La profundidad facial es el ángulo entre el plano facial y el plano de Frankfort 25 1. Calcular m1 como la pendiente del plano facial (Nasion-Pogonio). 2. Calcular m2 como la pendiente del plano de Frankfort (Porion-Orbital). 3. Dadas las pendientes de las rectas involucradas, y α, el ángulo resultante de aplicar la fórmula (4.2), β el ángulo restulante de la fórmula (4.3) con la pendiente que se especifique, y sea θ el ángulo de la profundidad facial que se desea calcular, puede suceder uno de los siguientes casos, comprobados en este orden: En caso de que los puntos Nasion y Pogonio estén alineados verticalmente, el cálculo del ángulo se reduce a obtener β con m = m2 y m2 6= 0. Si m2 < 0 entonces el ángulo de la profundidad facial es θ = 180◦−β, en caso contrario es θ = β. Si m2 = 0, se obtiene que θ = 90 ◦. En caso de que los puntos Porion y Orbital esten alineados horizontalmente y Nasion y Pogonio no lo estén verticalmente, el cálculo del ángulo se realiza aplicando la fórmula para α. Luego si m1 < 0 entonces el ángulo de la profundidad facial es θ = 180◦ − α, en caso contrario es θ = α. En caso de que m1 > 0 y m2 > 0, tenemos que θ = α. En caso de que m1 < 0 y m2 < 0, tenemos que θ = 180 ◦ − α. En caso de que m1 y m2 sean de signos opuestos, calculamos mp = −1/m2 la pendiente de cualquier recta perpendicular al plano de Frankfort. Si mp > m1 entonces θ = α, y en caso contrario θ = 180◦ − α. En la figura (4.5) se visualiza en ángulo θ. Es importante destacar que existen puntos Figura 4.5: Cálculo de ángulo de la profundidad facial importantes dentro del trazado, que no son suministrados por el usuario y que son calculados de manera automática por el software, mediante la intersección de dos ĺıneas o puntos que cumplan condiciones especiales. Un ejemplo de ello lo constituye la obtención del punto más anterior del perfil superior (Pronasal) o la intersección entre el plano Basion-Nasion y el Eje facial que define el punto Centro craneal (CC). Para obtener el punto Centro craneal el software debe ejecutar los siguientes pasos: 26 1. Utilizando los puntos Basion y Nasion, obtener la pendiente m1 y el punto de corte con el eje y (b1) sobre el plano Basion-Nasion, utilizando la fórmula de la recta que pasa por dos puntos. 2. Calcular el punto Gnation interceptando el plano mandibular con el plano facial. 3. Obtener la pendiente (m2) y el punto de corte con el eje y (b2) del eje facial, utilizando la fórmula de la recta que pasa por dos puntos, en este caso los puntos Gnation (previamente calculado) y Pterigoideo. 4. Igualar las dos rectas obtenidas para hallar su punto de instersección. m1x+ b1 = m2x+ b2 m1x−m2x = b2 − b1 (m1 −m2)x = b2 − b1 x = b2 − b1 m1 −m2 5. Con el procedimiento usual de obtener el valor de x de una de las ecuaciones y sustituirlo en cualquiera de las otras para hallar el valor de y, obtenemos el punto de intersección buscado. Cálculo de ĺıneas curvas Otro cálculo de importancia dentro del trazado, que ameritó probar algunos modelos numéricos fue la obtención de ĺıneas curvas, como la del perfil. Despues de probar con modelos lineales y cuadráticos, se constató que la herramienta más eficiente para dibujar estas ĺıneas eran las curvas de Bezier de tercer orden B(t) = P0(1− t)3 + P1t(1− t)2 + P2t2(1− t) + P3t3, t ∈ [0, 1]. evaluadas utilizando el algoritmo de Horner para cada binomio. Para generar los puntos de control primero se obtienen una selecciona una serie de puntos pertenecientes a la trayectoria que define el usuario al mover el ratón, en el momento que se le solicita que dibuje las ĺınea. De estos puntos se selecciona un sub- conjunto de cardinalidad definida, igualmente espaciados; de esta manera los segmentos de curva tienen una continuidad de clase C0. Esto significa que pudieran generarse pi- cos indeseables al dibujar la ĺınea. Sin embargo, las pruebas han demostrado que en la mayoŕıa de los casos las curvas generadas por el usuario son suficientemente suaves y permiten obtener un trazado con la precisión visual deseada. El software desarrollado fue distribuido entre un grupo seleccionado de usuarios para su evaluación. De esta manera una muestra de los usuarios finales pudieron hacer sus respectivas observaciones y recomendaciones, las cuales contribuyeron a la mejora del software. 27 4.2. Casos de uso Un caso de uso representa las funciones que un sistema puede ejecutar, a petición del usuario. Describe los usos del sistema y su interacción con el usuario. A continuación se detallan algunos casos de uso del software desarrollado 1. Caso de uso: Cargar Radiograf́ıa. Descripción: El usuario selecciona una radiograf́ıa en formato jpg sobre la cúal se dibujará el trazado posteriormente. Actores: Técnico, Estudiante u Ortodoncista. Precondiciones: Ninguna. Flujo Normal: El usuario hace clic en cargar imagen para abrir el diálogo de selección de imagen. Selecciona una imagen que tenga disponible en algún dispositivo de almace- namiento. Confirma la selección haciendo doble clic sobre la imagen o haciendo clic sobre el botón “abrir” Poscondiciones: La radiograf́ıa ha sido desplegada en el panel central. 2. Caso de uso: Digitalizar Puntos. Descripción: El usuario le indica al software en qué coordenadas se encuentran los diferentes puntos y ĺıneas de interés. Actores: Técnico, Estudiante u Ortodoncista. Precondiciones: La imagen de la radiograf́ıa debe estar cargada. Flujo Normal: El usuario hace clic en digitalizar puntos, y se repite el siguiente procedi- miento hasta que todos los puntos y ĺıneas necesarios estén digitalizados. • El software le indica al usuario cuál es el punto o ĺınea que espera que digitalice. • El usuario hace clic sobre el punto que le fue solicitado, en caso de ser una ĺınea hace un clic para indicar el comienzo de la digitalización de la misma, mueve el ratón por toda la ĺınea y para indicar la finalización de la ĺınea hace de nuevo clic al final de la ĺınea. Poscondiciones: El software ha almacenado la información necesaria para generar los trazados. 3. Caso de uso: Escoger Análisis Descripción: El usuario selecciona uno de los análisis disponibles para realizar el trazado cefalométrico, entre: Ricketts, Macnamara y Steiner. 28 Actores: Técnico, Estudiante u Ortodoncista. Precondiciones: Los puntos y ĺıneas de referencia deben estar digitalizados. Flujo Normal: El usuario hace clic en el botón “Análisis” y el software despliega un menú. El usuario escoge el análisis deseado haciendo clic sobre el item correspon- diente. Poscondiciones: El trazado ha sido generado y dibujado en el panel central, los valores de las medidas se han desplegado en el panel izquierdo. 4. Caso de uso: Obtener Reporte Descripción: El usuario selecciona una de las plantillas para obtener la imagen de salida, que contiene el trazado y los valores de interés. Actores: Técnico, Estudiante u Ortodoncista. Precondiciones: Un análisis ha sido escogido. Flujo Normal: El usuario hace clic en el botón “Plantillas” y el software despliega un menú. El usuario escoge una plantilla de su preferencia presionando el item corres- pondiente. El software despliega una nueva ventana con la imagen de la plantilla desea- da. Poscondiciones: La imagen de salida ha sido generada. 5. Caso de uso: Editar Puntos Descripción: El usuario modifica uno de los puntos que ha digitalizado previa- mente y modifica su ubicación. Actores: Técnico, Estudiante u Ortodoncista. Precondiciones: Un análisis ha sido escogido. Flujo Normal: El usuario hace clic en el botón “Editar Puntos”. El usuario lleva el puntero hacia el punto que desea modificar. El software le indica que puede modificar ese punto a través de cambiar la forma del puntero de la estandar a una en forma de mano. El usuario hace clic y arrastra el punto a la posición deseada. El usuario suelta el clic para definir la nueva posición. El usuario hace clic de nuevo en el botón “Editar Puntos” para salir del modo de edición. 29 Poscondiciones: El (los) punto(s) ha(n) sido relocalizado(s). El análisis ha sido recalculado. 6. Caso de uso: Esconder/Mostrar Ĺıneas Descripción: El usuario le indica al software que desea ver o no las ĺıneas del trazado. Actores: Técnico, Estudiante u Ortodoncista. Precondiciones: Un análisis ha sido escogido. Flujo Normal: El usuario hace clic en el botón “Ocultar ĺıneas”. Poscondiciones: Las ĺıneas del trazado han sido Mostradas u Ocultadas según el estado inicial. 4.2.1. Ejemplo de aplicación A fin de evaluar comparativamente la precisión de los resultados obtenidos con la aplicación desarrollada a continuación presentamos un ejemplo real y reciente sobre la radiograf́ıa de un paciente cuyo tratamiento se lleva a cabo en la actualidad en un reconocido centro odontológico del páıs. En la figura 4.6 se presenta un trazado realizado manualmente sobre la radiograf́ıa del paciente. Una vez realizado este procedimiento que tardó alrededor de 20 minutos, el ordoncista procedió a calcular las medidas necesarias para el análisis lateral de Ricketts. Figura 4.6: Trazado manual La radiograf́ıa digital del mismo paciente, en formato jpg, fue cargada usando la opción Cargar una imagen del menú; luego se introdujeron los puntos de interés 30 seleccionando la opción con Digitalizar puntos, con el proposito de solicitar un análisis de Ricketts pulsando el botón Trazar. Una vez obtenido el trazado y usando la opción para general la plantilla se obtuvo la imágen que se presenta en la figura (4.7). Figura 4.7: Resultado del análisis: Plantilla Podemos notar en la tabla (4.1) como los cálculos hechos por el ortodoncista una vez realizado el trazado coinciden en gran medida con los cálculos realizados por la aplicación. Adicionalmente también se puede inferir que los cálculos de la aplicación son más confiables (o precisos) ya que fueron generados por el computador y no con herranientas como el transportados o la regla, los cuales estan sujetos a la apreciación del ortodoncista o el profesional que realice el trazado. 31 Cuadro 4.1: Puntos Referenciales Medidad Unidades Cálculo manual Software propuesto Diferencia Ant Cranial Base (mm) 56,0 56,0 0,0 Post Facial Ht (mm) 60,0 59,3 0,7 Cranial Deflect (deg) 26,5 26,1 0,4 Porion Location (mm) -44,5 -44,4 -0,1 Maxillary Depth (deg) 86,5 87,0 -0,5 Maxillary Height (deg) 52,0 51,6 0,4 Palatal Plane/Fh (deg) 6,0 6,5 -0,5 Facial Depth (deg) 85,0 84,6 0,4 Facial Axis (deg) 91,0 90,9 0,1 Mandibular Plane (deg) 21,0 21,6 -0,6 Total Facial Ht (deg) 54,0 53,6 0,4 Facial Taper (deg) 73,0 73,8 -0,8 Convexity (mm) 2,0 2,0 0,0 Corpus Length (mm) 67,0 67,1 -0,1 Mandibular Arc (deg) 32,0 32,4 -0,4 Lower Facial Height (deg) 41,0 40,9 0,1 Mx 1, to APo (mm) 6,5 6,9 -0,4 Mx 1, to APo (deg) 40,0 39,3 0,7 Mx 1, to FH (deg) 121,0 121,6 -0,6 Mx 6, to PTV (mm) 10,5 10,6 -0,1 Md 1, to APo Md 1, Inclination (deg) 22,0 22,4 -0,4 Md 1, Extrusion (mm) 4,0 3,8 0,2 Oc. Plane Height (mm) 1,0 0,6 0,4 Oc.Plane Inclination (deg) 18,0 18,8 -0,8 Molar Relation (mm) 3,5 3,8 -0,3 Incisor Overjet (mm) 7,0 6,9 0,1 Incisor Overbite (mm) 4,0 4,4 -0,4 Interincisor Angle (deg) 118,0 118,3 -0,3 Lower Lip E-Plane (mm) -1,5 -1,6 0,1 Upper Lip Length (mm) 27,0 26,7 0,3 Dist. Emb/Oc.Plane (mm) 0,5 0,6 -0,1 32 Capı́tulo 5 Conclusiones En este trabajo se analizó y desarrolló un software para automatizar el proceso de trazado en análisis cefalométrico. El diseño del software respeta las bases del modelo MVC y por lo tanto está conformado por tres partes fundamentales que se identifican en el modelo, la vista (o interfaz) y el controlador. El desarrollo siguió un proceso espiral, el cual aseguró la obtención de un software que satisface plenamente los requerimientos de usuario. El software propuesto tiene las siguentes ventajas prácticas sobre las aplicaciones existentes: Bajo costo computacional Independencia de la plataforma Adaptable a futuras incorporaciones de otros análisis y medidas Se dispone de una interfaz de usuario que aspira satisfacer un compromiso entre mi- nimalista y humanizada. En el diseño se contempló minimizar los errores del usuario; en ese sentido, la aplicación desabilita las funciones que pudieran generar un estado inconsistente. Las pruebas realizadas con varios usuarios, especialistas en el área de ortodoncia, re- sultaron satisfactorias, y confirman que los trazados no incrementan el margen de error de las imágenes digitalizadas. Se propone a futuro, formalizar estas pruebas con una herramienta formal de medición de estos conceptos. 5.1. Trabajo futuro Este trabajo marca el comienzo de una ĺınea de investigación a que contempla la extensión de este mismo programa a trazados cefalométricos frontales, y su utilización 33 en otros campos de la odontoloǵıa como lo es la ciruǵıa bucal o implantes de prótesis. En particular pudieran considerarse: Agregar nuevos análisis cefalométricos. Implementar estudios de predicción de crecimiento. Con respecto la estructura del software, estudiar su aplicabilidad en otros contex- tos y diseñar instrumentos para su evaluación. 34 Apéndice A Lista de tablas Cuadro A.1: Referencias Craneales Nombre del Punto Localización Basion (Ba) Es el centro del hueso occipital, localizado en el borde anterior del forúmen magnum, entre los cóndilos del occipital. Nasion (N) Es el punto mas anterior de la sutura frontonasal. Porion (P) El punto Porion está ubicado en la parte más superior del meato auditivo externo. Representa el centro del hueso temporal. Orbital (O) Al ser la órbita una estructura bilateral se recomienda promediar y seleccionar un punto único orbital, en el inferior del margen de la misma. Referencia Pterigoidea (Pr) Este punto es referencial y se selecciona en el lugar más posterior de la curvatura de la fisura pterigo maxilar. Al observarse las imágenes de las dos fisuras pterigomaxilares, se promedian y se dibuja solo una. Pterigoideo (Pt) not defined Silla Turca (S) Este punto se ubica en el punto medio de la fosa pi- tuitaria 35 Cuadro A.2: Referencias Mandibulares Nombre del Punto Localización Pogonio (Po o Pog) Está localizado en el punto más anterior del mentón. Sin embargo, esa superficie en circunstancias puede ser relativamenteplana y poco espećıfica vertical- mente. Protuberancia Menti (Pm) Está localizado en el tope del “trigonum mentali”. Pm se sitúa donde la cortical vestibular termina y donde el contorno supramental se convierte en proce- so alveolar. Gnation (Gn) Técnicamente, Gnation era el punto más inferior y anterior del mentón. En la práctica, se construye y selecciona a través de la intersección de dos planos: el Plano Facial con el Plano Mandibular. Mentón (M) Es el punto más bajo del borde o contorno inferior de la śınfisis. Punto Xi El punto Xi o Centroide geométrico de la rama mandibular se obtiene bisectando la altura y el an- cho de la rama. Subgonion (Sgo) Gonion por definición es el punto más inferior y pos- terior del ángulo de la mandúbula. El borde inferior del ángulo de la mandúbula se utiliza para construir el Plano mandibular y es denominado Subgonion. Punto Dc También abreviado D, es el punto medio del cuello del cóndilo, sobre el plano formado por los puntos Basion y Nasion. 36 Cuadro A.3: Referencias Maxilares Nombre del Punto Localización Espina Nasal Ante- rior (Ena) Es la punta de la espina nasal, corresponde al Acan- tion antropológico Espina Nasal Pos- terior (Enp) Es la intersección del piso nasal con la pared anterior de la fosa pterigopalatina Punto A Se selecciona usualmente el punto de mayor profun- didad en la curvatura del borde anterior de los maxi- lares. En el adulto normal, el punto A está práctica- mente paralelo al ápice de los incisivos centrales. Cuadro A.4: Referencias en la Dentición Nombre del Punto Localización Incisivo Inferior (B1) Seleccionamos la posición común más representativa de los centrales inferiores. Si un incisivo está desplaza- do vestibularmente, éste no representa la posición de toda la sección anterior. En general el promedio de los dos incisivos centrales es una buena alternativa de trabajo. Incisivo Superior (A1) Aśı como en el inferior, la posición común o prome- dio de los dos centrales superiores es una relación de trabajo adecuada. Primer Molar Infe- rior (B6) El primer molar inferior es un elemento básico para el diagnóstico, planificación, y para consideraciones de anclaje. La posición de ellos es promediada para tener una referencia común. Primer Molar Su- perior (A6) También los primeros molares superiores son prome- diados. Un problema usual son las subdivisiones, sin embargo, aún en estos casos es preferible promediar sus posiciones para el análisis cefalométrico. Caninos Los cuatro caninos son de suma importancia cĺınica y sus puntas o cúspides sirven de referencia para el análisis. 37 Cuadro A.5: Planos Nombre del Plano Descripción Plano Basion- Nasion Cuando se hace un corte a través del plano Basion- Nasion, Este plano corta la base de las apófisis pterigoideas, atraviesa el cuello del cóndilo y es pa- ralelo a la sutura cigomático-temporal. Este plano prácticamente separa la cara del cráneo. Plano Frankfort Desde Porion, como centro del temporal, orienta el centro de la audición y el equilibrio con el sentido de la vista a través de Orbital. Este plano en general es perpendicular a la sutura coronal. Plano Vertical Pterigoideo Se traza una perpendicular a Frankfort a través del punto Pr (Referencia Pterigoidea). Actúa como ĺınea separatoria de la cara de la base de las apófisis pterigoideas. Se orienta con la sutura coronal. Con frecuencia denominamos a este plano (PTV) como abreviatura de Vertical de la ráız Pterigoidea. 38 Cuadro A.6: Planos de la Cara Nombre del Plano Descripción Plano Facial Este tradicional Plano se construye al conectar los puntos Nasion y Pogonio. El ángulo formado entre este plano y Frankfort (ángulo Facial) es quizás la mejor expresión horizontal del mentón. Plano Mandibular Han sido empleados muchos Planos Mandibulares, pero el más simple y útil es a través del punto más inferior del ángulo de la rama mandibular (Pto. Sub- gonion (Sgo)) hasta el punto Menton el cual es el borde inferior de la śınfisis. Eje Facial El eje más central descubierto en la cara es la ĺınea desde el punto Pterigoideo (Pt) hasta Gnation (Gn). Plano Nasal Se construye conectando Nasion y el punto A (N- A). Este plano en el crecimiento normal se desplaza anteriormente casi sin inclinación. (Fig.30). Eje Condilar Una ĺınea desde Xi a través del punto “D” (mitad del cuello del cóndilo medido sobre el plano Basion- Nasion) hasta Condilion forma el Eje Condilar. Eje del Cuerpo Este plano se forma desde Protuberancia Menti (Pm), también conocido como Suprapogonio pasando por Xi y extendiéndolo hasta que cruce con el Plano Basion- Nasion para formar en la intersección el punto Ver- tigón (Ve). Plano Palatino Una ĺınea trazada desde la Espina Nasal Anterior has- ta la Espina Nasal Posterior representa el plano del paladar duro, el cual es el piso de la nariz y el techo de la boca. Plano A-Pogonio (A-Po) La ĺınea desde el Punto A al Punto Pogonio es un Plano de referencia para la retrusión o protrusión de los dientes anteriores. Es la mejor referencia en el ra- zonamiento del diagnóstico y en la planificación. 39 Bibliograf́ıa [1] AG, B. The fourth dimension in Orthodontia. Angle Orthod, 1954. [2] Barahona, J., and Benavides, J. Principales análisis cefalométricos utilizados para el diagnóstico ortodóntico. Revista Cient́ıfica Odontológica 2, 1 (2006), 11–27. [3] Boehm, B. A spiral model of software development and enhancement, vol. 11. 1986. [4] Brusola, J. A. C. Ortodoncia Cĺınica y Terapéutica. Masson, S.A. Ronda General Mitre, Barcelona (Espana), 2000. [5] CARLOS VILLAFRANCA, Félix; COBO PLANA, J. F. M. P. y. J. A. Cefalometŕıa de las v́ıas aéreas superiores (VAS) (en español), vol. 7. 2002. [6] Curioca, S., and Portillo, G. Determinación cĺınica y radiográfica del soma- totipo facial en pacientes pediátricos. Revista Odontológica Mexicana 15, 1 (2011), 8–13. [7] Graber, T., Vanarsdall, Jr., R., and Vig, K. Ortodoncia Principios y Técnicas Actuales. ELSEVIER, 2006. [8] Menéndez, L. Introducción al método arquial de predicción de crecimiento cráneo facial. Odontoloǵıa Sanmarquina 8, 1 (2004), 39–41. [9] Mercado, V., Castro, O., Ferrer, F., Naranjo, R., Benavides, P., and Egaa, G. Evaluación de la obstrucción adenoidea en niños: telerradiograf́ıa cefalométrica versus fibroscoṕıa. Rev. Otorrinolaringol. Cir. Cabeza Cuello 65 (2005), 15–22. [10] nas, M. S. Estudio cefalométrico comparativo para el diagnóstico del tipo de crecimiento facial. Rev. Cubana Ortod. 16, 1 (2001), 24–29. [11] Podaderas, Z., Rodŕıguez, F., Tamargo, T., and González, S. Estudio cefalométrico comparativo para el diagnóstico del tipo de crecimiento facial. Rev. Cubana Ortod. 40, 3 (2003), 24–29. 40 [12] Pressman, R. S. Ingenieŕıa del software, vol. 6. University of Connecticut, 2005. [13] RA, H. Changes in relationship of points A and B during orthodontic treatment. Angle Orthod, 1956. [14] Trygve, R. Models-Views-Controllers, 1979. [15] TUKASAN, P. C. Craniofacial analysis of the tweed foundation in angle class ii, division 1 malocclusion (en portugués). 69–75. [16] Uribe, G. Ortodoncia - Teoŕıa y Cĺınica. CIB (Corporación para Investigaciones Biológicas), 2004. [17] Vellini-Ferreria, F. Ortodoncia Diagnóstico y Planificación Cĺınica. Artes médicas Latinoamerica, Sao Paulo Brasil, 2002. [18] WB, D. Analysis of the dento-facial profile. Angle Orthod, 1947. [19] WL, W. The assessment of antero posterior dysplasia. Angle Orthod, 1947. [20] Zamora, C. Compendio de Cefalometŕıa: Análisis Cĺınico y Práctico. Amol- ca, Actualidades Médico Odontológicas Latinoamérica, C.A., Caracas, Venezuela, 2004. 41