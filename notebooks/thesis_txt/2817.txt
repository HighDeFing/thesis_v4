Universidad Central de Venezuela Facultad de Ciencias Escuela de Computación Laboratorio de Redes Móviles, Inalámbricas y Distribuidas (ICARO) 1. 2. 3. 4. 5. 6. Trabajo Especial de Grado 7. Br. Jesús Morán C.I.: 16.177.972 E-mail: jesus.moran@gmail.com Tutora: Profesora María E. Villapol Caracas, Mayo 2012 Análisis del Efecto de la Interferencia sobre las Redes Inalámbricas basadas en el Estándar IEEE 802.11 2 Universidad Central de Venezuela Facultad de Ciencias Escuela de Computación Laboratorio de Comunicación y Redes ACTA DEL VEREDICTO Quienes suscriben, Miembros del Jurado designado por el Consejo de la Escuela de Computación para examinar el Trabajo Especial de Grado, presentado por el Bachiller Jesús Morán C.I.:16.177.972, con el título “Análisis del Efecto de la Interferencia Sobre las Redes Inalámbricas Basadas en el Estándar IEEE 802.11”, a los fines de cumplir con el requisito legal para optar al título de Licenciado en Computación, dejan constancia de lo siguiente: Leído el trabajo por cada uno de los Miembros del Jurado, se fijó el día 25 de Mayo del 2012, a las 11 de la mañana para que sus autores lo defendieran en forma pública, en PAIII de la Escuela de Computación, lo cual estos realizaron mediante una exposición oral de su contenido, y luego respondieron satisfactoriamente a las preguntas que les fueron formuladas por el Jurado, todo ello conforme a lo dispuesto en la Ley de Universidades y demás normativas vigentes de la Universidad Central de Venezuela. Finalizada la defensa pública del Trabajo Especial de Grado, el jurado decidió aprobarlo. En fe de lo cual se levanta la presente acta, en Caracas el 25 de Mayo del 2012, dejándose también constancia de que actuó como Coordinador del Jurado el Profesor Tutor María Elena Villapol Prof. María Elena Villapol (Tutor) Prof. Ana Morales Prof. Carlos Acosta (Jurado Principal) (Jurado Principal) 3 Resumen Título: Análisis del Efecto de la Interferencia sobre las Redes Inalámbricas basadas en el Estándar IEEE 802.11. Autor: Jesús Morán. Tutor: Profesora María Elena Villapol. La siguiente investigación tiene el propósito de mostrar los efectos de interferencia que producen los dispositivos que emiten ondas de radio sobre la banda Industrial Científica y Médica (Industrial Scientific Medical, ISM) de los 2.4 GHz, tales como hornos microondas, teléfonos inalámbricos, dispositivos Bluetooth, entre otros, sobre las redes inalámbricas basadas en el estándar IEEE 802.11 que trabajan en dicha banda. Hoy en día la necesidad de estar conectados en todo momento, sea por teléfonos inteligentes, equipos portátiles y las crecientes tabletas, hacen necesario desplegar una gran cantidad de redes inalámbricas. Por lo general las más comúnmente instaladas son las basadas en el estándar IEEE 802.11. Sin embargo la sencillez para instalar estas redes permite a cualquier persona con poco o casi ningún conocimiento desplegarlas. Al ocurrir puede existir un conjunto de problemas de desempeño de esa red tales como falta de calidad en el enlace, bajo desempeño y eventualmente caídas súbitas de la red, esto ocurre a que la banda ISM en la que están desarrollados estos estándares, también es utilizada para el desarrollo de una gran variedad de dispositivos que usan la misma. En este trabajo se mostrará la implementación de un analizador de espectro, dispositivo el cual permite monitorear el espectro radio eléctrico en la banda de los 2.4GHz; como también una metodología para el estudio detallado en de los efectos de interferencias sobre métricas de desempeño en estas redes. Los resultados obtenidos en este trabajo demuestran que los efectos de la intensidad pueden ser diversos, entre estos se encuentran: degradaciones a nivel bajo (Bluetooth) de la señal original, que permiten mantener el funcionamiento, una 4 degradación mínima de desempeño y una coexistencia entre estos dispositivos y las redes inalámbricas basadas en 802.11; una degradación media (horno microondas), la cual afecta todas las métricas de desempeño entre ellas una disminución considerable de throughput; una degradación alta (teléfono inalámbrico analógico) el cual produce efectos de elevada interferencia y un bajo desempeño a nivel de proporcionar una denegación del servicio en las redes IEEE 802.11. Por otro lado también se pueden inferir que el desempeño de estas redes viene limitado por la cantidad de dispositivos usados al mismo tiempo en el mismo canal, lo cual afecta significativamente el desempeño de la red. Palabras claves: Interferencia, IEEE 802.11, Analizador de Espectro, Desempeño, CSMA/CA, retardo, jitter, pérdida de paquetes, throughput, intensidad, FHSS, DSSS. 5 Tabla de Contenido Resumen ........................................................................................................................... 3 Tabla de Contenido ........................................................................................................... 5 Índice de Figuras ............................................................................................................... 8 Índice de Tablas .............................................................................................................. 10 1 Introducción .............................................................................................................. 11 1.1 Planteamiento del Problema ................................................................................ 11 1.2 Objetivo General .................................................................................................. 12 1.3 Objetivos Específicos ........................................................................................... 12 1.4 Justificación.......................................................................................................... 12 1.5 Alcance ................................................................................................................ 13 1.6 Distribución del Documento .................................................................................. 13 2 Tecnologías que Operan en la Banda ISM de 2.4GHz.............................................. 14 2.1 IEEE 802.11 ......................................................................................................... 14 2.1.1 Arquitectura de Protocolos ........................................................................... 15 2.1.2 Componentes ............................................................................................... 16 2.1.3 Topología ..................................................................................................... 17 2.1.4 Capas Físicas ............................................................................................... 18 2.2 Bluetooth .............................................................................................................. 24 2.2.1 Arquitectura de Protocolos ........................................................................... 24 2.2.2 Bluetooth Radio ............................................................................................ 27 2.2.3 Banda Base .................................................................................................. 29 2.3 Horno de Microondas ........................................................................................... 36 2.4 Teléfonos Inalámbricos ........................................................................................ 37 2.4.1 Teléfonos Analógicos ................................................................................... 38 6 2.4.2 Teléfonos Digitales ....................................................................................... 38 3 Metodología y Herramientas Utilizadas ..................................................................... 39 3.1 Determinación del Instrumento de Medición ......................................................... 39 3.2 Desarrollo del Instrumento de Medición ............................................................... 39 3.3 Elección de los Escenarios ................................................................................... 39 3.4 Implementación de los Escenarios ....................................................................... 39 3.5 Efectuar las Pruebas ............................................................................................ 40 3.6 Análisis de los Resultados .................................................................................... 40 3.7 Herramientas Utilizadas ....................................................................................... 40 3.7.1 Herramientas de Hardware ........................................................................... 40 3.7.2 Herramientas de Software ............................................................................ 40 4 ICARO Scanner ........................................................................................................ 42 4.1 Definición ............................................................................................................. 42 4.2 Diseño .................................................................................................................. 43 4.2.1 Diseño Lógico ............................................................................................... 43 4.2.2 Implementación ............................................................................................ 44 4.3 Software de ICARO Scanner ................................................................................ 45 5 Definición y Ejecución de las Pruebas ...................................................................... 49 5.1 Definición de los Escenarios de Prueba ............................................................... 49 5.1.1 Arquitectura de la Red de Prueba ................................................................. 49 5.1.2 Escenarios .................................................................................................... 49 5.1.3 Dispositivos .................................................................................................. 50 5.2 Ejecución de las Pruebas ..................................................................................... 51 5.2.1 Pruebas en el Espectro ................................................................................ 51 5.2.2 Pruebas de Desempeño ............................................................................... 51 6 Análisis de los Resultados ........................................................................................ 53 6.1 Análisis del Espectro ............................................................................................ 53 7 6.1.1 Análisis del Espectro de cada una de las Tecnologías ................................. 53 6.1.2 Análisis del Espectro con Alteraciones ......................................................... 57 6.2 Resultados de Desempeño .................................................................................. 62 6.2.1 Resultados de los Efectos de la Interferencia en el Desempeño de un Cliente 62 6.2.2 Resultados de los Efectos de la Interferencia en el Desempeño de Uno, Dos, Cuatro y Ocho Clientes ............................................................................................. 66 6.3 Resultados de Variación de la Distancia de la Fuente de Interferencia ................ 70 6.3.1 Horno Microondas. ....................................................................................... 70 6.3.2 Teléfono Inalámbrico .................................................................................... 74 7 Conclusiones ............................................................................................................ 79 7.1 Contribución ......................................................................................................... 79 7.2 Recomendaciones................................................................................................ 80 7.3 Limitantes ............................................................................................................. 80 7.4 Trabajos Futuros .................................................................................................. 80 8 Referencias .............................................................................................................. 82 8 Índice de Figuras Figura 2.1: Estructura de IEEE 802.11 ............................................................................. 15 Figura 2.2: Estructura BSS Independiente ....................................................................... 18 Figura 2.3: BSS de Infraestructura. .................................................................................. 18 Figura 2.4: Ejemplo del uso de FHSS .............................................................................. 19 Figura 2.5: Canales de 802.11 por DSSS ........................................................................ 21 Figura 2.6: Pila de protocolos de Bluetooth ...................................................................... 25 Figura 2.7: Paquete de Tasa Básica ................................................................................ 30 Figura 2.8: Paquete de tasa extendida ............................................................................ 30 Figura 2.9: Topología de las redes de Bluetooth .............................................................. 31 Figura 2.10: Reloj Bluetooth ............................................................................................. 32 Figura 2.11: Paquetes multi-ranura .................................................................................. 34 Figura 2.12: Derivación del Reloj Maestro y el Reloj Esclavo ........................................... 34 Figura 2.13: Funcionamiento del magnetrón. ................................................................... 37 Figura 4.1: Arquitectura del ICARO Scanner ................................................................... 42 Figura 4.2: Diseño Lógico de ICARO Scanner ................................................................. 43 Figura 4.3: Diseño físico ICARO Scanner ........................................................................ 45 Figura 4.4: Pantalla principal de ICAROScanner. ............................................................ 46 Figura 4.5: Exportación de Archivo. ................................................................................. 47 Figura 4.6: ICARO Scanner en funcionamiento ............................................................... 47 Figura 5.1: Diagrama de distancias Fijas ......................................................................... 50 Figura 5.2: Diagrama Distancias Variables ...................................................................... 50 Figura 6.1: Captura de 802.11 en el ICARO Scanner ...................................................... 54 Figura 6.2: Comportamiento de 802.11 en el espectro ..................................................... 54 Figura 6.3: Captura del horno microondas en el ICARO Scanner .................................... 55 Figura 6.4: Comportamiento del horno microondas en el espectro .................................. 55 Figura 6.5: Captura dispositivos Bluetooth en el ICARO Scanner .................................... 56 Figura 6.6: Comportamiento de dispositivos Bluetooth en el espectro ............................. 56 Figura 6.7: Captura del horno microondas en el ICARO Scanner .................................... 57 Figura 6.8: Comportamiento del teléfono inalámbrico en el espectro ............................... 57 Figura 6.9: Comportamiento en el espectro de 802.11 y horno microondas ..................... 58 Figura 6.10: Superpuesta de 802.11 y horno microondas ................................................ 59 Figura 6.11: Comportamiento de 802.11 y dispositivos Bluetooth .................................... 60 Figura 6.12: Superpuesta de 802.11 y dispositivos Bluetooth .......................................... 60 9 Figura 6.13: Gráfico de 802.11 y teléfono inalámbrico ..................................................... 61 Figura 6.14: Comportamiento simultáneo de 802.11 y teléfono inalámbrico .................... 62 Figura 6.15: Desempeño de Throughput frente a fuentes de interferencia. ...................... 63 Figura 6.16: Desempeño de retardo frente a fuentes de interferencia .............................. 64 Figura 6.17: Desempeño de jitter frente a fuentes de interferencia .................................. 65 Figura 6.18: Desempeño de pérdida de paquetes frente a fuentes de interferencia. ........ 66 Figura 6.19: Desempeño de throughput de uno, dos, cuatro y ocho clientes frente a fuentes de interferencia. .................................................................................................. 67 Figura 6.20: Desempeño de retardo de uno, dos, cuatro y ocho clientes frente a fuentes de interferencia. ............................................................................................................... 68 Figura 6.21: Desempeño de jitter de uno, dos, cuatro y ocho clientes frente a fuentes de interferencia. .................................................................................................................... 69 Figura 6.22: Pérdida de paquetes de uno, dos, cuatro y ocho clientes frente a fuentes de interferencia. .................................................................................................................... 70 Figura 6.23: Gráfico de throughput a distancia variable del horno microondas. ............... 71 Figura 6.24: Gráfica de retardo de 2 clientes variando la distancia del horno microondas 72 Figura 6.25: Gráfica de jitter de 2 clientes variando la distancia del horno microondas .... 73 Figura 6.26: Gráfica de paquetes perdidos variando la distancia del horno microondas .. 73 Figura 6.27: Gráfico de throughput variando la distancia del teléfono inalámbrico ........... 74 Figura 6.28: Gráfico de retardo variando la distancia del teléfono inalámbrico ................. 75 Figura 6.29: Jitter de 2 clientes vs teléfono inalámbrico a Distancias Variables ............... 76 Figura 6.30: Paquetes perdidos de 2 clientes vs teléfono inalámbrico a Distancias Variables .......................................................................................................................... 77 10 Índice de Tablas Tabla 2.1: Canales de Frecuencias centrales por región. ................................................ 21 Tabla 2.2: Comparación entre las diversas tecnologías de 802.11 .................................. 23 Tabla 2.3: Rangos de Frecuencia de Bluetooth. .............................................................. 27 Tabla 2.4: Ancho de banda de las frecuencias de guarda ................................................ 28 Tabla 2.5: Mapeo de π/4-DQPSK .................................................................................... 29 Tabla 2.6: Mapeo de 8DPSK ........................................................................................... 29 Tabla 5.1: Escenarios. ..................................................................................................... 49 11 1 Introducción Las tecnologías de Redes de Área Personal Inalámbricas (Wireless Personal Area Networks, WPAN) y de Redes de Área Local Inalámbricas (Wireless Local Area Networks, WLANs) se caracterizan por su limitado alcance, y en su mayoría funcionan en la banda de frecuencia para uso Industrial, Científico y Médico (Industrial, Scientific and Medical, ISM), localizada en casi todos los países en el espectro de frecuencia que abarca los 2.4 - 2.4835 GHz. Con el auge de las comunicaciones móviles e inalámbricas basadas en el uso de las tecnologías de WPAN como Bluetooth y de WLAN como IEEE 802.11, esta banda cada día es más utilizada, sobre todo en hogares y pequeñas empresas donde es común encontrar que múltiples equipos comparten esta banda. Los equipos que funcionan en la banda ISM están basados en estándares que definen la manera de utilizar el medio; sin embargo, no establecen mecanismos para evitar que otras tecnologías hagan uso del mismo, por lo que existe una alta posibilidad que se produzcan interferencias que afecten la comunicación. Actualmente una de las tecnologías más utilizadas para el acceso a Internet en hogares y pequeñas empresas es aquella basada en el estándar IEEE 802.11 [1], también conocida como Wi-Fi. El usuario regular de dispositivos con capacidades de conectarse a redes WLANs vía Wi-Fi, con alto grado de certeza, se ha visto envuelto en situaciones en la cual siente que el servicio de comunicación experimenta dificultades, es decir, observa lentitud en velocidades de transferencia o incluso interrupción en el servicio. Por lo dicho anteriormente, en este trabajo se presenta un estudio de como equipos que usan diversas tecnologías que funcionan en la banda ISM entre 2.4 - 2.4835 GHz pueden afectar a usuarios en una red Wi-Fi. Para realizar esta investigación se construyó una herramienta que permite el estudio de la banda ISM de 2.4GHz en la capa física, que permitirá observar el comportamiento de las ondas de radio dentro de dicho espectro. Esta herramienta permitirá, evitar o afrontar los efectos de la interferencia. Además, utilizando herramientas de Benchmarking se evaluó el desempeño de las redes al ir agregando fuentes de interferencia, que afectará a las mismas. 1.1 Planteamiento del Problema Actualmente las redes inalámbricas basadas en el estándar IEEE 802.11 están desplegadas en la mayoría de los lugares, (universidades, ambientes laborales, colegios, 12 hogares lugares de entretenimiento entre otros). Además la gran cantidad de tecnologías que coexisten en la banda ISM son numerosas tales como: hornos microondas dispositivos Bluetooth, teléfonos microondas, etc. Pero estas redes son desplegadas con poco o casi ningún conocimiento, como por ejemplo ancho de los canales que usa la red, conocimiento de alguna fuente de interferencia o simplemente la superposición de una red inalámbrica sobre otra. Esto trae como consecuencia la degradación del desempeño de estas redes, calidad de la señal, altas tasas de retardo y bajas tasas de transferencias de datos. En esta investigación se pretende responder a la siguiente interrogante ¿Cómo ciertas fuentes de interferencia provenientes de dispositivos que coexisten en la banda de los 2.4 GHz afectan el desempeño de una red IEEE 802.11? 1.2 Objetivo General En este trabajo se pretende: Estudiar el efecto de la interferencia entre dispositivos que trabajan en la banda ISM de 2.4 GHz y las redes basadas en el estándar IEEE 802.11. 1.3 Objetivos Específicos Con este trabajo se pretenden alcanzar los siguientes objetivos:  Desarrollar una herramienta, kit de Hardware y Software de bajo costo, capaz de analizar el espectro de radio eléctrico de los 2.4GHz.  Estudiar el comportamiento de algunas fuentes de interferencia que existen en la banda ISM de los 2.4GHz.  Analizar los resultados y proponer recomendación de uso de una red IEEE 802.11 que coexisten con las fuentes de interferencias estudiadas. 1.4 Justificación Con el auge de los dispositivos que usan la banda ISM en los 2.4GHz es necesario realizar estudios sobre el comportamiento de los mismos y los tipos de interferencia que éstos acarrean sobre las redes basadas en el estándar IEEE 802.11. Actualmente en el país estos estudios son escasos y adicionalmente las herramientas existentes en el mercado son de un alto costo. 13 1.5 Alcance Aunque existen diversos dispositivos que trabajan en la banda ISM de 2.4 GHz, en este estudio solo se considerarán los siguientes: horno microondas, teléfonos inalámbricos y dispositivos Bluetooth. 1.6 Distribución del Documento Este trabajo está estructurado de la siguiente manera:  Capítulo 1: contiene un breve resumen del documento, se explica el problema planteado, los objetivos, justificación y alcance de esta investigación y finalmente la distribución del documento.  Capítulo 2: describe el marco teórico, en el cual se aborda el tema de la interferencia y las tecnologías que operan sobre la banda ISM de los 2.4 GHz; entre estas tecnologías se mencionarán IEEE 802.11, Bluetooth, hornos microondas y teléfonos inalámbricos.  Capítulo 3: muestra la metodología a utilizar, las características de cada uno de los dispositivos y las herramientas para el desarrollo de este trabajo.  Capítulo 4: muestra en detalle la descripción, funcionamiento y elaboración de la herramienta para el análisis de la banda ISM de 2.4 GHz. dicha herramienta es el ICARO Scanner. Herramienta fundamental para la elaboración de este trabajo.  Capítulo 5: describe los diversos escenarios y para los experimentos, la cantidad de experimentos efectuados y la manera cómo fueron recolectados los datos.  Capítulo 6: muestra los resultados en forma gráfica, junto con un análisis detallado para cada uno de los experimentos realizados sobre los escenarios de prueba.  Capítulo 7: muestra las conclusiones, limitaciones, recomendaciones, consejos para un mejor desempeño de las redes inalámbricas basadas en IEEE 802.11 y futuros trabajos que pueden ser realizados usando la herramienta generada por este trabajo. 14 2 Tecnologías que Operan en la Banda ISM de 2.4GHz La banda Industrial Científica y Médica (Industrial Scientific and Medical, ISM) es una banda no regulada definida por la Unión Internacional de Telecomunicaciones sector Radio (International Telecommunication Union Radio Sector, ITU-R) [2]. La banda ISM está dividida en un conjunto de bandas de frecuencias de radio de uso no comercial, que están destinadas para el uso en los campos de la industria, la medicina y la ciencia. Entre algunas de las tecnologías que usan esta banda se encuentran, las redes basadas en el estándar IEEE 802.11, dispositivos Bluetooth, hornos microondas y teléfonos inalámbricos, entre otros. De estas regulaciones de radio, la banda de frecuencia sobre las cuales se basan la mayoría de estos dispositivos es la de 2400-2500 MHz con banda central de 2450 MHz. En la República Bolivariana de Venezuela, se define el uso de dispositivos de la banda ISM en [3]. En la tabla CUNABAF se determinan las características para el uso de los dispositivos inalámbricos sobre la banda de 2400-2483,5 MHz y un uso máximo de potencia de 1W. Debido a la gran diversidad de tecnologías que existen utilizando dicha banda, surge la interrogante ¿Qué sucede cuando dos o más tecnologías distintas que usan esta banda trabajan en el mismo canal en el espectro? La respuesta es la interferencia. Según el diccionario de la Real Academia Española [4], la interferencia es simplemente la acción recíproca de las ondas, de la cual puede resultar, en ciertas condiciones, aumento, disminución o anulación del movimiento ondulatorio. Esto quiere decir que si en un canal se producen 2 o más ondas, ellas pueden sobreponerse entre sí afectándose mutuamente y crear una nueva onda que no es necesariamente entendida entre los dispositivos generando así degradación en la comunicación o en el peor de los casos falla total de la comunicación. A continuación se describen las tecnologías estudiadas en este trabajo. 2.1 IEEE 802.11 El estándar IEEE 802.11 es un miembro de la familia IEEE 802, en éste se definen normas que están enfocadas en las dos capas inferiores del modelo OSI, es decir la capa física (physical, PHY) y la sub capa de Control de Acceso al Medio ( Media Access 15 Control, MAC). La MAC es un conjunto de reglas que determinan cómo acceder al medio y enviar datos, pero la transmisión y recepción de datos es responsabilidad de la capa física. Esta capa usa Acceso Múltiple por Detección de Portadora con Prevención de Colisiones (Carrier Sense Multiple Access Collision Avoidance, CDMA/CA) para enviar la información a través del aire [5]. CDMA/CA es un protocolo de control de redes de bajo nivel que permite que múltiples estaciones utilicen un mismo medio de transmisión, éste funciona de la siguiente manera: si una estación tiene una trama que transmitir, escucha el medio. Si el medio está libre, debe esperar un tiempo de intervalo obligatorio entre tramas (interframe space, ISF) y si el medio permanece libre puede enviar. De lo contrario, espera hasta que la estación en curso termine. Una vez que la transmisión finaliza debe esperar otro tiempo IFS. Si el medio permanece libre por dicho período, la estación espera por cierto período aleatorio (llamado exponential binary backoff) y entonces escucha el medio de nuevo. Si el medio aún está libre la estación puede transmitir [6]. A partir de ahora, en el documento se nombrará al estándar IEEE 802.11 como simplemente 802.11. 2.1.1 Arquitectura de Protocolos La arquitectura de protocolos se describe en la Figura 2.1. Figura 2.1: Estructura de IEEE 802.11 El estándar 802.11 está conformado por la capa MAC y la capa PHY pero a su vez la capa PHY se divide en dos capas. En la Figura 2.1 se muestran la subcapa de de llave RSNA Administración Enlace de Datos MAC_SAP PHY_SAP Subcapa PLCP PMD_SAP Subcapa PMD Subcapa MAC Administradora Entidad Entidad Administradora Subcapa PHY MLME_PLME_SAP MLME_SAP PMLE_SAP A P A C Administradora Entidad Estación 802.1X Subcapa MAC A P A C Física 16 Procedimiento de Convergencia de la Capa Física (Physical Layer Convergence Procedure, PLCP) y la subcapa Dependiente del Medio Físico (Physical Médium Dependent, PMD) [1]. Los servicios de la capa física proporcionados a la capa de enlace o MAC de IEEE 802.11, consiste en las siguientes funciones:  Función de la convergencia de la PHY: adapta las capacidades del sistema PMD al servicio de esta capa. Esta función es utilizada por el PLCP, que define un método para asociar las unidades de protocolo de datos MAC (MAC Protocol Data Unit, MPDU’s) de 802.11 en un formato que permite administrar el envío y recepción tanto de datos como información de control entre dos o más estaciones o STA’s usando el sistema de PMD.  Subcapa PMD: define las características y métodos para transmitir y recibir datos por el medio inalámbrico entre dos o más STAs. Dentro de esta estructura hay que mencionar las siguientes funcionalidades:  Subcapa PLCP: Permite a la capa de enlace de 802.11 operar con dependencia mínima de la subcapa PMD, ésta se define como subcapa de convergencia, y es una interfaz entre los servicios de la capa física y la capa de enlace de 802.11.  Subcapa de entidad administradora de la capa física, Physical Layer Managment Entity, PLME: Esta capa realiza la administración de las funciones locales de la capa física conjuntamente con la entidad administradora de la capa MAC, (MAC Sublayer Management Entity, MLME.)  Subcapa PMD: La subcapa de PMD proporciona una interfaz de transmisión usada para enviar y recibir datos entre dos o más STA’s. En el lado del emisor esta subcapa valida las primitivas de servicio de la subcapa de PLCP, proporciona a los medios físicos las señales requeridas por las mismas, y finalmente las señales son enviadas al medio. En la subcapa de PMD en el lado del receptor se invierte el proceso. La función combinada de las subcapas de transmisión y recepción de la PMD proporciona una secuencia de datos, información de sincronización y recepción de la información de los parámetros, y finalmente son entregados a la subcapa de recepción de PLCP. 2.1.2 Componentes Los componentes principales de las redes 802.11 son: 17  Estaciones o STA: Son dispositivos de cómputo con interfaces inalámbricas de red.  Puntos de acceso, Access Point, AP: Cualquier entidad que tenga funciones de estación que proporciona el acceso a los servicios de distribución, vía el medio inalámbrico asociado.  Medios inalámbricos: Para mover las tramas de estación a estación, el estándar usa un medio inalámbrico. Estos medios inalámbricos permiten intercambiar tramas entre distintos tipos de capas físicas del estándar 802.11.  Sistemas de distribución: Es un componente lógico de IEEE 802.11 usado para transmitir las tramas a su destino. 802.11 no especifica una tecnología particular para el sistema de distribución [5]. 2.1.3 Topología El bloque básico de construcción de las redes 802.11 es el conjunto de servicios básicos, (Basic Service Set, BSS), el cual simplemente agrupa las estaciones para la intercomunicación. Las comunicaciones toman lugar en un área poco definida llamada Área Básica de Servicio, (Basic Service Area, BSA). Esta área es definida por la propagación de características en el medio inalámbrico. Cuando una STA está en el área del BSA puede comunicarse con otros miembros del BSS. Los BSS pueden estar estructurados de dos maneras:  Redes independientes: las estaciones que están conectadas a un conjunto básico de servicios independientes (Independent BSSS, IBSS), se comunican entre sí y deben estar en el rango de comunicación directa. Generalmente, el IBSS se compone de una pequeña cantidad de estaciones con un propósito específico en un corto período de tiempo. Estas redes también reciben el nombre de redes Ad-hoc (véase Figura 2.2). 18 Figura 2.2: Estructura BSS Independiente  Redes de infraestructura: Las redes de infraestructura se distinguen de las redes ad-hoc por el uso del AP. Los AP’s se utilizan en todas las redes de infraestructura, la función primordial de los AP’s es la comunicación entre las STA’s. Todas las STA requieren estar dentro del rango de cobertura de un AP, pero no existen restricciones de distancia entre las estaciones móviles. Un ejemplo de este tipo de redes se puede observar en la Figura 2.3 [5]. Figura 2.3: BSS de Infraestructura. 2.1.4 Capas Físicas A continuación se describirá el funcionamiento de las diversas capas físicas del estándar IEEE 802.11 sobre los 2.4GHz. 2.1.4.1 División por Salto de Frecuencia La División por Salto de Frecuencia (Frequency Hopping Spread Spectrum, FHSS) es un método de transmisión de señales de radio que consiste en dividir la frecuencia 19 portadora en muchos canales de frecuencia. Con el salto de frecuencia la señal es propagada por difusión sobre frecuencias pseudo aleatorias saltando de frecuencia a frecuencia en intervalos regulares. El receptor y el transmisor están sincronizados entre los cambios de frecuencia mientras reciben los mensajes [7]. Figura 2.4: Ejemplo del uso de FHSS La Figura 2.4 muestra un ejemplo de señal de saltos. Un número de canales son alojados para la señal de salto de frecuencia. Generalmente, hay 2k frecuencias portadoras formando 2k canales. El espaciado entre las frecuencias portadoras y por lo tanto el ancho de cada canal corresponde al ancho de banda de la señal de entrada. El transmisor opera en un canal por un período de tiempo con un intervalo determinado; en el caso de 802.11 es de 300 ms. Durante ese intervalo, un determinado número de bits son enviados usando algún sistema de codificación. La secuencia de canales usadas es dictada por un código de extensión. El transmisor y el receptor usan el mismo código para entonar (tune) una secuencia de sincronización en el canal. Como método de modulación se usa dos Cambio de Frecuencia Gausiano, (Gaussian frequency-shift keying, 2GFSK), que es un tipo de modulación donde un 1 lógico es representado mediante una desviación positiva (incremento) de la frecuencia de la portadora, y un 0 mediante una desviación negativa (decremento) de la misma [1]. Entre la ventaja de FHSS de este método de transmisión se tiene:  Distribución de frecuencias sin necesidad de planearlas.  Disminución de la interferencia y desvanecimiento entre los dispositivos sobre la parte del espectro utilizada en la red. 5 8 3 7 1 6 4 2 f1 f2 f3 f4 f5 f6 f7 f8 Frecuencia E n e r g ía Frecuencia f1 f2 f3 f4 f5 f6 f7 f8 (a) Asignacion de Canales (b) Uso del Canal Tiempo 20 2.1.4.2 División por Espectro Ensanchado de Secuencia Directa La División por Espectro de Secuencia Directa (Direct Sequence Spread Spectrum, DSSS), es una de las primeras capas físicas y representa cada bit de la señal original en múltiples bits de la señal transmitida, usando código de extensión. Este código extiende la señal a una banda de frecuencia más ancha en proporción directa con el número de bits usados. Por lo tanto, un código de extensión de 10 bit extiende la señal a través de una frecuencia de banda 10 veces más grande que la de un código de extensión de 1 bit. Una técnica para el DSSS es combinar el flujo de información digital con un flujo de bit de extensión usando un “o exclusivo” XOR. A partir de DSSS se desarrollan otras capas físicas, aplicando nuevas tecnologías para proveer mayores índices de transferencia de datos [7].  Rango de Frecuencia: La capa física de DSSS se opera entre los rangos de frecuencia de 2.4GHz a 2.4835GHz las cuales cumplen la banda regulatoria de China, EUA y Europa o en el rango de frecuencias entre 2.471GHz a los 2.497GHz en Japón.  Canales Operativos: Los dispositivos 802.11 que usan este tipo de modulación operan en frecuencias de ancho de banda de los 10 MHz. En la Tabla 2.1, se muestran ordenados los canales centrales por su número y frecuencia. Adicionalmente se muestran qué canales son permitidos por ciertos entes regulatorios. Los dispositivos 802.11 que usan este tipo de modulación operan en frecuencias de ancho de banda de los 10 MHz. En la Tabla 2.1, se muestran ordenados los canales centrales por su número y frecuencia. Adicionalmente se muestran qué canales son permitidos por ciertos entes regulatorios. 21 Tabla 2.1: Canales de Frecuencias centrales por región. ID del Canal Frecuencia Dominios Regulatorios X’10’ FCC X’20’ IC X’30’ ETSI X’31’ España X’32’ Francia X’40’ Japón X’50’ China 1 2412 MHz X X X - - - X 2 2417 MHz X X X - - - X 3 2422 MHz X X X - - - X 4 2427 MHz X X X - - - X 5 2432 MHz X X X - - - X 6 2437 MHz X X X - - - X 7 2442 MHz X X X - - - X 8 2447 MHz X X X - - - X 9 2452 MHz X X X - - - X 10 2457 MHz X X X X X - X 11 2462 MHz X X X X X - X 12 2467 MHz - - X - - - X 13 2472 MHz - - X - - - X 14 2484 MHz - - - - - X - Otra manera de observar los canales operativos se muestra en la Figura 2.5. Figura 2.5: Canales de 802.11 por DSSS 2.1.4.3 Tasa Alta El método de transmisión de Tasa Alta (High Rate, HR/DSSS), es una extensión de los sistemas basados en DSSS, para proporcionar mayores velocidades de transmisión. Se usa un esquema de modulación de código de clave complementario de 8- fragmentos (8-chip Complementary Key Code, CCK) [1]. El CCK fragmenta el ancho de banda en segmentos de 11 MHz. Esta fragmentación permite tener velocidades de 22 transmisión superiores a 2 Mb/s, además permite tener mayor cantidad de dispositivos. La misma es compatible con los preámbulos de DSSS. Este método de modulación permite tasas de trasferencia de carga útil de datos de 5.5 Mb/s y de 11 Mb/s. Además este modo de modulación provee sistema de compatibilidad con la modulación DSSS y sus velocidades de transferencia tanto de 1Mb/s, como la de 2Mb/s. 2.1.4.4 Capa Física de Tasa Extendida La Capa Física de Tasa Extendida (Extended-Rate PHY, ERP) es una extensión adicional a la capa física, la cual es compatible con la capa física de DSSS y con la capa física de HR/DSSS, esta capa usa multiplexación por división de frecuencia ortogonal( Orthogonal Frequency Division Multiplexing, OFDM) para proporcionar índices de datos superiores a los de DSSS y los de HR/DSSS [1]. Al igual que en HR/DSSS y DSSS, ERP usa la banda ISM que abarca de 2.4GHz a 2.4835GHz, las cuales cumplen la banda regulatoria de China, EUA y Europa o en el rango de frecuencias entre 2.471GHz a los 2.497GHz en Japón (véase Tabla 2.1) El método de modulación de OFDM dentro de DSSS permite tasas de transferencias de 6, 9, 12, 18, 24, 36, 48, y 54 Mb/s. De éstas, las tasas de transmisión del transmisor y la del receptor para 1, 2, 5.5, 6, 11, 12, y 24 Mb/s es obligatoria. 23 2.1.4.5 Tabla Comparativa A continuación se muestra una tabla comparativa (véase Tabla 2.2) las diversas capas físicas que existen en el estándar IEEE 802.11 mostrando los siguientes campos: Tabla 2.2: Comparación entre las diversas tecnologías de 802.11 Nombre Especificación según IEEE Tipo de Modulación Tasas de transferencia Rango de Frecuencias Número de canales de frecuencia Otros FHSS 802.11 (1997) GFSK 1 Mbps 2.400-24835 GHz 87 (Canales de 1 MHZ) Actualmente en desuso. DSSS 802.11 (1997) DBPSK DQPSK 1 Mbps 2 Mbps 2.400-24835 GHz 14 (Canales de 20 MHz) Obsoleta, pero es la base de 802.11b y de 802.11g. Para evitar interferencias entre redes multi celda de esta tecnología se recomienda separar los canales con distancias de 30 MHz. HR/DSSS 802.11b CCK 5.5 Mbps 11 Mbps 2.400-24835 GHz 14 (Canales de 20 MHz) Posee compatibilidad con DSSS actualmente se usa poco. Para evitar interferencias entre redes multi celda de esta tecnología se recomienda separar los canales con distancias de 30 MHz. ERP 802.11g OFDM 6, 9, 12, 18, 24, 36, 48, y 54 Mb/s. D e las cuales 1, 2, 5.5, 6, 11, 12, y 24 Mb/s son obligatoria 2.400-24835 GHz 14 (Canales de 20 MHz) Posee compatibilidad con sistemas DSSS, DSSS/HR. Es el más usado hoy en día, pero puede quedar obsoleto al lado del estándar IEEE802.11. Para evitar interferencias entre redes multi celda de esta tecnología se recomienda separar los canales con distancias de 30 MHz. 24 2.2 Bluetooth La tecnología inalámbrica Bluetooth es un sistema de comunicaciones de corto alcance previsto para sustituir los cables que conectan los dispositivos electrónicos portátiles y/o fijos. Las características dominantes de la tecnología inalámbrica de Bluetooth son robustez, bajo consumo de energía y bajo costo. Muchas características de la especificación de la base son opcionales permitiendo así la diferenciación de los productos [8]. La tecnología Bluetooth está enfocada a realizar las siguientes actividades:  Reemplazo del cable: sustitución de interfaces tradicionales, tales como RS-232 y conectores propietarios.  Punto de acceso de voz y data: proporciona una interfaz uniforme para acceder a servicios de voz y datos. También se puede usar para proporcionar acceso a una WAN usando un gateway personal tal como un teléfono celular.  Redes Ad hoc: proporciona comunicación sin infraestructura, que se puede usar para el soporte a grupos colaborativos (reuniones, conferencias). 2.2.1 Arquitectura de Protocolos Los sistemas basados en la tecnología Bluetooth están conformados por un conjunto de protocolos que se muestran en la Figura 2.6 y unas especificaciones las que se describen como:  Especificación del Núcleo (Core Specification): describe los detalles de los diversos protocolos que conforman la pila de protocolos dentro del núcleo (core) de Bluetooth. La versión más reciente de la especificación de núcleo de Bluetooth es la versión 4.0, pero en este documento se usará la 2.1.  Especificación de perfiles (Profile Specification): incluye los detalles del uso de la tecnología Bluetooth para soportar varias aplicaciones. Indica cuáles de los aspectos de la especificación del núcleo son obligatorios, opcionales y no aplicables. En la Figura 2.6 se muestra la pila de protocolos que conforman este estándar, la misma se subdivide en los siguientes niveles:  Protocolos fundamentales de Bluetooth (protocolos del núcleo): son específicos de la tecnología inalámbrica Bluetooth y han sido desarrollados por el Grupo Industrial Especial, (Special Industrial Group, SIG de Bluetooth).  Protocolos de sustitución de cable: suministran señalización de control que emulan el tipo de señalización que se asocia usualmente con los enlaces de cable. 25  Protocolos de control de telefonía: definen la señalización de control de llamada para establecer llamadas de voz y datos con dispositivos Bluetooth. También especifica un protocolo (Comandos AT) que determinan cómo pueden controlarse un MODEM y un teléfono móvil.  Protocolos adoptados: son protocolos existentes desarrollados por otros que se utilizan para diversos fines en las capas superiores [9]. Figura 2.6: Pila de protocolos de Bluetooth 2.2.1.1 Protocolos de Núcleo Los protocolos de núcleo son los siguientes:  Protocolo de Descubrimiento de Servicio (Service Discovery Protocol, SDP): Es un protocolo que permite a un dispositivo Bluetooth preguntar acerca de los servicios disponibles que puede tener otro dispositivo al que se encuentra conectado y cómo acceder a estos servicios.  Capa de Adaptación y Control de Enlace Lógico, (Logical Link Control and Adaptation Protocol, L2CAP): se encuentra ubicada sobre el protocolo de administración de enlace. El L2CAP ofrece a los protocolos superiores, servicios de datos orientados y no orientados a conexión; además este protocolo ofrece la capacidad de multiplexación, operaciones de segmentación y ensamblaje y abstracción de grupos. El L2CAP permite a las aplicaciones de protocolos superiores transmitir y recibir paquetes de datos de hasta 64 Kilobytes de longitud. Esta capa también permite control de flujo por el canal y retransmisiones usando mecanismo de control de flujo y modos de retransmisión. Bluetooth Radio Baseband Link Manager Protocol (LMP) Logical Link Control and Adaptation Prottocol (L2CAP) RFCOMMAudio Control PPP IP UDP/TCP OBEX vCard/VCal WAP WAE Comandos AT TCS Bin SDP Interfaz de Control del Host P ro to co lo s de tr an sp or te P ro to co lo s m id dl ew ar e Protocolos del núcleo Protocolos de sustitución del cable Protocolos de control de telefonía Protocolos adoptados Bluetooth Radio Baseband Link Manager Protocol (LMP) Logical Link Control and Adaptation Prottocol (L2CAP) RFCOMMAudio Control PPP IP UDP/TCP OBEX vCard/VCal WAP WAE Comandos AT TCS Bin SDP Interfaz de Control del Host P ro to co lo s de tr an sp or te P ro to co lo s m id dl ew ar e Protocolos del núcleo Protocolos de sustitución del cable Protocolos de control de telefonía Protocolos adoptados 26  Protocolo de Manejo de Enlace, (Link Management Protocol, LMP): es utilizado para la negociación y control de todas las conexiones de dos dispositivos Bluetooth esto incluye el establecimiento, control del transporte, enlace lógico y el control de los enlaces físicos. Por otro lado, el LMP también es usado para la comunicación por el administrador de enlace. Todos los mensajes LMP se deben aplicar solamente al enlace físico y estar asociados al enlace y el transporte lógico entre los dispositivos que envían y reciben datos.  Banda Base: define los procedimientos claves para permitir la comunicación entre dispositivos. A lo largo del documento se explicará de manera detallada este protocolo.  Bluetooth Radio: es el encargado de la modulación y manejo de las frecuencias de radio dentro de Bluetooth. En él es usado un transceptor que utiliza saltos de frecuencia para compartir el desvanecimiento y la interferencia. A lo largo del documento se explicará de manera detallada este protocolo. 2.2.1.2 Protocolos de Sustitución de Cable El protocolo de sustitución de cable llamado Comunicaciones de Radio Frecuencia (Radio Frequency Communications, RFCOMM), permite que aplicaciones diseñadas e implementadas para operar sobre cables seriales corran sobre Bluetooth sin ser modificadas. Este protocolo emula las señales sobre los nueve hilos de un cable de interconexión RS-232. 2.2.1.3 Protocolos de Control de Telefonía El Protocolo de Control de Telefonía Binaria (Telephony Control Protocol – Binary, TCS-Bin), soporta funciones de telefonía normal entre las que se encuentran iniciación y terminación de una llamada, reconocer una llamada entrante, aceptar una llamada. Soporta la comunicación punto a punto y punto a multipunto. 2.2.1.4 Protocolos Adoptados Entre los protocolos adoptados se tienen los siguientes:  Protocolo Punto a Punto (Point-to-Point Protocol, PPP): es el protocolo de transporte estándar de Internet y permite el transporte de datagramas IP sobre enlaces punto a punto.  TCP/IP/UDP: Protocolos bases para el uso de la suite de TCP/IP.  Protocolo de intercambio de Objetos (Object Exchange Protocol, OBEX): es el protocolo ubicado en la capa de sesión que permite el intercambio de objetos, ofreciendo un modelo de objetos y una representación de operación. 27  WAE/WAP: el Ambiente de aplicación inalámbrica (Wireless Application Enviorenment, WAE), el cual especifica el marco de trabajo de la aplicación para los dispositivos inalámbricos y el protocolo de aplicación inalámbrica, Wirless Application Protocol, WAP,que es un estándar abierto para proveer a los usuarios móviles acceso a los servicios de telefonía e información. En este documento se hará hincapié en el RF Bluetooth Radio y en la banda base, que son la capa física del protocolo [8]. 2.2.2 Bluetooth Radio El RF es el protocolo encargado de la modulación y el uso de frecuencias dentro de la tecnología de Bluetooth. Éste trabaja usando la banda ISM de los 2.4GHz. Este emisor/receptor de radio usa dispersión de espectro por salto de frecuencia o FHSS, para evitar el desvanecimiento de la señal y la interferencia. Por otro lado, se definen dos modos de modulación dentro de la RF. Una obligatoria llamada tasa básica, la cual usa una forma de modulación binaria de Frecuencia Modulada (Frequency Modulation, FM), para minimizar la complejidad del transceptor. Adicionalmente existe un modo opcional, llamado modo de tasa extendido, el cual usa modulación cambio de clave de fase (Phase-shift keying, PSK), con dos variantes: π/4-DQPSK y 8DPSK [8]. Adicionalmente se usa el esquema de transmisión de Doble División de Tiempo (Time Division Duplex, TDD) para los modos de tasa básica y extendida. Estas especificaciones definen los requerimientos para los radio Bluetooth tanto de tasa básica como de tasa extendida. Se definen estos requerimientos por dos razones:  Proveer compatibilidad entre los radios que usan el sistema.  Definir la calidad del sistema. 2.2.2.1 Banda de Frecuencias Los sistemas Bluetooth operan en la banda ISM de 2.4GHz. Esta banda de frecuencia es de 2400 a 2483.5 MHz. Tabla 2.3: Rangos de Frecuencia de Bluetooth. Rango Regulatorio Rango de Radio Frecuencia 2.400-2.4385 GHz f= 2402+k MHz, k= 0,…,78 Los canales del Bluetooth Radio están separados por 1 MHz y están ordenados en canales como se muestra en la Tabla 2.3. Para no salir de las regulaciones de banda de 28 cada país, una banda guarda es usada para los bordes superiores e inferiores como se muestra en la Tabla 2.4. Tabla 2.4: Ancho de banda de las frecuencias de guarda Banda Guarda Inferior Banda Guarda Superior 2 MHz 3 MHZ 2.2.2.2 Modo Básico El modo básico es el modo de transmisión obligatoria dentro de los sistemas de Bluetooth este modo usa como método de modulación GFSK. Este modo tiene una tasa de transferencia de 1 MS/s [8]. 2.2.2.3 Modo Extendido Una característica importante del modo extendido es que su esquema de modulación es cambiado dentro del paquete. El código del paquete y la cabecera del mismo es asignado por la banda base, es transmitido con la tasa básica de 1 Mbps con esquema de modulación GFSK; mientras que la secuencia de sincronización posterior de la carga útil, y la secuencia tráiler son transmitidas usando data extendida con un esquema de modulación PSK. Para la transición del código de acceso y la cabecera del paquete es usada modulación de tasa básica con GFSK. Para la transmisión de las secuencias de sincronización, carga útil y secuencia de paquetes se usa un tipo de modulación de PSK con una tasa de datos de 2 Mbps y opcionalmente se puede usar una de 3 Mbps. A continuación se muestran los tipos de modulación usados en el modo extendido de manera detallada.  El formato de modulación definido para la transmisión de 2 Mbps debe ser el rotado π/4 con cambio diferencial de fase cuaternaria. El cual describe un conjunto de M- Aria posiciones donde M=4 en y la función usada para tasa de datos es Log2 (M) para enviar 2 bits por símbolo, dando así la velocidad de 2 Mbps. Existe una relación entre la entrada primaria bk y la fase ɸk que están definidas en la.Tabla 2.5 29 Tabla 2.5: Mapeo de π/4-DQPSK Bit2k-1 Bit2k Desplazamiento ɸk 0 0 π/4 0 1 3π/4 1 1 -3π/4 1 0 -π/4  El formato de modulación definido para la transmisión de 3 Mbps debe usar un 8- Ario cambio diferencial de fase cuaternaria. El cual describe un conjunto de M-Aria posiciones donde M=8. La función usada para tasa de datos es Log2(M)para enviar 3 bits por símbolo, enviando así a velocidad de 3 Mbps. Existe una relación entre la entrada primaria bk y la fase ɸk que están definidas en la Tabla 2.6. Tabla 2.6: Mapeo de 8DPSK Bit3k-2 Bit3k-1 Bit3k Desplazamiento ɸk 0 0 0 0 0 0 1 π/4 0 1 1 π/2 0 1 0 3π/4 1 1 0 π 1 1 1 -3π/4 1 0 1 -π/2 1 0 0 -π/4 2.2.3 Banda Base La banda base (Base Band, BB) es un conjunto de protocolos y procedimientos, los cuales definen cada una de las características de enviar datos a la capa física, o de simplemente enviar información a capas superiores. A continuación se muestra un conjunto de definiciones que permiten el conocimiento de la banda base. 2.2.3.1 Paquetes En los sistemas Bluetooth la comunicación de datos entre los dispositivos se realiza a través de paquetes. En [8] se especifican dos tipos de paquetes: 30  Paquetes usados para la tasa de transmisión básica: son los paquetes obligatorios dentro de Bluetooth. El formato general de paquete se muestra en la Figura 2.7. Figura 2.7: Paquete de Tasa Básica o Código de acceso: son generalmente utilizados para la sincronización compensación de desplazamiento e identificación de paquetes en el canal físico. o Encabezado: encargados del transporte de la dirección lógica, identificación del tipo de paquete y del control de flujo. o Carga Útil: Encargado de transportar la carga útil entre los dispositivos. Esta carga útil puede ser de tipo síncrono o asíncrono.  Paquetes usados para tasa de transmisión extendida: estos tipos de paquetes son opcionales dentro de Bluetooth y su formato general se muestra en la Figura 2.8. Figura 2.8: Paquete de tasa extendida Donde código de acceso y el encabezado son exactamente iguales a los de la tasa básica. Además ente este paquete se agrega una guarda, una sincronización y un tráiler al final. Vale la pena resaltar que una sección del paquete es enviado por el método de GFSK y el resto del paquete es enviado usando DPSK. [8]. 2.2.3.2 Topología de Red En las redes formadas por dispositivos Bluetooth se cumplen las siguientes características: un dispositivo maestro y uno esclavo, donde el maestro es el encargado de definir los saltos de frecuencias y el método de comunicación entre él y el esclavo. Entre los tipos de redes que existen en la tecnología de Bluetooth se tienen los siguientes:  Piconet’s: Son las redes que constan de un maestro y al menos un esclavo, como se ve en la Figura 2.9 a. Existen piconet’s que consisten en un maestro controlando múltiples esclavos (véase Figura 2.9 b). Es importante resaltar que no pueden existir Encabezado Código de acceso MSB Carga Útil LSB 5468/72 0-2745 Código de acceso LSB Carga útil de tasa extendidaGuarda SYNC MSB TrailerEncabezado GFSK DPSK 31 más de 7 esclavos conectados a una piconet. Si en una piconet llegara a existir más de 7 esclavos, ellos pueden estar conectados pero en estado detenido hasta que sean necesarios, o hasta que otro dispositivo esté en estado detenido.  Scatternets: o redes en dispersión, son aquellas redes que están conformadas por un conjunto de piconet’s, es decir que uno de los nodos esclavos pudiese ser maestro de otra piconet como se ve en la Figura 2.9 c. Figura 2.9: Topología de las redes de Bluetooth 2.2.3.3 Reloj Bluetooth Todo dispositivo Bluetooth posee un reloj nativo (Native Clock, CLKN), el cual es derivado de un reloj libre del sistema. El CLKN es utilizado para la sincronización de dispositivos Bluetooth mediante un desplazamiento. Este desplazamiento ofrece una sincronización temporal entre los dispositivos. El CLKN está implementado con un contador de 28 bits. Usando este reloj se deben marcar intervalos de 312 μs los cuales corresponden a media ranura de tiempo. El reloj determina periodos críticos y desencadenar eventos en el dispositivo. Existen cuatro períodos de tiempo importantes en los sistemas de Bluetooth: 312.5 μs, 625 μs, 1.25 ms y 1.28 s; estos períodos corresponden en los bits del temporizador en CLK0, CLK1, CLK2 y CLK12 (Véase la Figura 2.10). A partir del bit menos significativo (Least Significant Bit, LSB), de la Figura 2.10, se deben marcar intervalos de 312µs, la cual es la media de una ranura de tiempo, dando así una tasa de reloj de 3.2 KHz. a b c Maestro Esclavo 32 Figura 2.10: Reloj Bluetooth Dependiendo del modo y el estado dentro de los dispositivos Bluetooth el reloj puede ser visto de las siguientes maneras:  CLKN reloj nativo.  CLKE reloj estimado.  CLK reloj maestro. 2.2.3.4 Códigos de Acceso En los sistemas Bluetooth todas las transmisiones sobre el canal físico comienzan con el código de acceso. Se definen tres códigos de accesos diferentes los cuales son:  Códigos de acceso a dispositivo: usado durante el sub estado de página, escaneo de página y respuesta de página. Y se debe derivar de la página de la dirección del dispositivo Bluetooth o BD_ADDR.  Códigos de acceso al canal: es usada en el estado de conexión y conforma el principio del intercambio de todos los paquetes del canal físico de la piconet.  Códigos de acceso de investigación: es usado para el sub estado de indagación Todos estos códigos son derivados del LAP de una dirección de dispositivos o una dirección de indagación. 2.2.3.5 Canal Físico Los canales físicos están definidos por un canal de frecuencia de saltos de secuencias pseudo aleatorias, la ranura de tiempo del paquete y el código de acceso. La secuencia de salto está determinada por la parte superior de dirección (Upper Address Part, UAP), y la parte inferior de dirección (Lower Address Part, LAP), de la dirección del dispositivo y el salto de frecuencia seleccionado. La fase del salto de frecuencia es determinada por el CLK. Todos los canales físicos son subdivididos en ranuras de tiempo cuya longitud es diferente dependiendo del canal físico. Dentro del canal físico, cada evento de recepción y transmisión es asociado con una ranura de tiempo o múltiples ranuras de tiempo. Para cada evento de recepción y transmisión de datos, un canal de radio es 33 seleccionado por el núcleo de selección de salto. La máxima tasa de saltos es 1600 saltos/s. En la conexión el estado máximo es de 3200 saltos/s. Los canales físicos están definidos como:  Canal físico básico de la piconet: El canal físico básico de la piconet, es el encargado de crear conexión de los elementos de la piconet en el estado de conexión. Dentro de este canal físico se definen los siguientes conceptos: o Definición de maestro esclavo: El canal físico es definido por el maestro de la piconet. El maestro controla el tráfico de la piconet en el canal físico usando un esquema de encuesta. Por definición, un dispositivo que inicia la conexión es el maestro. Una vez la piconet está establecida, los roles entre maestro y esclavo pueden ser cambiados. o Características de los saltos: el canal físico básico de la piconet está caracterizado por ser un conjunto de saltos pseudo aleatorios a través de los 79 canales de la frecuencia de radio. El salto de frecuencia en este canal físico está determinado por el CLKN (reloj de 28 bits) y por la BF_ADDR del maestro. Cuando la piconet es establecida, el CLKN es enviado a los esclavos. Cada esclavo debe agregar un desplazamiento a ese CLKN para sincronizar con el CLK. Como los relojes son independientes, el desplazamiento debe ser actualizado regularmente. Todos los dispositivos participantes en la piconet están sincronizados tanto en tiempo como en saltos dentro de su canal. o Ranuras de tiempo: el canal físico básico está dividido en ranuras de tiempo, estas ranuras tienen la longitud de 625 μs de longitud. Las ranuras de tiempo están enumeradas acordando los 37 bits más significativos MSBs del reloj CLK28-1 maestro de la piconet. Las ranuras están numeradas en rangos desde el 0 a 2 27— 1 y es cíclico con un ciclo de longitud de 2 27 . El número de ranura de tiempo es denotado con la letra k. o Un esquema dúplex de división de tiempo es usado cuando el maestro y el esclavo envían data de manera alternativa. Los paquetes deben estar alineados con el inicio del slot. Los paquetes pueden estar extendidos hasta 5 slots de tiempo (Véase Figura 2.11). 34 Figura 2.11: Paquetes multi-ranura o Reloj de la piconet: el CLK es el reloj maestro de las piconet. Éste será utilizado para todas las actividades de sincronización y planificación de la piconet. El CLK debe derivarse del CLKN por agregación y desplazamiento. El desplazamiento es cero para el maestro desde que el CLK es idéntico al CLKN. Cada esclavo debe agregar un desplazamiento adecuado a su CLKN, de manera que su CLKN corresponda con el CLKN del maestro. Aunque todos los CLKNs en los dispositivos corra a la misma tasa nominal, la acumulación de dispositivos causa inexactitudes en los CLK. Por lo tanto, las compensaciones en los esclavos deben ser puestas al día regularmente de modo que CLK sea aproximadamente el CLKN del maestro (Véase Figura 2.12). Figura 2.12: Derivación del Reloj Maestro y el Reloj Esclavo o Tiempo de transmisión/recepción: El maestro debe siempre comenzar a transmitir en una ranura de tiempo par (CLK1 =0), y la transmisión del esclavo siempre tiene que comenzar en una ranura de tiempo impar (CLK1 =1). Debido a que los tipos de paquetes pueden abarcar más de una ranura en espacio de tiempo, la trasmisión del maestro puede continuar en un número de ranura impar y la del esclavo puede continuar en un número par. M a e st r o 625 µs f(k+13)f(k+12)f(k+11)f(k+10)f(k+9)f(k+8)f(k+7)f(k+6)f(k) f(k+1) f(k+2) f(k+3) f(k+4) f(k+5) E sc la v o 35 o El esclavo utiliza la misma frecuencia que la transmisión principal precedente cuando el salto de frecuencia adaptada (Adaptative Frequency Hopping, AFH), está activo. o AFH usa menos que las 79 frecuencias que usan las piconet’s básicas.  Canal físico adaptado a la piconet: Este canal físico usa secuencias de saltos de canal adaptadas. Pueden ser usadas para conectar dispositivos que tienen activado AFH. Existen dos diferencias entre el canal básico y el canal adaptado de las piconets: o Se usa el mismo mecanismo de canal que hace que la frecuencia del esclavo sea la misma que precede de la transmisión del maestro. o Pueden ser utilizados en menos de los 79 canales de frecuencias del canal básico de la piconet.  Page Scan Physical Channel: Es un canal físico usado por las piconet’s para la búsqueda de páginas entre los dispositivos Bluetooth. Este canal físico tiene un patrón de saltos pseudo aleatorios más reducidos que los del canal básico de la piconet. A pesar que en este canal físico no están establecidas las funciones de maestro/esclavo se usa el término de maestro al dispositivo que comienza la paginación (el posterior maestro de la conexión) y el esclavo es el que usa las páginas almacenadas en el maestro antes del instante de la conexión.  Inquiry Scan Physical Channel: Es un canal físico usado por las piconet’s, para la investigación de dispositivos, este canal usa un patrón de saltos pseudo-aleatorios más lento que el del canal físico básico. Durante este proceso, el maestro debe transmitir un mensaje de investigación y los esclavos deben responder con la información necesaria para la página de investigación del maestro. 2.2.3.6 Enlace Físico Un enlace físico representa una conexión entre la banda base de los dispositivos. Un enlace físico es siempre asociado con un canal físico. Los canales físicos tienen propiedades comunes que se aplican a todos los transportes lógicos en el enlace físico. Las propiedades más comunes de los enlaces físicos son:  Control de energía  Monitorear el enlace  Cifrado.  Cambio de tasa de datas manejada por calidad del canal  Control de paquetes multi ranura. 36 2.3 Horno de Microondas Las microondas ocupan una porción del espectro electromagnético entre los 300 MHz y los 30 GHz. Sin embargo, el uso del microondas para la preparación, procesamiento y consumo de alimento entre otros, está limitado a un conjunto de frecuencias reservadas para la banda ISM. Fuera de esos rangos de frecuencia, el exceso de protección requerida para prevenir la interferencia con otros sistemas de radio haría a estos sistemas de muy alto costo económico [10]. Por lo general los hornos microondas domésticos operan en la banda de los 2450 MHz. El horno microondas es una cavidad multi modo en donde las ondas electromagnéticas crean un patrón de resonancia; es decir las ondas tienden a converger en un punto o área determinada. Cuando la comida se encuentra dentro del horno microondas, la energía de las ondas electromagnéticas es transferida a las moléculas de agua, iones y otros componentes de la comida, elevando así su temperatura. Estas ondas son generadas por un núcleo, el cual es un sistema de alto voltaje. Estos componentes toman la corriente alterna AC y elevan el voltaje de la misma, luego esta corriente alterna es transformada a corriente directa o DC, y finalmente esta corriente es convertida en microondas. El magnetrón es un sistema de alto voltaje, el propósito de éste es el de generar microondas, estos componentes toman la corriente alterna AC y elevan el voltaje de la misma, luego esta corriente alterna es transformada a corriente directa o DC, y finalmente esta corriente es convertida en ondas de frecuencias de radio, las cuales a partir del roce de los electrones con las moléculas de comida produce calor y un calentamiento casi instantáneo de la comida. En el caso del microondas se estudiará un poco el magnetrón que es el dispositivo que en general acarrea problemas con las redes 802.11 [10]. El magnetrón está formado por:  El ánodo o placa: es un cilindro de hierro hueco el cual tiene un número par de paletas, las cuales funcionan como ánodos (véase Figura 2.13 A). Las áreas formadas trapezoidales abiertas entre cada uno de las paletas son las cavidades resonantes que sirven como circuitos adaptados y determinan la frecuencia de la salida del tubo.  El filamento (también llamado el calentador), el cual sirve como cátodo del tubo, está localizado en el centro del magnetrón, y es soportado por un filamento conductor 37 largo y rígido, que son cuidadosamente selladas en el tubo y posteriormente protegidas.  La antena es una sonda o un lazo que está conectado al ánodo y se extiende hacia una de las cavidades adaptadas. La antena se junta en una guía de onda, en una envoltura hueca de metal, en la cual la antena transmite la energía de frecuencia de radio.  El campo magnético es provisto por fuertes imanes permanentes, éstos están montados alrededor del magnetrón, esto se hace para que el campo magnético sea paralelo a los ejes del cátodo (véase Figura 2.13 B).  El campo electromagnético crea un espacio positivo y negativo dentro del tubo del magnetrón (véase Figura 2.13 C) el cual hace que los electrones giren en este caso en el sentido de las agujas del reloj como se ve en la Figura 2.13 D. Figura 2.13: Funcionamiento del magnetrón. Luego de todo este proceso de movimientos de electrones salen por la antena y lo reflejan hacia la cubierta interna del microondas haciendo que las señales tiendan a converger en un punto determinado, esto causa la resonancia hacia el centro del mismo y permite la concentración de las ondas. 2.4 Teléfonos Inalámbricos Los teléfonos inalámbricos son teléfonos que usan una banda de radio entre él y una estación que permite tener el teléfono en cualquier lugar mientras la línea está directamente conectada a la estación. Estos dispositivos existen en múltiples bandas de frecuencia, en 38 este caso se tomará los teléfonos inalámbricos construidos con transceptores que trabajan en la banda de frecuencia de los 2.4 GHz. Estos teléfonos son tanto analógicos, como digitales. 2.4.1 Teléfonos Analógicos Un teléfono inalámbrico consta de un circuito de fase bloqueada (phase-locked loop, PLL) y un oscilador controlado por voltaje (Voltage-controller Oscilator, VCO), adaptados para ser compartidos entre un trayecto de recepción y un trayecto de transmisión. Una primera puerta análoga está adaptada para admitir una señal de audio recibida en apagado y encendido, en respuesta a una señal de reloj. Una segunda puerta análoga está adaptada para admitir una señal de audio de transmisión en apagado y encendido, en respuesta a una versión invertida de la señal de reloj. La señal de audio de transmisión es activada cuando la señal de audio recibida es admitida en apagado, y el VCO también se adapta para ser modulado por la señal de audio transmitida activada para emitir una señal RF modulada [11]. 2.4.2 Teléfonos Digitales Los teléfonos inalámbricos digitales son los que actualmente existen en los hogares. Ellos han ido desplazando poco a poco a los teléfonos inalámbricos analógicos del mercado, debido a que ellos brindan características extendidas sobre los teléfonos analógicos, como: mejor calidad del sonido y cifrado de la conversación entre la estación de trabajo y el dispositivo. Estos teléfonos usan por lo general dos tipos de tecnologías, ellas son:  Telecomunicaciones digitales mejoradas digitalmente (Digital Enhanced Cordless Telecommunications, DECT): Esta tecnología tiene su propia banda de frecuencia la cual oscila entre los 1800-1900 MHz [12]. No se hará hincapié en esta tecnología debido a que usa una banda distinta a la ISM de 2.4 GHz.  División de Espectro Digital (Digital Spread Spectrum o DSS): Es una tecnología que consiste en un cambio regular de las frecuencias, lo que permite que la frecuencia sea usada solo en cortos periodos de tiempo. Además esta tecnología codifica la voz de forma digital permitiendo una mejor claridad en el sonido. 39 3 Metodología y Herramientas Utilizadas En este capítulo se describen el conjunto de actividades realizadas para alcanzar los objetivos del trabajo. Además se describen las herramientas necesarias para el desarrollo del mismo. Las actividades que establecen el desarrollo del trabajo son las siguientes: determinación del instrumento de medición, elección de escenarios, la implementación de los escenarios, efectuar las pruebas y analizar los resultados. 3.1 Determinación del Instrumento de Medición En la investigación que se realiza en este trabajo es de gran importancia determinar la herramienta de medición que se usara para el análisis de la interferencia en la banda ISM. En [13], por ejemplo, se realizó un estudio detallado de algunas herramientas existentes. Esta actividad tiene la finalidad de establecer si se utilizará un instrumento de medición desarrollado por terceros o se desarrollará una nueva herramienta. 3.2 Desarrollo del Instrumento de Medición Esta actividad dependerá de los resultados de la actividad anterior. Los resultados determinaron la necesidad de desarrollar una herramienta para realizar los estudios de interferencia, en este paso se diseñó, implementó y probó la misma. 3.3 Elección de los Escenarios En este trabajo un escenario está determinado por la arquitectura de la red 802.11, la cantidad de clientes conectados, los dispositivos como fuente de interferencia (horno microondas, teléfono inalámbrico, dispositivos Bluetooth, etc.) y la distancia a la cual la fuente de interferencia se encuentra del punto de acceso. 3.4 Implementación de los Escenarios Esta fase consiste en ubicar todos los elementos necesarios para recrear un escenario. Por ejemplo colocar la topología de la red, colocar los clientes necesarios para tal efecto y colocar la fuente de interferencia a utilizar. Con el fin de obtener los mejores resultados a la hora de ejecutar las pruebas dentro de los escenarios, antes de capturar la data obtenida para este trabajo, se debe realizar pruebas de comportamiento. El fin de éstas es el de verificar que no exista otra fuente de interferencia y comprobar la homogeneidad de los datos. Por ejemplo revisar que no exista pérdida de paquetes en un ambiente libre de interferencia, comprobar que todos los clientes 40 de forma síncrona al momento de exponerlos a una fuente de interferencia, llevar a cabo un orden de la posición de los clientes y también sincronizar los clientes entre sí a la hora de ejecutar estas pruebas. Es decir la necesidad de que todos los clientes comenzarán al mismo tiempo a enviar los datos. 3.5 Efectuar las Pruebas Esta fase consiste en realizar pruebas dentro de los escenarios previamente diseñados, con el fin de capturar los datos que serán la base para obtener la información necesaria para estudiar los posibles efectos de interferencia mostrados en cada uno de los escenarios. Cada una de estas pruebas se realiza una cantidad determinada de veces para comprobar que no existen alteraciones entre las mismas. En caso de que alguna prueba sea errónea se debe estudiar a fondo los efectos por los cuales la misma no proporciona los resultados esperados y verificar que los dispositivos utilizados trabajen correctamente. 3.6 Análisis de los Resultados Esta fase, una de las más importantes de este trabajo. En ella se analizan los resultados obtenidos en cada uno de los escenarios, con el fin de verificar si realmente existe interferencia baja, media o elevada y mostrar cuantitativamente el efecto de la misma. 3.7 Herramientas Utilizadas Con la necesidad de observar el funcionamiento del espectro y comprobar científicamente la existencia de la interferencia para este trabajo se usaron herramientas de hardware y herramientas de software. 3.7.1 Herramientas de Hardware Son dispositivos físicos, los cuales permiten capturar el espectro de radio en el tiempo de la banda ISM de 2.4GHz. 3.7.2 Herramientas de Software Son un conjunto de programas (Software) que permiten obtener datos, los cuales son primordiales a la hora de obtener los resultados necesarios para esta investigación. Entre ellos se encuentran los siguientes.  Iperf [14]: Esta herramienta se usa generalmente para analizar el desempeño de las redes, puede crear flujos de datos tantos en TCP y UDP; también permite hacer medidas de throughput. Está escrita en C++. Esta herramienta fue desarrollada por 41 Equipo de Soporte de Aplicaciones Distribuidas (DAST) y el Laboratorio Nacional para el Desarrollo de Redes Aplicadas (NLANR).  Ping: Herramienta incluida en la mayoría de los sistemas operativos, la cual permite tener mediciones de retardo, tasa de pérdida de paquetes y Jitter. 42 4 ICARO Scanner Como se mencionó en el capítulo previo, en [13] se realizó un estudio exhaustivo de la herramientas de medición de la interferencia en la banda ISM de 2.4 GHz. Dicho estudio dio como resultado la necesidad de desarrollar una nueva herramienta de bajos costos, aproximadamente menos de 50$ comparado con los 100$ de la herramienta comercial más económica [13], para la captura de señales electromagnéticas en la banda ISM de 2.4 GHz. En este capítulo se describe el diseño e implementación de dicha herramienta denominada ICARO Scanner. 4.1 Definición ICARO Scanner es un dispositivo desarrollado en el Laboratorio de Redes Móviles, Inalámbricas y Distribuidas (ICARO) de la Universidad Central de Venezuela (UCV) basado en el diseño de [15]. Los componentes de ICARO Scanner se muestran en la Figura 4.1. Figura 4.1: Arquitectura del ICARO Scanner El dispositivo consta de las siguientes partes:  Módulo de Radio: Este módulo del dispositivo permite escuchar las señales electromagnéticas mediante la función llamada indicador de potencia de la señal recibida (Receive Signal Strength Indicator, RSSI), el cual indica la potencia de las señales de radio en el medio.  Microcontrolador (Peripheral Interface Controller, PIC): es el corazón del dispositivo y establece una interfaz entre el módulo de radio y el puerto Bus de Serie Universal (Universal Serial Bus, USB). Es encargado de enviar las mediciones del módulo de radio al puerto USB.  Puerto USB: Se encuentra en la mayoría de los computadores de hoy en día, es simple y compatible con el microcontrolador. Esto permite una amplia movilidad del dispositivo. Por este puerto viajan los datos hacia el computador, el cual será encargado de mostrar los datos en forma de gráficos o de archivos para una interpretación a futuro usando hojas de cálculo. 43 4.2 Diseño A continuación se describe de manera detallada todos los pasos necesarios para la implantación de esta herramienta comenzando desde los componentes, pasando por el diseño lógico y llegando al producto final. 4.2.1 Diseño Lógico En la Figura 4.2 se muestra el diseño lógico del circuito que integra el micro controlador, el módulo de radio, un buffer de memoria y una fuente de voltaje de de 3.3 V, para abastecer de energía al módulo haciendo el uso del puerto USB 2.0. Figura 4.2: Diseño Lógico de ICARO Scanner El micro controlador 18F2550, el cual consta de 28 contactos o pines, está construido para trabajar con una interfaz al puerto USB 2.0. Para abastecer de energía al mismo se colocaron los pines 1 y 20 a la fuente de 5V y los pines 14, 8 y 19 a la tierra o negativo del puerto USB. La fuente de 5V es mermada a 3.3V mediante el uso de tres diodos 1N4001, los cuales darán potencia al módulo de radio CYWM6935. Cada uno de estos diodos reducirán el voltaje en aproximadamente 0.7V resultando en una reducción de aproximadamente 2V. 44 Esta es una técnica rudimentaria de disminuir el abastecimiento del voltaje a 3V, de bajos costo y que trabaja sin ningún contratiempo. Luego de reducir la fuente de voltaje se conectan el pin 1, 9 del módulo a tierra y los pines 2 y 10 a la fuente de 3V. Con el fin de controlar el microcontrolador por el puerto USB se conectaron los pines 15 y 16 del chip a los puertos de control del USB. Es necesario colocar un capacitor en el pin 14 para proveer un suave abastecimiento a la fuente incorporada de 3.3V. Por otro lado es necesario abastecer al módulo de radio con esta fuente El reloj para el micro controlador es derivado de un cristal de 20MHz, es necesario utilizar condensadores de 15 pF para dar una carga adecuada al cristal, esto se consiguió conectando los pines 9 y 10 al cristal, luego se conectan los condensadores de 15 pF y esta conexión se envía al negativo del puerto USB. Internamente dentro del 18F2550, los 20MHz son divididos entre 5 con el fin de dar 4 MHz, los cuales son utilizados para sincronizar el Ciclo Bloqueado de Fase (Phase Locked Loop, PLL), del oscilador que funciona a 48MHz. Éste es el reloj principal usado dentro del micro controlador y es utilizado para controlar a la interfaz USB y el CPU del computador donde esté conectado este dispositivo. Con el fin de controlar el módulo de radio CYWM6935 es importante enviarle señales desde el micro controlador, éstas son producidas por los pines 18, 22, 23 y 24. Estas señales son recibidas por los pines 5, 7, 4 y 6 respectivamente del módulo de radio. El mismo posee diodos de protección los cuales permiten trabajar señales de 5V pero es necesario colocar en serie, entre estas conexiones, resistencias de 3.3 KΩ para proteger al módulo de radio del flujo de corriente. Para obtener los datos del módulo de radio es necesario conectar el pin 8 del mismo al pin 21 del micro controlador. El mismo enviará los datos luego por el puerto USB al computador que esté conectado al equipo. 4.2.2 Implementación En esta etapa, se procedió a implementar (soldar y preparar el cableado) la circuitería en una baquelita y luego colocarla en una caja, con el fin de permitir movilidad y además de proteger el dispositivo accidentes. Para la implementación de ICARO Scanner se utilizaron los siguientes componentes:  1 Microchip PIC18F2550-I/SP [16] microcontrolador programado con el firmware base de [15].  1 Módulo de radio Cypress CYWM6935 [17].  1 Cristal de 20MHz.  3 Diodos de silicón. 45  4 Resistencias de 3.3KΩ de cuarto de vatio.  1 Resistencia de 10KΩ de cuarto de vatio.  2 Condensadores cerámicos de 15pF.  1 Condensador cerámico multi capa de 100nF.  1 Condensador de poliéster de 220nF.  1 Condensador electrolítico de 100uF de (6V o mayor).  1 una bandeja para PIC de 28 pines.  1 Cable USB, con al menos un conector tipo A en el extremo.  1 Caja de plástico para circuitos. El dispositivo una vez implementado se ve en la Figura 4.3. Figura 4.3: Diseño físico ICARO Scanner 4.3 Software de ICARO Scanner Luego que los datos son capturados por el hardware, éstos viajan al computador vía el puerto USB, posteriormente el software del ICARO Scanner convierte estos datos en gráficos u hojas de cálculo permitiendo así el análisis de los mismos. Éste funciona bajo ambiente Windows, está desarrollado en C# originalmente por Jim McCullers [15], al cual se le agregaron la funcionalidad del los gráficos a color y estabilidad y se muestra a continuación en la Figura 4.4. 46 Figura 4.4: Pantalla principal de ICAROScanner. En donde se puede observar los siguientes componentes:  Tasa de Muestreo: Es la cantidad necesaria de muestras para actualizar la gráfica, es decir que si se encuentra en el valor por defecto de 350 muestras, el scanner actualizará la vista del analizador cada 350 muestras. Esta herramienta permite ver gráficos en tiempo real, es decir disminuir la barra de la tasa de muestreo de 0 a 50 lecturas para tener una vista en tiempo real o aumentarla para capturar ruidos imperceptibles y queden registrados en la herramienta.  Pausar: Este botón permitirá pausar y reanudar en cualquier momento el estado de la captura, de manera tal que si el dispositivo está en funcionamiento se podría pausar, crear un nuevo entorno y reanudarlo para ver los cambios que se puedan.  Exportar: Esta es una de las funcionalidades más importante de esta herramienta. La misma permite capturar datos en un archivo separado por comas o (CSV) para luego exportarlo a una hoja de cálculo, con el fin de hacer estudios del espectro con los datos capturados. Lo interesante de esta función es que el espectro se muestra separados en intervalos de 1 MHz y permite hacer estudios de un canal, múltiples canales o del espectro completo. Los valores de frecuencia con los que trabaja esta 47 herramienta están comprendidos desde los 2400 hasta los 2483 MHz. Un punto muy importante a considerar es que si se usa siempre escribirá los datos en un archivo llamado “Espectro.CSV” (véase Figura 4.5) y si se quiere almacenar ese archivo lo ideal es que luego de terminar la captura renombrarlo y proceder a copiarlo en el sitio que se quiera almacenar. Figura 4.5: Exportación de Archivo.  Luego de conectar el ICARO Scanner en el puerto USB se procede a tener inmediatamente lecturas como se muestra en la Figura 4.6. Figura 4.6: ICARO Scanner en funcionamiento 48 En la Figura 4.6, se muestra una captura del espectro del laboratorio ICARO en un día normal, donde se puede afirmar que el recuadro de color rojo que va desde el canal 1 hasta el canal 5 representa un Punto de Acceso en el canal 3. Esto se puede afirmar debido al estudio previo del comportamiento de las redes basadas en 802.11 y además de que un Punto de Acceso para el uso de internet para artefactos electrónicos colocado en ese canal. Por otro lado requiere tiempo y análisis evaluar otros tipos de tecnología. Lo más importante de este software es la facilidad de verificar si se tiene un canal libre de ruido, qué tipo de ruidos existen y en qué frecuencia se encuentran distribuidos. El software del ICARO Scanner dibuja los gráficos y los colores según la intensidad de la señal. Por ejemplo la intensidad más alta en este dispositivo es de 31 que se dibuja en rojo, las intensidades medias se dibujan entre la degradación del color naranja al verde y las intensidades más baja es de 0, que se dibujan en color azul. 49 5 Definición y Ejecución de las Pruebas En este capítulo se explicará cómo fueron realizadas las pruebas de los escenarios para este trabajo. También se mostrarán algunas características de las pruebas, dispositivos utilizados y el uso de las herramientas de medición. 5.1 Definición de los Escenarios de Prueba En esta sección se definirá todo con respecto a la arquitectura de la red inalámbrica en 802.11, los escenarios creados y los dispositivos utilizados para la realización de cada una de las pruebas de este trabajo especial de grado. 5.1.1 Arquitectura de la Red de Prueba La arquitectura usada para este trabajo se basa en el uso de una red de infraestructura la cual consta de un AP y en un conjunto gradual de clientes que serán descritos más adelante (Véase Figura 2.3). 5.1.2 Escenarios En este punto se definirán el conjunto de escenarios que se identifican en la Tabla 5.1. La columna fuente de interferencia representa que dispositivo emisor de interferencia va estar presente a la hora de ejecutar la prueba. La columna N° de clientes representa la cantidad de clientes usados por cada prueba a ser realizadas, y finalmente la distancia de la fuente de interferencia representa la distancia que existe entre la fuente de interferencia y el punto de acceso. Tabla 5.1: Escenarios. Fuente de Interferencia N° de Clientes Distancia de la fuente de interferencia al AP (mts) Ambiente Limpio 1,2,4 y 8 No Aplica Microondas 1,2,4 y 8 Menor a 2 Bluetooth (2 Piconet’s de 2 nodos cada una) 1,2,4,y 8 Menor a 2 Teléfono Inalámbrico 1 y 2 Menor a 2 Teléfono Inalámbrico 2 5 y 10 Horno Microondas 2 5 y10 Con el fin de explicar de manera gráfica los escenarios utilizados, se mostrarán los diagramas. El primero se encuentra en la Figura 5.1, en la cual se muestra la cantidad de clientes a usar (variable). 50 Clientes Fuentes de Interferencia Horno Microondas Teléfono Inalámbrico Dispositivos Bluetooth 2 Piconet’s de 2 Clientes c/u Distancia del Punto de Acceso Menor a 2 mts Punto de Acceso Servidor Figura 5.1: Diagrama de distancias Fijas El segundo diagrama se encuentra en la Figura 5.2 y muestra la cantidad máxima de clientes, los dispositivos emisores de interferencia y la distancia a las cuales se encuentran dichos dispositivos del AP. Clientes Fuentes de Interferencia Horno Microondas Teléfono Inalámbrico Distancia del Punto de Acceso Distancia Variables 5 y 10 mts Punto de Acceso Servidor Figura 5.2: Diagrama Distancias Variables 5.1.3 Dispositivos Entre los dispositivos utilizados se tienen los siguientes: 51  Punto de acceso: El Punto de Acceso (AP) disponible que será utilizado en el escenario de pruebas es el Cisco System Aironet 1200.  Estaciones de Trabajo: Las estaciones de trabajo fueron equipos HP Workstation xw 4600. Con sistema operativo Ubuntu 10.4 y tarjetas de red inalámbricas Atheros AR5006X, con los controladores más recientes. Estas tarjetas usan como estándar de comunicación 802.11 a,b,g.  Fuentes de Interferencia: Entre las fuentes de interferencia se tienen los siguientes dispositivos: o Horno Microondas: Dispositivo marca Emerson modelo MW8118SB. o Teléfono Inalámbrico: Dispositivo marca General Electric Analógico o Dispositivos Bluetooth: Dongle Marca MSI. 5.2 Ejecución de las Pruebas Con la finalidad de estudiar la interferencia de las tecnologías antes mencionadas sobre una red 802.11 se llevarán a cabo dos tipos de prueba: pruebas en el espectro y las pruebas de desempeño. 5.2.1 Pruebas en el Espectro Estas pruebas fueron realizadas con el uso del ICARO Scanner la cual permitirá comprobar que existe ruido en el espectro de radio. Esta herramienta también mostrará cómo se comportan las ondas de radio dentro del espectro de los 2.4GHz que no sean de tecnologías conocidas, es decir un horno microondas, un teléfono inalámbrico, etc. Estas pruebas facilitarán tener un ambiente “libre” de ruidos externos y ayudará a sobreponer una señal de 802.11 sobre un microondas, o sobre otro dispositivo que pueda producir interferencia. El análisis del espectro de radio consistió en tomar la herramienta ICARO Scanner, colocarla a una distancia entre 0 y 2 metros de la fuente de interferencia. Luego de esto se procesó la data y se obtuvo la información necesaria para ser analizada. 5.2.2 Pruebas de Desempeño En estas pruebas es importante señalar que existe un conjunto de métricas de desempeño las cuales son medidas en capas superiores a la MAC. Lo importante de la evaluación de desempeño es que estas métricas nos permiten la cuantificación. Es decir obtener valores con los cuales comparar los efectos producidos por la interferencia. Para el desarrollo de este trabajo se usarán las siguientes métricas [18]: 52  Throughput: permite medir el número de bits, efectivos que son transmitidos entre nodo origen y nodo destino. También permite evaluar el desempeño de la red  Retardo: Es el período de tiempo que le toma a un paquete en ir del nodo origen al nodo destino.  Pérdida de paquetes: permite determinar cuántos paquetes son enviados de manera satisfactoria entre nodo origen y nodo destino. Además permite evaluar la calidad del enlace o confiabilidad de la red.  Jitter: permite evaluar la variación del retardo, es importante, debido a que permite evaluar el tipo de tráfico que puede ser enviado por la red; y además se puede evaluar la calidad de la misma. Para medir el desempeño de la red se utilizaron dos herramientas: Iperf y ping. Iperf se utilizó para determinar el throughput de la red mediante datos usando el protocolo TCP, mientras que el ping se utilizó para medir el retardo, jitter y pérdida de paquetes. Las pruebas fueron ejecutadas sobre los escenarios descritos anteriormente. Cada medición es realizada 10 veces. Para las pruebas de ambiente libre, horno microondas, dispositivos Bluetooth y teléfono inalámbrico se efectuaron las pruebas de las siguientes maneras:  Se estableció un tiempo determinado de 120 segundos o 2 minutos con el fin de no sobrecargar el horno microondas y así homogenizar todas las pruebas de los dispositivos para poder ser comparadas entre sí.  Para las mediciones de desempeño se ejecuto la herramienta Iperf durante dos minutos con el fin de capturar el máximo ancho de banda que producían los clientes.  Para el uso del ping se fijo una cantidad máxima de paquetes de 12000 cada 10 ms con el fin de realizar las pruebas en intervalos de 2 minutos aproximadamente, con tamaño de paquetes de 84 bytes.  Para el caso de los dispositivos Bluetooth se cumplieron los pasos anteriores y además se establecieron dos piconet’s de dos clientes es decir, se colocaron 4 dispositivos Bluetooth y se interconectaron para generar 2 redes punto a punto. Esto con el fin de sobrecargar los diversos canales del espectro de los 2.4 GHz. Los paquetes enviados por los mismos fueron paquetes de tipo UDP generados por la herramienta ping de tamaño 65000 bytes, con el fin de crear una comunicación con altas tasas de transmisión de datos.  Para las pruebas de atenuación se ejecutaron exactamente las pruebas descritas anteriores a diferencia que se alejaron el horno microondas y el teléfono inalámbrico distancias comprendidas entre los 5 y 10 metros 53 6 Análisis de los Resultados En este capítulo se describirán y analizarán los resultados obtenidos de las pruebas realizadas en el capítulo 5. Se tratarán los resultados desde dos enfoques distintos. El enfoque de capa física que es el que permite mostrar el comportamiento de los dispositivos en el espectro de frecuencias y el enfoque basado en desempeño sobre los clientes de las redes basadas en 802.11 frente a las diversas fuentes de interferencia. 6.1 Análisis del Espectro A continuación se muestra el comportamiento de los diversos dispositivos en un “ambiente limpio” para observar de manera detallada los efectos de interferencia que pudiesen causar a las redes basadas en 802.11. Luego de exportar del ICARO Scanner el archivo separado por comas y aplicarle un percentil 75 al conjunto de datos, se crea una serie lineal la cual se puede graficar y observar un patrón o comportamiento. 6.1.1 Análisis del Espectro de cada una de las Tecnologías Desde la Figura 6.2 a la Figura 6.8 se muestra el comportamiento en el espectro de las señales producidas por la red 802.11, horno microondas, Bluetooth y el teléfono inalámbrico. Tanto desde una toma directa por la interfaz del ICARO Scanner, como luego de procesar el archivo separado por comas. En esta sección también se muestra el efecto de alteración de sobreponer dos señales en el mismo espectro. El comportamiento de una red basada en 802.11, en donde se envía tráfico constante, se observa utilizando el ICARO Scanner en la. En la Figura 6.1 y Figura 6.2 y se muestra el comportamiento en el canal 11 de la red 802.11. Como se puede observar la señal se extiende a los canales adyacentes, entre el canal 9 y el canal 13, al canal principal, abarcando un ancho de banda aproximadamente de 20 MHz. Este comportamiento está acorde a lo que se especifica en el estándar [1]. 54 Figura 6.1: Captura de 802.11 en el ICARO Scanner Figura 6.2: Comportamiento de 802.11 en el espectro En la Figura 6.3 y Figura 6.4 se muestra el comportamiento de la señal generada por un horno microondas. Dicha señal abarca el espectro de frecuencias que corresponde con los canales 12 y 13 de un red 802.11.La intensidad de la señal es aproximadamente tres veces menor que la generada por una red 802.11. 0 5 10 15 20 25 30 35 In m te n s id a d Comportamiento de 802.11 Canal 1 =2412 MHz Canal 2 =2417 MHz Canal 3 =2422 MHz Canal 4 =2427 MHz Canal 5 =2432 MHz Canal 6 =2437 MHz Canal 7 =2442 MHz Canal 8 =2447 MHz Canal 9 =2452 MHz Canal 10 =2457 MHz Canal 11 =2462 MHz Canal 12 =2467 MHz Canal 13 =2472 MHz 55 Figura 6.3: Captura del horno microondas en el ICARO Scanner Figura 6.4: Comportamiento del horno microondas en el espectro Por otra parte, el comportamiento de la tecnología Bluetooth es diferente a las otras tecnologías debido al uso de FHSS como técnica de dispersión como se muestra en la Figura 6.5. En la cual se observa un conjunto de canales ocupados en el medio con altas intensidades las. Sin embargo en la Figura 6.6, se observa la señal con una intensidad pico menor a los 5 abarca todo el espectro de frecuencias usado por la red 802.11. Esto ocurre a que el salto de frecuencia no sobrecarga un canal determinado en el espectro 0 5 10 15 20 25 30 35 In te n s id a d Comportamiento del Horno Microondas Canal 1 =2412 MHz Canal 2 =2417 MHz Canal 3 =2422 MHz Canal 4 =2427 MHz Canal 5 =2432 MHz Canal 6 =2437 MHz Canal 7 =2442 MHz Canal 8 =2447 MHz Canal 9 =2452 MHz Canal 10 =2457 MHz Canal 11 =2462 MHz Canal 12 =2467 MHz Canal 13 =2472 MHz 56 Figura 6.5: Captura dispositivos Bluetooth en el ICARO Scanner Figura 6.6: Comportamiento de dispositivos Bluetooth en el espectro En la Figura 6.7 y Figura 6.8 se muestra el comportamiento de la señal generada por el teléfono inalámbrico. La señal abarca el canal 1 de una red 802.11 y tiene una intensidad pico de aproximadamente 31. 0 5 10 15 20 25 30 35 In te n s id a d Comportamiento de Dispositivos Bluetooth Canal 1 =2412 MHz Canal 2 =2417 MHz Canal 3 =2422 MHz Canal 4 =2427 MHz Canal 5 =2432 MHz Canal 6 =2437 MHz Canal 7 =2442 MHz Canal 8 =2447 MHz Canal 9 =2452 MHz Canal 10 =2457 MHz Canal 11 =2462 MHz Canal 12 =2467 MHz Canal 13 =2472 MHz 57 Figura 6.7: Captura del horno microondas en el ICARO Scanner Figura 6.8: Comportamiento del teléfono inalámbrico en el espectro 6.1.2 Análisis del Espectro con Alteraciones A continuación de la Figura 6.9 a la Figura 6.14 se exponen los resultados de sobreponer ondas, es decir hacer coincidir dos o más ondas distintas en el mismo canal del espectro de radio [19]. Se mostrarán tanto el efecto individual de cada una de las ondas electromagnéticas, como la sobrepuesta resultante al evaluar el canal con ambos dispositivos funcionando al mismo tiempo. 0 5 10 15 20 25 30 35 In te n s id a d Comportamiento de Teléfono Inalámbrico Canal 1 =2412 MHz Canal 2 =2417 MHz Canal 3 =2422 MHz Canal 4 =2427 MHz Canal 5 =2432 MHz Canal 6 =2437 MHz Canal 7 =2442 MHz Canal 8 =2447 MHz Canal 9 =2452 MHz Canal 10 =2457 MHz Canal 11 =2462 MHz Canal 12 =2467 MHz Canal 13 =2472 MHz 58 En la Figura 6.9 se muestran la señal emitida por la red 802.11 y la señal proveniente del horno microondas funcionando en el canal 11. Figura 6.9: Comportamiento en el espectro de 802.11 y horno microondas Como se observa, la señal del microondas afecta a la red 802.11, y se debe a que existe la posibilidad de que el horno microondas ocupe el canal, provocando que CSMA/CA, el cual es encargado de proteger la integridad de la data de las redes 802.11, bloquee en algún momento el envío de datos por parte de la red 802.11 degradando así el desempeño de las mismas. También podría ocurrir que la red basada en 802.11 emita los datos y al enviarlos al medio, el ruido generado por el horno microondas modifique o corrompa estos datos, perdiéndose así los mismos ya sea por degradación total o debido a la interferencia, degradando el desempeño de la red 802.11. En la Figura 6.10 se observa la onda superpuesta del horno microondas cerca de una red 802.11. Se puede observar una alteración en los picos y un cambio significativo entre el canal 9 y el 12 en el comportamiento del espectro de 802.11 con respecto a su señal en limpio (Figura 6.2); recordando la definición de interferencia se puede inferir que puede existir alguna dificultad en la comunicación entre los dispositivos basado en 802.11. 0 5 10 15 20 25 30 35 In te n s id a d Comportamiento de 802.11 y Horno Microondas 802.11 Horno Microondas Canal 1 =2412 MHz Canal 2 =2417 MHz Canal 3 =2422 MHz Canal 4 =2427 MHz Canal 5 =2432 MHz Canal 6 =2437 MHz Canal 7 =2442 MHz Canal 8 =2447 MHz Canal 9 =2452 MHz Canal 10 =2457 MHz Canal 11 =2462 MHz Canal 12 =2467 MHz Canal 13 =2472 MHz 59 Figura 6.10: Superpuesta de 802.11 y horno microondas En la Figura 6.11 se observa el comportamiento de la señal generada por la red 802.11 y los dispositivos Bluetooth. Se puede afirmar, que de existir algún efecto de interferencia, este efecto pudiese ser no muy elevado debido a la poca potencia de los dispositivos Bluetooth generada en el canal en ese período de tiempo. Debido a que los dispositivos basados en Bluetooth usan FHSS para la comunicación entre ellos, esto permite saltos en el espectro en función del tiempo para así evitar apoderarse de un canal y obtener el beneficio para Bluetooth de una comunicación robusta y para 802.11 tener el canal ocupado. Con el fin de comprobar lo anteriormente descrito se efectuó el análisis de la señal sobrepuesta de la red 802.11 y los dispositivos Bluetooth Figura 6.12 en la cual se puede observar que los cambios dentro de la onda sobrepuesta son ligeramente diferente a la onda de la red 802.11, lo que llevaría a pensar que la interferencia generada por los dispositivos Bluetooth sería leve o casi ninguna. 0 5 10 15 20 25 30 35 In te n s id a d Superpuesta de 802.11 y Horno Microondas Canal 1 =2412 MHz Canal 2 =2417 MHz Canal 3 =2422 MHz Canal 4 =2427 MHz Canal 5 =2432 MHz Canal 6 =2437 MHz Canal 7 =2442 MHz Canal 8 =2447 MHz Canal 9 =2452 MHz Canal 10 =2457 MHz Canal 11 =2462 MHz Canal 12 =2467 MHz Canal 13 =2472 MHz 60 Figura 6.11: Comportamiento de 802.11 y dispositivos Bluetooth Figura 6.12: Superpuesta de 802.11 y dispositivos Bluetooth En la Figura 6.13 se muestra el comportamiento de la red 802.11 y la del teléfono inalámbrico. Cómo se observo en las pruebas anteriores se comprobó que el teléfono inalámbrico tiene un efecto sobre el canal 1 de las redes basadas en 802.11. 0 5 10 15 20 25 30 35 In te n s id a d Comportamiento de 802.11 y Bluetooth 802.11 Bluetooth Canal 1 =2412 MHz Canal 2 =2417 MHz Canal 3 =2422 MHz Canal 4 =2427 MHz Canal 5 =2432 MHz Canal 6 =2437 MHz Canal 7 =2442 MHz Canal 8 =2447 MHz Canal 9 =2452 MHz Canal 10 =2457 MHz Canal 11 =2462 MHz Canal 12 =2467 MHz Canal 13 =2472 MHz 0 5 10 15 20 25 30 35 In te n s id a d Superpuesta de 802.11 y Dispositivos Bluetooth Canal 1 =2412 MHz Canal 2 =2417 MHz Canal 3 =2422 MHz Canal 4 =2427 MHz Canal 5 =2432 MHz Canal 6 =2437 MHz Canal 7 =2442 MHz Canal 8 =2447 MHz Canal 9 =2452 MHz Canal 10 =2457 MHz Canal 11 =2462 MHz Canal 12 =2467 MHz Canal 13 =2472 MHz 61 Figura 6.13: Gráfico de 802.11 y teléfono inalámbrico Se observa que el teléfono inalámbrico se apodera considerablemente del canal 1, lo que permite concluir que el desempeño de las redes basadas en 802.11 se verá comprometido en una gran magnitud. En la Figura 6.14 se observa el resultado de sobreponer la red 802.11 y el teléfono inalámbrico trabajando en el mismo espacio del espectro en el mismo período de tiempo; se observa que antes del canal 1 existe un pico y una alteración, que están asociadas al teléfono inalámbrico y el resto de la señal está asociada al 802.11. Se puede determinar que los efectos de interferencia producidos por el teléfono inalámbrico sobre la red 802.11 serán críticos debido a la intensidad y a todo el espectro utilizado por el teléfono, el cual afectará de manera considerable el desempeño de dicha red cuando opera en el canal 1,2 y 3. 0 5 10 15 20 25 30 35 In te n s id a d Comportamiento de 802.11 y Teléfono Inalámbrico 802.11 Teléfono Inalámbrico Canal 1 =2412 MHz Canal 2 =2417 MHz Canal 3 =2422 MHz Canal 4 =2427 MHz Canal 5 =2432 MHz Canal 6 =2437 MHz Canal 7 =2442 MHz Canal 8 =2447 MHz Canal 9 =2452 MHz Canal 10 =2457 MHz Canal 11 =2462 MHz Canal 12 =2467 MHz Canal 13 =2472 MHz 62 Figura 6.14: Comportamiento simultáneo de 802.11 y teléfono inalámbrico 6.2 Resultados de Desempeño En esta sección se estudiarán los efectos producidos por las interferencias de las diversas fuentes sobre la red 802.11 en el desempeño de dicha red, comenzando con el resultado de las pruebas desarrolladas en “ambiente limpio” y luego usarlas para evaluar el deterioro de desempeño frente a fuentes de interferencia. Para ello se mostrarán los resultados de las siguientes maneras: uno, dos, cuatro y ocho clientes y luego se mostrará el efecto de 2 clientes en distancias aproximadas a cero, cinco y diez metros respectivamente. 6.2.1 Resultados de los Efectos de la Interferencia en el Desempeño de un Cliente A continuación se mostrará el desempeño de las métricas de throughput, jitter, retardo y pérdida de paquetes de un cliente conectado al AP, además se mostrará al teléfono inalámbrico como una gran fuente de interferencia y el impacto que ejerce sobre la red 802.11. 6.2.1.1 Throughput En la Figura 6.15 se observan los valores de throughput obtenido frente a diversas fuentes de interferencia, mientras mayor sea el valor mejor es el throughput. Podemos concluir: 0 5 10 15 20 25 30 35 In te n s id a d Comportamientos de 802.11 y Teléfono Inalámbrico Canal 1 =2412 MHz Canal 2 =2417 MHz Canal 3 =2422 MHz Canal 4 =2427 MHz Canal 5 =2432 MHz Canal 6 =2437 MHz Canal 7 =2442 MHz Canal 8 =2447 MHz Canal 9 =2452 MHz Canal 10 =2457 MHz Canal 11 =2462 MHz Canal 12 =2467 MHz Canal 13 =2472 MHz 63 Figura 6.15: Desempeño de Throughput frente a fuentes de interferencia.  Para ambiente limpio o prueba base se tiene que el throughput es mayor a 20 Mbps, este será el valor tope y de referencia.  En el caso del microondas, se puede observar una notable degradación del throughput a aproximadamente 51% del desempeño original, lo que lleva a concluir que el microondas es una fuente considerable de emisión de interferencia que afecta el desempeño de las redes basadas en 802.11.  Por otro lado los dispositivos de Bluetooth generan una fuente de interferencia la cual produce una degradación del throughput de aproximadamente un 15% sobre el original pero esta fuente de interferencia no es significativa.  El teléfono inalámbrico genera una gran fuente de interferencia aproximadamente de un 98% de degradación del throughput. Si se observa la gráfica se puede observar que el dispositivo no llega a 1 Mbps y esto ocurre debido al comportamiento del teléfono inalámbrico analógico descrito en 2.4.1. Por lo que el dispositivo nunca deja libre el medio y las redes basadas en 802.11 usan CSMA/CA, es decir, que si ellas no encuentran el medio libre para la transmisión de datos las redes no funcionarán y por lo tanto solo cuando ellas estén en condiciones de enviar los datos lo enviarán. 6.2.1.2 Retardo En la Figura 6.16 se muestran los resultados obtenidos al hacer pruebas de retardo sobre los ambientes de prueba. 0.00 5000.00 10000.00 15000.00 20000.00 25000.00 Ambiente Limpio Horno Microondas Bluetooth Teléfono inalámbrico T h ro u g h p u t e n K b p s Throughput de un Cliente frente a Fuentes de Interferencia 64 Figura 6.16: Desempeño de retardo frente a fuentes de interferencia  En el ambiente limpio el retardo promedio es menor a 1ms y el cual será el valor referencial.  Con el uso del horno microondas como fuente de interferencia el retardo es de aproximadamente 3.35 ms lo cual es un aumento poco significativo del mismo, lo cual hace inferir que el tiempo de trasmisión/recepción de un paquete no se ve tan afectado por el comportamiento del microondas.  Al usar los dispositivos Bluetooth como fuente de interferencia, se puede observar como la fuente de interferencia no afecta a la red basada en 802.11, en este caso el retardo fue de aproximadamente 1.26 ms. Lo cual no es un aumento significativo del retardo frente a la fuente de interferencia.  En el caso del teléfono inalámbrico el retardo es elevado, mayor a 60 ms, lo que indica que el efecto de este dispositivo como fuente de interferencia afecta significativamente el tiempo que tardan los paquetes de ir de un lado al otro. 6.2.1.3 Jitter A continuación en la Figura 6.17 se mostrarán los resultados de Jitter frente a las diversas fuentes de interferencia. 0 10 20 30 40 50 60 70 Ambiente Limpio Horno Microondas Bluetooth Teléfono inalámbrico R e ta rd o e n m s Retardo de un Cliente frente a fuentes de Interferencia 65 Figura 6.17: Desempeño de jitter frente a fuentes de interferencia  En el ambiente limpio se puede observar que el jitter es el menor aproximadamente a 1 ms, lo cual dentro de las redes basadas en 802.11 es un valor que está en los rangos normales.  Al usar el horno microondas como fuente de interferencia se observa un incremento del jitter aproximadamente de 4 ms, lo cual al compararlo con el del ambiente limpio es cuatro veces más alto el valor resultante, lo cual corrobora un efecto significativo de la calidad del servicio sobre las redes basadas en 802.11.  Por otro lado al introducir dispositivos basados en tecnología Bluetooth como fuente de interferencia, el jitter no se ve muy comprometido, es decir, el efecto de estos dispositivos no es muy significativo sobre el comportamiento de las redes basadas en 802.11.  Al colocar el teléfono inalámbrico como fuente de interferencia se puede notar un incremento masivo de la medida de jitter lo cual acarrea un efecto significativo de la calidad de servicio que presta esta red basada en 802.11. 6.2.1.4 Paquetes Perdidos Como se ha mencionado antes la métrica de paquetes perdidos permitirá evaluar el desempeño de las redes 802.11, es decir, permite verificar la calidad del enlace. Los resultados están reflejados en la Figura 6.18. 0 50 100 150 200 250 Abiente Limpio Horno Microondas Bluetooth Teléfono inalámbrico J it te r e n m s Jitter de un Cliente frente a Fuentes de Interferencia 66 Figura 6.18: Desempeño de pérdida de paquetes frente a fuentes de interferencia.  El ambiente limpio tiene una pérdida de paquetes de casi un 0% lo que indica un estado excelente de la conexión.  Cuando agregamos el horno microondas, se produce un aumento casi imperceptible en esta gráfica pero se ve reflejado el efecto del mismo en el estado de la conexión.  Al agregar dispositivos Bluetooth como fuente de interferencia se puede observar que el efecto de estos dispositivos en el estado de la conexión son mínimos o casi cero con respecto a la pérdida en ambiente limpio.  Por otro lado cuando agregamos el teléfono inalámbrico, se puede observar una pérdida masiva de paquetes. Es decir si se considera que en las pruebas se usaron una cantidad de paquetes de 12000 y se tiene una pérdida de paquetes de aproximadamente de 4%, se puede afirmar que el estado de la conectividad es degradado considerablemente, lo que se ve reflejado al principio del estudio del throughput. 6.2.2 Resultados de los Efectos de la Interferencia en el Desempeño de Uno, Dos, Cuatro y Ocho Clientes En esta sección se revisarán los resultados de uno, dos, cuatro y ocho clientes frente a fuentes de interferencias. Esto permitirá comparar el desempeño que ocurre al ir aumentando la cantidad de clientes y combinarlo con fuentes de interferencia. Para esta sección se decide apartar los efectos del teléfono inalámbrico, esto es motivado a que los escenarios de dos, cuatro, y ocho con el teléfono inalámbrico produjeron resultados de denegación de servicio. Es decir los clientes no pudieron efectuar de las pruebas (las 0.0 0.5 1.0 1.5 2.0 2.5 3.0 3.5 4.0 Ambiente Limpio Horno Microondas Bluetooth Teléfono inalámbrico % P a q u e te s p e rd id o s Paquetes Perdidos frente a Fuente de Interferencia 67 pruebas no terminaban y no se pudieron obtener las medidas respectivas para el resto de los escenarios). 6.2.2.1 Throughput A continuación se muestran los resultados de estas pruebas en la Figura 6.19. Figura 6.19: Desempeño de throughput de uno, dos, cuatro y ocho clientes frente a fuentes de interferencia.  A medida que se agregan los clientes el throughput tiende a disminuir de manera proporcional. Esto ocurre debido a la competencia de los clientes por acceder al medio.El AP les asigna un periodo de tiempo determinado con el fin de asignarles a todos una ranura de tiempo en la cual puedan operar. Al ocurrir esto el throughput se degrada tanto por la cantidad de clientes como las operaciones necesarias por parte del AP. Es decir el throughput se degrada a medida que se incrementa el número de clientes y no por la fuente de interferencia. 6.2.2.2 Retardo A continuación se muestra en Figura 6.20 los resultados de evaluar el retardo de los diversos clientes frente a las fuentes de interferencia. 0 5000 10000 15000 20000 25000 Un cliente Dos clientes Cuatro clientes Ocho clientes T h ro u g h p u t e n K b p s Throughput en Funcion de Número de Clientes Ambiente Limpio Bluetooth Microondas 68 Figura 6.20: Desempeño de retardo de uno, dos, cuatro y ocho clientes frente a fuentes de interferencia. En esta gráfica mientras menor es el resultado mejor el desempeño.  Las fuentes de interferencia hacen que el retardo sea constante con las pruebas de uno, dos y cuatro clientes. Sin embargo al ser 8 clientes éste tiende a aumentar de manera significativa.  También se puede determinar que el ancho de banda de la red 802.11 no afecta directamente al retardo. 6.2.2.3 Jitter En esta sección se observará el efecto de jitter entre los diversos clientes y las fuentes de interferencia en la Figura 6.21. 0 1 2 3 4 5 6 Un cliente Dos Clientes Cuatro Clientes Ocho Clientes R e ta rd o e n m s Retardo en Funcion de Número de Clientes Ambiente Limpio Bluetooth Microondas 69 Figura 6.21: Desempeño de jitter de uno, dos, cuatro y ocho clientes frente a fuentes de interferencia.  A medida se que agregan clientes en la red, el jitter tiende a aumentar.  El horno microondas como fuente de interferencia es el que tiene el mayor efecto al aumentar el jitter dentro de la red basada en 802.11.  Los dispositivos Bluetooth muestran interferencia pero no es un factor que tienda a elevar tanto el jitter.  El jitter parece ser constante y no variar significativamente entre uno, dos y cuatro clientes, pero al ser ocho los clientes involucrados estos valores tienden a incrementarse debido a la presencia de más clientes. 6.2.2.4 Paquetes Perdidos Estos resultados permiten conocer la calidad del comportamiento de la red y se muestran en la Figura 6.22. 0.0 1.0 2.0 3.0 4.0 5.0 6.0 Un cliente Dos Clientes Cuatro Clientes Ocho Clientes J it te r e n m s Efecto de Interferencia sobre el jitter Ambiente Limpio Bluetooth Microondas 70 Figura 6.22: Pérdida de paquetes de uno, dos, cuatro y ocho clientes frente a fuentes de interferencia.  En los experimentos menores a cuatro clientes no existe una pérdida significativa de paquetes.  Existe una pérdida de paquetes que se incrementa cuando ocurre la transición de cuatro a ocho clientes, lo que nos da a concluir que luego de ocho clientes las redes basadas en 802.11 tienden a degradarse de una manera significativa. 6.3 Resultados de Variación de la Distancia de la Fuente de Interferencia Estos fueron los últimos experimentos realizados con el fin de estudiar los resultados obtenidos cuando se aleja la fuente de interferencia que produjeron efectos de degradación significativa en la red basada en 802.11. 6.3.1 Horno Microondas. A continuación se muestran las variaciones de las métricas de desempeño del horno microondas los dos dispositivos que causaron efectos de interferencia significativos como lo fueron el horno microondas y el teléfono inalámbrico. 6.3.1.1 Throughput En la Figura 6.23 se observa el efecto de alejar el horno microondas de la red 802.11. 0 0.05 0.1 0.15 0.2 0.25 un cliente dos clientes cuatro clientes ocho clientes % P é rd id a d e P a q u e te s Porcentaje de Pérdida de Paquetes frente a Fuentes de Interferencia Ambiente Limpio Bluetooth Microondas 71 Figura 6.23: Gráfico de throughput a distancia variable del horno microondas. De la cual se puede concluir:  A medida que la distancia aumenta existe un aumento de throughput.  Este aumento no es significativo, sin embargo se muestran los mismos en una escala en la que se pueda demostrar, que a medida que se aleja la fuente de interferencia tiende a incrementarse la cantidad de throughput.  A pesar de que existe un incremento en el throughput este no es tan elevado de más 4300 Kbps en distancias de cero metros a más de 4.65 a 10 metros de distancia. Lo que indica que las distancias trabajadas para estos experimentos son cortas y no demuestran una atenuación en la fuente de interferencia. 6.3.1.2 Retardo En la Figura 6.24 se muestran los resultados de retardo al variar la distancia del horno microondas con respecto al AP. 4100 4200 4300 4400 4500 4600 4700 0 5 10 T h ro u g h p u t e n K b p s Throughput de 2 clientes con el Horno Microondas Distancias Variables mts 72 Figura 6.24: Gráfica de retardo de 2 clientes variando la distancia del horno microondas De esta se puede concluir:  A medida que incrementa la distancia del horno microondas, tiende a disminuir el retardo de la red basada en 802.11, lo que muestra una mejoría en el desempeño de la red basad en 802.11.  Si se aleja a 10 m el dispositivo tiende a bajar el nivel de retardo, lo que nos permite afirmar que a medida que se aleja el horno microondas tiende a atenuarse su efecto sobre las redes inalámbricas.  A pesar que la atenuación a 10 metros es mayor. Esta distancia no es significativa para un efecto elevado de atenuación. 6.3.1.3 Jitter Ahora en la Figura 6.25 se muestra los efectos en el jitter al alejar el horno microondas. 2.70 2.80 2.90 3.00 3.10 3.20 3.30 3.40 0 5 10 R e ta rd o e n m s Retardo de 2 clientes con el Horno Microndas a Distancias Variables mts 73 Figura 6.25: Gráfica de jitter de 2 clientes variando la distancia del horno microondas En esta figura podemos ver lo siguiente:  Se observa que esta métrica mejora (es menor), a medida que se aleja la fuente de interferencia ofreciendo así una red algo más estable y que puede ofrecer una mayor cantidad de servicios. 6.3.1.4 Paquetes Perdidos A continuación en la Figura 6.26 se observa la pérdida de paquetes que ocurre al variar la distancia a la que el horno microondas se encuentra del AP. Figura 6.26: Gráfica de paquetes perdidos variando la distancia del horno microondas De la figura se puede decir:  La pérdida de paquetes desciende a medida que se aleja el horno microondas. 2.6 2.8 3 3.2 3.4 3.6 0 5 10 J it te r e n m s Jitter de 2 clientes con el Horno Microondas a Distancias Variables mts 0.000 0.010 0.020 0.030 0.040 0.050 0 5 10 % P a q u e te s P e rd id o s Paquetes Perdidos de 2 clientes con Horno Microondas a Distancias Variables mts 74  Las distancias de 10 metros no es significativa para hacer un estudio detallado de la atenuación sobre la pérdida de paquetes. 6.3.2 Teléfono Inalámbrico En este caso ocurrió la atenuación pero el efecto de interferencia del teléfono inalámbrico es tan complejo sobre las redes inalámbricas que los resultados obtenidos a veces no son totalmente los esperados, a pesar de esto se mostraran los resultados obtenidos a continuación. 6.3.2.1 Throughput A continuación se muestra los efectos de variar la fuente de interferencia sobre el throughput en la Figura 6.27. Figura 6.27: Gráfico de throughput variando la distancia del teléfono inalámbrico Se puede concluir de esta gráfica:  Al alejar el dispositivo mejora notablemente el throughput.  Hay que recordar que en 6.2.1 las pruebas del teléfono inalámbrico solo permitía un cliente asociado a la red 802.11. Lo que nos permite decir, que al alejar el teléfono inalámbrico a 5 metros ya permite la conexión de dos clientes y trabajar con los mismos.  A pesar que al alejarse el teléfono inalámbrico del AP mejora el throughput este sigue perjudicando a las redes basadas en 802.11. Si recordamos el throughput de 2 clientes en ambiente limpio de 6.2.2.1, este es de aproximadamente 10 Mbps, lo que nos lleva a concluir que a pesar que el dispositivo este a 10 metros del AP el efecto de interferencia sobre las redes 802.11 es crítico. 0 500 1000 1500 2000 2500 3000 3500 0 5 10 T h ro u g h p u t e n K b p s Throughput de 2 clientes vs tel Inalámbrico a Distancias Variables mts * 75 6.3.2.2 Retardo En la Figura 6.28 se puede observar cómo se comporta el retardo a medida que se aleja la fuente de interferencia de la red 802.11. Figura 6.28: Gráfico de retardo variando la distancia del teléfono inalámbrico De ésta se puede concluir:  A medida que aumenta la distancia tiende a disminuir el efecto de la fuente de interferencia permitiendo obtener retardos menores, demostrando que alejar este dispositivo de la red 802.11 mejora su desempeño  Es importante recordar que la medición en 0 fue realizada con un solo cliente recordándonos que el efecto a 0 metros es crítico sobre las redes 802.11. 6.3.2.3 Jitter En la Figura 6.29 se puede observar cómo se comporta el jitter a medida que se aleja la fuente de interferencia de la red 802.11. 0 10 20 30 40 50 60 70 0 5 10 R e ta rd o e n m s Retardo de 2 Clientes vs Teléfono Inalámbrico a Distancias Variables mts * 76 Figura 6.29: Jitter de 2 clientes vs teléfono inalámbrico a Distancias Variables Donde se puede concluir:  A pesar que las métricas anteriores se puede observar que existe una atenuación de los efectos de la fuente de interferencia, esta genera un gran índice de jitter, indicándonos así que a pesar de la atenuación de la misma la red basada en 802.11 tendrá complicaciones para realizar sus tareas.  Por otra parte la diferencia en cada una de las capturas del jitter nos muestra el inestable comportamiento de la red 802.11 al usar estos dispositivos incluso a distancia de 10 metros. 6.3.2.4 Paquetes Perdidos En la Figura 6.30 se puede observar cómo se comporta el jitter a medida que se aleja la fuente de interferencia de la red 802.11. 0 50 100 150 200 250 0 5 10 J it te r e n m s Jitter de 2 Clientes vs Teléfono Inalámbrico a Distancias Variables mts * 77 Figura 6.30: Paquetes perdidos de 2 clientes vs teléfono inalámbrico a Distancias Variables De esta gráfica podemos concluir lo siguiente:  Luego de variar las distancias a 5 metros o mayores, disminuye significativamente la perdida de paquetes.  A pesar de esto esta pérdida de paquetes luego de los 5 metros no disminuye, demostrando así que las distancias no mayores a 10 metros no mejoran significativamente la calidad de la red con respecto a la perdida de paquetes. Se puede resumir, que de las fuentes que emiten interferencia: los dispositivos Bluetooth generan poca o casi ningún efecto, gracias al uso de FHSS como método de dispersión, en el canal de los 2.4 GHz. Se puede concluir que esta tecnología tiende a afectar lo menos posible, inclusive se podría pensar en la coexistencia con la tecnología 802.11. La tecnología utilizada en los hornos microondas afecta de manera significativa, alrededor de un 50%, el desempeño de las redes inalámbricas 802.11. Pero a pesar de esto es posible la comunicación de los nodos de dicha red. Sin embargo, la tecnología usada en los teléfonos inalámbricos puede apodarse de un canal del espectro y no liberarlo hasta terminar una comunicación, por lo tanto, crea grandes efectos de interferencia si la red es basada en 802.11.Es decir, sobrepone su canal sobre el canal del teléfono inalámbrico, y es tan fuerte este efecto que se dificultó la captura de la información necesaria para un cliente. Por otro lado se puede afirmar que existe la atenuación de la fuente de interferencia, a medida que la misma se aleja del AP. Sin embargo a pesar que se muestra la existencia 0 0.5 1 1.5 2 2.5 3 3.5 4 0 5 10 P a q u e te s P e rd id o s % Paquetes Perdidos de 2 Clientes vs Teléfono Inalámbrico a Distancias Variables * 78 de ésta, las distancias a las cuales se realizaron los experimentos no demostraron mejora significativa en el desempeño de las redes basadas en 802.11. 79 7 Conclusiones Existe una numerosa cantidad de dispositivos que emiten fuentes de interferencia sobre la banda ISM de los 2.4GHZ, las cuales pueden afectar a las redes basadas en 802.11. Por lo general, el efecto de interferencia ocurre debido a la alteración del medio, estas vienen dada por la intensidad y la cantidad del tiempo que el dispositivo emisor de interferencia ocupe el canal. Las mismas varían dependiendo del tipo de dispositivos y de los efectos que los mismos ejercen sobre el espectro de radio. El ICARO Scanner es una herramienta de bajo costo diseñada en el laboratorio ICARO, el cual permitió estudiar de manera detallada el espectro de radio de los 2.4 GHz. Permitiendo así llevar a cabo la mayor parte de este trabajo, evitar o afrontar las fuentes de interferencia. También permitió demostrar que los estándares de las redes inalámbricas basadas en 802.11 y los dispositivos Bluetooth se cumplen en la práctica. Por otro lado sin este dispositivo no se hubiese podido llevar a cabo este trabajo. Con el fin de atenuar los efectos producidos por fuentes de interferencia, las redes 802.11 poseen un mecanismo de control (CSMA/CA) para censar el medio y evitar la corrupción de los datos enviarlos al mismo. Sin embargo, al existir una fuente de interferencia que consuma todo el canal, este mecanismo se verá diezmado y se observara una degradación considerable en el desempeño de estas redes. 7.1 Contribución Entre las contribuciones de este trabajo podemos enumerar las siguientes:  Desarrollo de una kit de Hardware y Software para el análisis del espectro: Dicha herramienta estará ubicada en el laboratorio ICARO, con el fin de mostrar a los estudiantes, el comportamiento en el espectro de una forma visual. Con el fin de hacer menos abstracto el estudio del comportamiento en el espectro de las tecnologías que usan la banda ISM de los 2.4GHz.  Estudio del comportamiento dispositivos en el espectro: El mismo permite entender como trabajan las tecnologías de Bluetooth, hornos microondas, teléfonos inalámbricos y redes 802.11. Además es posible comprobar de manera práctica como técnicas de dispersión al medio como FHSS y DSSS cumplen con establecido en la teoría. Finalmente nos permite comprender si una fuente de interferencia es baja, media o elevada.  Estudio en el desempeño de las redes 802.11 frente a fuente de interferencia: Este pretende mostrar de manera cuantitativa, usado métricas en capas superiores a la física el efecto producido por las fuentes de interferencia sobre las redes basadas 80 en el estándar 802.11. Además este estudio permite observar los efectos en el desempeño de dichas redes al variar la distancia de las fuentes de interferencia con respecto al AP. 7.2 Recomendaciones De los resultados obtenidos en este trabajo existen un conjunto de recomendaciones a la hora de desplegar redes basadas en 802.11 estas recomendaciones son las siguientes:  Verificar si el medio, en este caso la frecuencia de los 2.4GHz, está libre de ruido.  Verificar si el canal a utilizar dentro del espectro se encuentra libre. Es decir no esté ocupada ya sea por una fuente de interferencia o por otra red basadas en 802.11.  Evaluar los potenciales dispositivos y verificar qué emisiones produce en el espectro radioeléctrico y si es posible catalogarlo o no como una fuente de interferencia.  Si se va a implementar una red inalámbrica de alto tráfico con una cantidad elevada de clientes, se debe colocar más de un AP, y tener separación de los canales centrales de al menos 30 MHz para evitar superposición entre los mismos. 7.3 Limitantes Este trabajo se vio limitado a los siguientes factores:  Áreas de poco rango para realizar pruebas de larga distancia.  Dificultad para mover el entorno de pruebas a otro sitio.  Simplicidad del dispositivo de medición de espectro, lo que permite analizar el ambiente, pero no permite analizar las señales independientes, para identificar dispositivos que no sean 802.11.  El tiempo necesario para realizar cada escenario de pruebas es extenso y tiene que ser realizado meticulosamente. 7.4 Trabajos Futuros Otros estudios que pueden ser realizados:  Se podría realizar un estudio del efecto de las señales a medida que las distancias son mayores a 10 metros.  Se puede hacer un estudio donde se evalué el comportamiento de las señales y usando reconocimiento de patrones responder si el dispositivo es 802.11, teléfono inalámbrico o un horno microondas.  Comprobar materiales que tiendan a amplificar o degradar señales dentro de las edificaciones. 81  Un mejor estudio del ICARO escáner, podría obtener mejor precision (mayor cantidad de datos/ segundo) al hacer mediciones en el ambiente.  Estudio de la degradación de las señales de 2.4GHz dentro de estructuras que poseen motores industriales y infraestructuras recubiertas de mucho acero o condición de jaula de Faraday. 82 8 Referencias [1]. Society, IEEE Computer. IEEE Std 802.11™-2007 Part 11: Wireless LAN Medium Access Control (MAC). New York : s.n., 2007. [2]. International Telecomunication Union Radio Sector. Radio Regulations Volume 1. Génova : s.n., 2004. [3]. Comisión Nacional de Telecomunicaciones de Venezuela. RESOLUCIÓN CONTENTIVA DE LAS CONDICIONES PARA LA CALIFICACIÓN DE LOS EQUIPOS DE USO LIBRE. Venezuela : s.n., 2003. [4]. Diccionario de la Real Academia Española. [En línea] Enero 2011. http://rae.es/rae.html. [5]. Gast, Matthew. 802.11® Wireless Networks The Definitive Guide. California : O'Reilly Media, Inc., 2005. 0-596-10052-3. [6]. Villapol, Maria Elena. Redes de Área Local Inalámbricas y Personales . Caracas : s.n., 2011. [7]. Stalling, Wiliam. Wireless Comunication & Networks. New Jersey : Pearson Prentice Hall, 2005. [8]. Bluetooth SIG, Inc. Specification of the Bluetooth System. s.l. : Bluetooth SIG, Inc., 2007. [9]. Villapol, Maria E. Bluetooht. Caracas : s.n., 2007. [10]. Ashim K. Datta, Ramaswamy C.Anantheswaran. Handbook of Microwave Technology for Food Applications. New York : Marcel Dekker, Inc., 2001. ISBN: 0-8247- 0490-8. [11]. Patentes sofre funcionameinte de telefonos inalambricos.[En linea] Mayo 2011. http://www.patentesonline.com.mx/arquitectura-para-telefonos-inalambricos-82792.html [12]. DECT Forum. DECT The standar explained. Solothurn : s.n., 1997. [13]. Morán, Jesús. Propuesta para Analizar el Efecto de la Interferencia Sobre las Redes Inalámbricas Basadas en el Estándar IEEE 802.11. Caracas : s.n., 2011. [14]. Iperf Proyect.[En línea] Abril 2012. http://sourceforge.net/projects/iperf. [15]. 2.4GHz WiFi & ISM Band Scanner [En línea] Abril 2012 http://geoffg.net/ISM_Scanner.html. [16]. Microchip Technology. PIC18F2455/2550/4455/4550 Data Sheet. 2009. [17]. Cypress. CYWM6935 WirelessUSB LR Radio Module. California : s.n., 2011. [18]. Golmie, Nada. Coexistence in Wireless Networks. New York : Cambridge University Press, 2006. 978-0-521-85768-0. [19]. Frank S. Crawford, Jr. Waves. New York : Mc Graw-Hill, 1968. http://rae.es/rae.html http://www.patentesonline.com.mx/arquitectura-para-telefonos-inalambricos-82792.html http://sourceforge.net/projects/iperf Resumen Tabla de Contenido Índice de Figuras Índice de Tablas 1 Introducción 1.1 Planteamiento del Problema 1.2 Objetivo General 1.3 Objetivos Específicos 1.4 Justificación 1.5 Alcance 1.6 Distribución del Documento 2 Tecnologías que Operan en la Banda ISM de 2.4GHz 2.1 IEEE 802.11 2.1.1 Arquitectura de Protocolos 2.1.2 Componentes 2.1.3 Topología 2.1.4 Capas Físicas 2.1.4.1 División por Salto de Frecuencia 2.1.4.2 División por Espectro Ensanchado de Secuencia Directa 2.1.4.3 Tasa Alta 2.1.4.4 Capa Física de Tasa Extendida 2.1.4.5 Tabla Comparativa 2.2 Bluetooth 2.2.1 Arquitectura de Protocolos 2.2.1.1 Protocolos de Núcleo 2.2.1.2 Protocolos de Sustitución de Cable 2.2.1.3 Protocolos de Control de Telefonía 2.2.1.4 Protocolos Adoptados 2.2.2 Bluetooth Radio 2.2.2.1 Banda de Frecuencias 2.2.2.2 Modo Básico 2.2.2.3 Modo Extendido 2.2.3 Banda Base 2.2.3.1 Paquetes 2.2.3.2 Topología de Red 2.2.3.3 Reloj Bluetooth 2.2.3.4 Códigos de Acceso 2.2.3.5 Canal Físico 2.2.3.6 Enlace Físico 2.3 Horno de Microondas 2.4 Teléfonos Inalámbricos 2.4.1 Teléfonos Analógicos 2.4.2 Teléfonos Digitales 3 Metodología y Herramientas Utilizadas 3.1 Determinación del Instrumento de Medición 3.2 Desarrollo del Instrumento de Medición 3.3 Elección de los Escenarios 3.4 Implementación de los Escenarios 3.5 Efectuar las Pruebas 3.6 Análisis de los Resultados 3.7 Herramientas Utilizadas 3.7.1 Herramientas de Hardware 3.7.2 Herramientas de Software 4 ICARO Scanner 4.1 Definición 4.2 Diseño 4.2.1 Diseño Lógico 4.2.2 Implementación 4.3 Software de ICARO Scanner 5 Definición y Ejecución de las Pruebas 5.1 Definición de los Escenarios de Prueba 5.1.1 Arquitectura de la Red de Prueba 5.1.2 Escenarios 5.1.3 Dispositivos 5.2 Ejecución de las Pruebas 5.2.1 Pruebas en el Espectro 5.2.2 Pruebas de Desempeño 6 Análisis de los Resultados 6.1 Análisis del Espectro 6.1.1 Análisis del Espectro de cada una de las Tecnologías 6.1.2 Análisis del Espectro con Alteraciones 6.2 Resultados de Desempeño 6.2.1 Resultados de los Efectos de la Interferencia en el Desempeño de un Cliente 6.2.1.1 Throughput 6.2.1.2 Retardo 6.2.1.3 Jitter 6.2.1.4 Paquetes Perdidos 6.2.2 Resultados de los Efectos de la Interferencia en el Desempeño de Uno, Dos, Cuatro y Ocho Clientes 6.2.2.1 Throughput 6.2.2.2 Retardo 6.2.2.3 Jitter 6.2.2.4 Paquetes Perdidos 6.3 Resultados de Variación de la Distancia de la Fuente de Interferencia 6.3.1 Horno Microondas. 6.3.1.1 Throughput 6.3.1.2 Retardo 6.3.1.3 Jitter 6.3.1.4 Paquetes Perdidos 6.3.2 Teléfono Inalámbrico 6.3.2.1 Throughput 6.3.2.2 Retardo 6.3.2.3 Jitter 6.3.2.4 Paquetes Perdidos 7 Conclusiones 7.1 Contribución 7.2 Recomendaciones 7.3 Limitantes 7.4 Trabajos Futuros 8 Referencias