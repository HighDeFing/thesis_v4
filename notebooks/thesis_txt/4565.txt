UNIVERSIDAD CENTRAL DE VENEZUELA FACULTAD DE CIENCIAS ESCUELA DE COMPUTACION Laboratorio de Redes Móviles, Inalámbricas y Distribuidas (ICARO) “Evaluación de una Red Vehicular Ad-Hoc para la Comunicación entre Ambulancias del Sistema Integral de Atención Médica de Urgencias” Trabajo Especial de Grado Presentado ante la Ilustre Universidad Central de Venezuela Por los Bachilleres: Samarys del Pilar Galicia Araujo C.I.12.165.030 samarysgaliciaa@gmail.com Pedro Emilio Navarro Casanova C.I. 14.813.343 pedronavarro16@gmail.com Para optar al título de Licenciado en Computación Tutora: Profesora María Elena Villapol Caracas, Noviembre 2014 2 Caracas, Noviembre 2014 Universidad Central de Venezuela Facultad de Ciencias Escuela de Computación Laboratorio de Redes Móviles, Inalámbricas y Distribuidas (ICARO) ACTA DEL VEREDICTO Quienes suscriben, Miembros del Jurado designado por el Consejo de la Escuela de Computación para examinar el Trabajo Especial de Grado, presentado por los Bachilleres Samarys del Pilar Galicia Araujo C.I.: 12.165.030 y Pedro Emilio Navarro Casanova C.I.: 14.813.343, con el título “Evaluación de una Red Vehicular Ad-Hoc para la Comunicación entre ambulancias del Sistema Integral de Atención Médica de Urgencias”, a los fines de cumplir con el requisito legal para optar al título de Licenciado en Computación, dejan constancia de lo siguiente: Leído el trabajo por cada uno de los Miembros del Jurado, se fijó el día 05 de noviembre de 2014, a las 10 am, para que sus autores lo defendieran en forma pública, en <lugar Presentación>, lo cual estos realizaron mediante una exposición oral de su contenido, y luego respondieron satisfactoriamente a las preguntas que les fueron formuladas por el Jurado, todo ello conforme a lo dispuesto en la Ley de Universidades y demás normativas vigentes de la Universidad Central de Venezuela. Finalizada la defensa pública del Trabajo Especial de Grado, el jurado decidió aprobarlo. En fe de lo cual se levanta la presente acta, en Caracas el 05 de Noviembre de 2014, dejándose también constancia de que actuó como Coordinador del Jurado el Profesor Tutor María Elena Villapol. Prof. María Elena Villapol (Tutora) ___________________ Prof. Ana Morales (Jurado Principal) _____________________ Prof. Walter Hernández (Jurado Principal) 3 Dedicatoria Agradecimientos 4 Dedicatoria Agradecimientos 5 RESUMEN Actualmente el Sistema Integral de Atención Médica de Urgencias SIAMU del Ministerio del Popular para la Salud no cuenta con un sistema de comunicaciones eficiente para prestar un servicio de atención en su red ambulancias en la zona metropolitana de Caracas. Razón por la cual en este trabajo de grado se evalúa el uso de Redes Vehiculares Ad Hoc para mejorar la comunicación de dicho sistema. Para ello, se diseñaron 3 escenarios de simulación, el primero para una red ah hoc pura, el segundo para una red con infraestructura y el tercero para una Red Ad Hoc con tecnología de voz sobre IP (VOIP). Usando del protocolo de ruteo dinámico DSR para los tres escenarios y como principal herramienta de simulación el Network Simulator 2(NS2) y otras auxiliares que apoyan el análisis de las simulaciones. Los escenarios cubren la ruta de mayor uso y congestión por el sistema de ambulancias del SIAMU que son las zonas de Catia y Cotiza. Se configura la simulación para cada escenario con un patrón de movilidad específico, este patrón contendrá los datos que indican cómo se mueven los distintos vehículos dentro de un área determinada. El simulador de red usa esta configuración para representar entonces las comunicaciones inalámbricas entre las ambulancias. Las medidas de desempeño usadas son el Throughput, Jitter, Retardo Extremo a Extremo y perdida de paquetes. En cada escenario se realizan 30 ejecuciones del código para cada densidad de nodos con su respectivo modelo de movilidad. Los cálculos se inician con la ejecución del código en NS2 y seguidamente la herramienta network animator (NAM) en la cual se muestra de manera gráfica el desarrollo de dicha simulación. Para el cálculo de las medidas de desempeño se implementaron cuatro algoritmos que son ejecutados con el uso de las herramientas cygwin y AWK, para filtrar y obtener datos arrojados en las simulaciones. Los resultados obtenidos para cada medida de desempeño, junto con el protocolo de enrutamiento, modelo de movilidad, así como los tipos de tráfico permitirá medir el desempeño de la red. Por lo tanto se puede afirmar que es posible realizar comunicaciones entre vehículos y entre una red hibrida. Con estas características de la simulación se logra plantear las siguientes aplicaciones para las redes vehiculares en el campo de la salud específicamente para el sistema de ambulancias del SIAMU tales como: La aplicación de mensajería instantánea lo que permitiría tener siempre localizado una flota de ambulancias reduciendo así la 6 probabilidad de accidentes de tránsito y la disminución de los daños y lesiones causados por siniestros. Otra implementación seria el acceso al correo electrónico o navegación web desde estos vehículos para el envío y recepción de estudios médicos especiales tales como tomografías, resonancia magnética, rayos x entre otros. También la videoconferencia permitiría realizar estudio clínico en equipo (SIAMU Centro Hospitalario) de determinados casos, estas aplicaciones permitirán al sistema SIAMU dar respuestas más oportunas y acertadas en la prestación de los servicios. Debido a que desplegar y evaluar redes vehiculares supone un gran coste y una tarea dura, la metodología basada en la simulación se muestra como una metodología alternativa a la implementación real. Palabras Claves: AD HOC, AWK, CYGWIN, DSR, JITTER, NAM, NS2, SIAMU, TROUGHPUT, VANETS, VOIP. 7 Tabla de Contenido Índice de Gráficos y Figuras .............................................................................. 10 Índice de Tablas .................................................................................................. 12 Índice de Anexos ................................................................................................. 13 Acrónimos ............................................................................................................ 14 Capítulo 1: Introducción ..................................................................................... 15 Capítulo 2: Marco Teórico .................................................................................. 19 2.1 Introducción a las VANETS .......................................................................... 19 2.2 VANET ......................................................................................................... 20 2.3 Principio de Funcionamiento ........................................................................ 21 2.4 Aplicaciones de las Redes VANET .............................................................. 22 2.4.1 Servicios Vehículo a Vehículo (Car-To-Car Services) .......................................................... 22 2.4.2 Servicios Vehículo a Infraestructura (Car to Infrastructure Services) ................................ 22 2.4.3 Servicios Basados en un Portal Web (Portal Based Services). ........................................... 23 2.5 Características. ........................................................................................... 23 2.6 Elementos a tomar en cuenta en simulaciones con VANETS. .................... 25 2.6.1 Modelo de Movilidad Random Waypoint ................................................................................ 25 2.6.2 Enrutamiento Reactivo ............................................................................................................... 26 2.6.3 Modelo de propagación Two Ray Ground............................................................................... 27 Capítulo 3: Sistema Integral de Atención Médica De Urgencias (SIAMU) ..... 29 3.1 Visión ........................................................................................................... 29 3.2 Misión .......................................................................................................... 29 3.3 Funciones .................................................................................................... 29 3.4 Características de los Grupos Operativo .................................................... 30 3.5 Estructura Organizativa de Grupos Operativos ............................................ 30 3.6 Características del complejo médico regulador y sus componentes ............ 31 3.7 Centros hospitalarios relacionados con el SIAMU ....................................... 32 3.8 Características del departamento de transporte .......................................... 32 8 Capítulo 4: Metodología y Herramientas Utilizadas ......................................... 34 4.1 Fases para el desarrollo ............................................................................... 35 4.1.1 Escogencia y descripción de los escenarios ......................................................................... 35 4.1.2 Selección de las métricas ......................................................................................................... 35 4.1.3 Implementación general de los escenarios: ............................................................................ 35 4.1.4 Ejecución de pruebas y generación de resultados: ............................................................... 36 4.1.5 Análisis de resultados: ............................................................................................................... 36 4.2 Descripción del desarrollo de las simulaciones ............................................ 36 4.3 Herramientas............................................................................................... 38 4.4 El Simulador NS2 ......................................................................................... 38 Capítulo 5: Modelo de la Simulación y Escenarios .......................................... 40 5.1 Modelo de Movilidad Usado ......................................................................... 40 5.2 Esquema de Enrutamiento Usado ............................................................... 41 5.3 Parámetros del Canal Inalámbrico ............................................................... 41 5.4 Generación de Tráfico de Paquetes ............................................................. 41 5.4.1 Tráfico CBR.................................................................................................................................. 42 5.4.2 Tráfico Pareto .............................................................................................................................. 42 5.5 Establecimiento de la Cobertura de los Nodos ............................................ 44 5.6 Escenarios de Simulación ........................................................................... 45 5.6.1 Escenario 1 .................................................................................................................................. 45 5.6.2 Escenario 2 (mixto) ..................................................................................................................... 45 5.6.3 Escenario 3 .................................................................................................................................. 46 5.7 Implementación ............................................................................................ 47 5.7.1 Primer bloque de la implementación ....................................................................................... 47 5.7.2 Segundo bloque de la implementación................................................................................... 48 5.7.3 Tercer bloque de la implementación ....................................................................................... 51 5.8 Cálculo de cobertura .................................................................................... 52 Capítulo 6 Análisis de los Resultados .............................................................. 54 6.1 Throughput en las Simulaciones .................................................................. 54 6.1.1 Throughput para los escenarios 1,2 y 3 .................................................................................. 54 6.2 Retardo Extremo a Extremo en las Simulaciones ........................................ 57 6.2.1 Retardo Extremo a extremo para los Escenarios 1, 2 y 3 .................................................... 57 6.3 Jitter en las Simulaciones ............................................................................ 60 9 6.3.1 Jitter para los Escenarios 1, 2 y 3 ........................................................................................... 61 6.4 Pérdida de paquetes en las Simulaciones ................................................... 63 6.4.1 Pérdida de paquetes para los Escenarios 1, 2 y 3 ................................................................ 63 Capítulo 7 Conclusiones .................................................................................... 68 7.1 Contribuciones ............................................................................................. 69 7.2 Limitaciones ................................................................................................. 70 7.3 Trabajos Futuros .......................................................................................... 70 REFERENCIAS BIBLIOGRAFICAS ..................................................................... 72 ANEXOS ............................................................................................................... 74 10 Índice de Gráficos y Figuras FIGURA 2.1 EJEMPLO DE COMUNICACIÓN MULTI SALTO EN UNA RED AD-HOC .................. 20 FIGURA 2.2 RED VANET ................................................................................................. 21 FIGURA 2.3 PATRÓN DE MOVILIDAD RANDOM WAYPOINT ................................................ 25 FIGURA 3.1 ORGANIGRAMA FUNCIONAL DE GRUPOS OPERATIVOS ................................. 31 FIGURA 3.2 ORGANIGRAMA FUNCIONAL DEL COMPLEJO REGULADOR ............................ 32 FIGURA 4.1 ÁREA DE SIMULACIÓN ................................................................................... 34 FIGURA 4.2 ESQUEMA DE DESARROLLO PARA UN ESCENARIO .......................................... 37 FIGURA 4.3 VISTA SIMPLIFICADA DEL FUNCIONAMIENTO DE NS2 Y NAM ........................ 39 FIGURA 5.1 DIAGRAMA DE BLOQUES PARA LA IMPLEMENTACIÓN ...................................... 47 GRÁFICA 6.1 THROUGHPUT DE LA RED PARA EL ESCENARIO 1 ........................................ 55 GRÁFICA 6.2 THROUGHPUT DE LA RED PARA EL ESCENARIO 2 ........................................ 56 GRÁFICA 6.3 THROUGHPUT DE LA RED PARA EL ESCENARIO 3 ........................................ 56 GRÁFICA 6.4 PROMEDIO DEL RETARDO EXTREMO A EXTREMO PARA EL ESCENARIO 1 . 58 GRÁFICA 6.5 PROMEDIO DEL RETARDO EXTREMO A EXTREMO PARA EL ESCENARIO 2 . 58 GRÁFICA 6.6 PROMEDIO DEL RETARDO EXTREMO A EXTREMO PARA EL ESCENARIO 3 . 59 GRÁFICA 6.7 PROMEDIO DEL JITTER PARA EL ESCENARIO 1 ............................................ 61 GRÁFICA 6.8 PROMEDIO DEL JITTER PARA EL ESCENARIO 2 ............................................ 62 GRÁFICA 6.9 PROMEDIO DEL JITTER PARA EL ESCENARIO 3 ............................................ 62 GRÁFICA 6.10 PAQUETES ENVIADOS Y RECIBIDOS DEL ESCENARIO 1 ............................ 64 GRÁFICA 6.11 PORCENTAJE DE PAQUETES PERDIDOS PARA EL ESCENARIO 1 ................ 64 11 GRÁFICA 6.12 PAQUETES ENVIADOS Y RECIBIDOS DEL ESCENARIO 2 ............................. 65 GRÁFICA 6.13 PORCENTAJE DE PAQUETES PERDIDOS PARA EL ESCENARIO 2 ................ 65 GRÁFICA 6.14 PAQUETES ENVIADOS Y RECIBIDOS PARA EL ESCENARIO 3 ...................... 66 GRÁFICA 6.15 PORCENTAJE DE PAQUETES PERDIDOS PARA EL ESCENARIO 3 ................ 66 12 Índice de Tablas Tabla 5.1 Parámetros del modelo Random Waypoint .................................... 41 13 Índice de Anexos GRÁFICA ANEXOS 1: THROUGHPUT VS ESCENARIO PARA 7 NODOS .............................. 75 GRÁFICA ANEXOS 2: THROUGHPUT VS ESCENARIO PARA 14 NODOS ............................ 75 GRÁFICA ANEXOS 3: THROUGHPUT VS ESCENARIO PARA 21 NODOS ............................ 76 GRÁFICA ANEXOS 4: THROUGHPUT VS ESCENARIO PARA 28 NODOS ............................ 76 GRÁFICA ANEXOS 5: RETARDO EXTREMO A EXTREMO PARA 7 NODOS ......................... 77 GRÁFICA ANEXOS 6: RETARDO EXTREMO A EXTREMO PARA 14 NODOS ....................... 77 GRÁFICA ANEXOS 7: RETARDO EXTREMO A EXTREMO PARA 21 NODOS ....................... 78 GRÁFICA ANEXOS 8: RETARDO EXTREMO A EXTREMO PARA 28 NODOS ....................... 78 GRÁFICA ANEXOS 9: PÉRDIDA DE PAQUETES VERSUS ESCENARIO PARA 7 NODOS ........ 79 GRÁFICA ANEXOS 10: PÉRDIDA DE PAQUETES PARA 14 NODOS ................................... 79 GRÁFICA ANEXOS 11: PÉRDIDA DE PAQUETES PARA 21 NODOS ................................... 80 GRÁFICA ANEXOS 12: PÉRDIDA DE PAQUETES PARA 28 NODOS ................................... 80 14 Acrónimos AWK A. Aho, P. Weinberger y B. Kernighan (autores) BIT Binary digit C2CCC Car 2 Car Communication Consortium CBR Constant Byte Rate CDI Centro de Diagnóstico Integral DSR Dynamic Source Routing Protocol DSRC Dedicated Short Range Communication GOD General Operations Director GPRS General Packet Radio Service IATS Inter Arrival Times IEEE Institute of Electrical and Electronics Engineers IVSS Instituto Venezolano de los Seguros Sociales KBPS Kilo Bits Per Second LL Link Layer LRD Long Range Dependency MAC Media Access Control MANET Mobile Ad hoc Network MBPS Mega Bits Per Second MPPS Ministerio para el Poder Popular para la Salud m/s Meter(s) per Second NAM Network Animator NS2 Network Simulator 2 ODRA Operadores De Radio OTCL Tool Command Language Object oriented PDF Probability Density Function QoS Quality of Service RREP Route Reply RREQ Route Request SIAMU Sistema Integral de Atención Médica de Urgencias SIGMOBILE Systems Mobility Group SUMA Sistema Ultra Micro Analitico TETRA Terrestial Trunked Radio TCL Tool Command Language UDP User Datagram Protocol UMTS Sistema Universal de Telecomunicaciones Móviles USA United States of America VANET Vehicular Ad Hoc Networks VOIP Voice Over IP VSC Vehicle Safety Communications 15 Capítulo 1: Introducción El alto desarrollo y aceptación que ha tenido la idea de las ciudades inteligentes1, en el mundo ha llevado a la investigación y el desarrollo de los Sistemas Inteligentes de Trasporte ITS2. Este tipo de sistemas están destinados a colaborar con la labor de los servicios públicos como la policía o las unidades de emergencia, ya sean ambulancias o bomberos, realizando una labor de apoyo a la actividad de los mismos, a través del uso de sirenas virtuales o dotándolos de capacidades como señales preventivas. Mediante el uso de estas solicitudes se busca que los vehículos de emergencia sean capaces de llegar a su destino mucho más rápido que hoy día. Con la evolución de las distintas tecnologías de comunicación, como son las redes Ad Hoc, nace una nueva aplicación a este sistema conocido con el nombre de VANET. Las redes VANETS son una aplicación de las redes móviles ad hoc MANET en donde los nodos móviles que intervienen dentro de la red constituida, son representados por los distintos vehículos que se encuentren circulando en las diferentes rutas dentro de una red implementada. Orientada a formar redes vehiculares de corto y medio alcance. VANET se crea con el propósito de establecer aplicaciones tanto de seguridad vehicular, como la prevención de colisiones de autos; así como también aplicaciones para informar a conductores sobre la congestión vehicular o información de vías alternas. También puede ser aprovechada para crear redes urbanas que permitan solventar problemas de seguridad y tráfico en las distintas rutas dentro de un perímetro urbano establecido. 1 Son ciudades modernas, basadas en mejorar el confort de los ciudadanos, siendo cada vez más eficaces y brindando nuevos servicios de calidad, mientras que se respetan al máximo los aspectos ambientales y el uso prudente de los recursos naturales no renovables.[1] 2 Es un conjunto de soluciones tecnológicas de las telecomunicaciones y la informática (conocida como telemática) diseñadas para mejorar la operación y seguridad del transporte terrestre, tanto para vías urbanas y rurales, como para ferrocarriles. 16 1.1 Planteamiento del Problema Las ambulancias tienen que enfrentarse diariamente al tráfico y la congestión, por lo que la decisión de la ruta más rápida al centro hospitalario y la información veraz y oportuna por correo y en tiempo real acerca de exámenes médicos y estudio clínico del paciente respectivamente, puede ser una decisión de vida o muerte. Los conductores de las ambulancias, eligen la ambulancia más cercana y la ruta más eficiente para llegar al centro hospitalario. Por esta razón, además del equipamiento usado para el tratamiento de pacientes, las ambulancias deben albergar un sistema que permita la comunicación entre ellos y entre entes externos. Durante la intervención, el personal de la ambulancia, necesita comunicarse con el personal médico del centro hospitalario y necesita enviar datos a dicho centro por adelantado, para preparar las salas de urgencias a su llegada. Actualmente las ambulancias del SIAMU. Opera con radios bidireccionales a través del Sistema Terrestial Trunked Radio Tetra. Tetra ofrece los siguientes servicios:  Llamada individual.  Llamada de grupo.  Llamada de difusión.  Llamada de emergencia.  Operación en medio directo (DMO).  Canal abierto.  Inclusión de llamada.  Transmisión de datos del usuario.  Servicios de datos breves.  Servicios de datos sobre servicios conmutados.  Servicios de datos sobre paquetes conmutados.  Servicios prioritarios y de prevención. Como una alternativa existe también el Sistema de Posicionamiento Global GPS que permite en todo el mundo determinar la posición de un objeto, una persona o un vehículo. Este funciona mediante una red de 24 satélites en órbita sobre el globo, sin embargo, está limitado solo a la localización de vehículos y navegación. 17 1.2 Objetivo General Estudiar el rendimiento de una Red Vehicular Ad-Hoc para la comunicación entre ambulancias usando simulación. 1.3 Objetivos Específicos  Diseñar el sistema de comunicación entre ambulancias basadas en la definición de los distintos escenarios.  Determinar los parámetros de rendimiento de cada escenario y así proponer mejoras en la conducción de las ambulancias del sistema SIAMU  Simular el sistema basado en el diseño propuesto  Analizar los resultados obtenidos. 1.4 Justificación El alto porcentaje de población conlleva a que la atención pre-hospitalaria crezca en respuesta a una real necesidad de atención. En esta atención pre hospitalaria están incluidos varios elementos, de los cuales uno de ellos es el sistema de ambulancias. La industria del automóvil emplea bastantes recursos en confort y la seguridad pero adolecen de sistemas que permitan resolver los problemas de tráfico en la ciudad lo cual ha traído como consecuencia que se requiera la existencia de aplicaciones en el escenario vehicular con la finalidad de aumentar la seguridad y, por tanto, disminuir el número de accidentes. A través de la comunicación y alerta entre vehículos, ellos pueden compartir información relativa al tráfico, como por ejemplo, información de ocurrencias de accidentes en la vía o las señales de tráfico existentes. De esta manera, los conductores podrán actuar de manera proactiva en la planificación de rutas, pudiendo cambiar su trayectoria con suficiente antelación ante cualquier dificultad. Esta propuesta está orientada a garantizar la seguridad pública con relación al sistema de ambulancias en el sector salud específicamente del SIAMU y así optimizar o sustituir los recursos tecnológicos en las comunicaciones existentes, lo que permitirá, mejorar los tiempos de despacho y de atención, También permitiría reducir los tiempos de respuesta a la emergencia. 18 Por otro lado se brinda más seguridad al personal que trabaja en las unidades porque el sistema permitirá reportar mensajes de auxilio de manera inmediata para casos en los que se encuentren en situación de emergencia. 1.5 Organización del Trabajo El contenido del documento se encuentra organizado en siete capítulos, los cuales pretenden irse presentando de forma progresiva. Todos los elementos necesarios para poder entender completamente en qué consisten las simulaciones llevadas a cabo, se desglosan de la siguiente manera, en el capítulo 2 se muestran las características principales de las VANETS y su marco teórico en el que se basaran las simulaciones. En el capítulo 3 se muestra el sistema SIAMU, su finalidad, funcionamiento y estructura. Mientras que en el capítulo 4 se describe la metodología y herramientas utilizadas. Aquí se muestra una introducción al principio de funcionamiento de los escenarios así como las distintas fases del desarrollo de las simulaciones y las herramientas utilizadas para la obtención de resultados. Otro punto importante está en el capítulo 5 donde se describe el modelo de la simulación así como los escenarios en la cual se definen los elementos para especificar el problema de forma completa, estos elementos son: Modelo de movilidad, esquema de enrutamiento, parámetros del canal inalámbrico, generación del tipo de tráfico, establecimiento de la cobertura, especificación de cada uno de los escenarios y su implementación. En el capítulo 6 se expone y se analiza los resultados obtenidos de los escenarios descritos, por medio de gráficas, basados en los parámetros empleados. Por último en el capítulo 7 se presentan las conclusiones contribuciones y limitaciones, sobre las simulaciones y resultados llevadas a cabo en esta tesis. 19 Capítulo 2: Marco Teórico 2.1 Introducción a las VANETS Actualmente las redes inalámbricas espontáneas sin dependencia de ninguna infraestructura como son las redes Ad Hoc, se encuentran en plena investigación y desarrollo a causa de su infinidad de posibles nuevas aplicaciones. Una posible definición conceptual que describa de forma general y resumida lo que es una red Ad Hoc, sería la de una red compuesta por terminales fijos y móviles o bien sólo móviles, que no dependan de una infraestructura preexistente, desplegándose de una forma espontánea en un entorno inalámbrico; sin excluir por tanto, que alguno de ellos posea conectividad con cable [2]. Es importante mencionar que este tipo de redes da la posibilidad de establecer una red entre dispositivos aislados sin la necesidad de tener estaciones base, enrutadores fijos o tener un administrador del propio sistema, ya que las redes Ad Hoc son adaptativas y pueden auto configurarse. Algunos nodos actuarán como emisor, receptor o enrutador, en el caso que actúen como enrutador va a ser con la finalidad de comunicar dos dispositivos que no se encuentran directamente conectados mediante su propio radio de cobertura de enlace. Uno de los protocolos de enlace más comunes en redes Ad Hoc es la del Instituto de Ingenieros Eléctricos y Electrónicos (IEEE 802.11) o Bluetooth; pudiendo formarse una red inalámbrica multi salto (véase figura 2.1), donde cada uno de los nodos sería capaz de cubrir distancias de 30 a 100 metros en interiores y de 100 a 300 metros en exteriores. 20 FIGURA 2.1 EJEMPLO DE COMUNICACIÓN MULTI SALTO EN UNA RED AD-HOC Las redes Ad Hoc presentan topologías dinámicas donde los nodos se mueven en el espacio de forma arbitraria, teniendo como gran dificultad y reto la gran variabilidad y la imprecisión que ofrece el medio (jitter, atenuación, multi camino, ruido, etc.) unido a cambios repentinos e inesperados (enlaces bidireccionales o unidireccionales, restricción del volumen que fluye a través del sistema, caída y recuperación de enlaces, etc.). Las limitaciones del medio junto con los protocolos que intervienen en la comunicación son un fundamento determinante en el funcionamiento y comprensión de las redes Ad Hoc. 2.2 VANET Una vez vistos los conceptos más relevantes sobre las redes Ad Hoc, se profundizara en un tipo en concreto, ya que éste es el objeto de estudio. Una VANET, como su propio nombre indica, se trata de una red Ad Hoc donde sus nodos se corresponderían a vehículos (carros, camiones, autobuses, etc.); en este caso, cabría la posibilidad de que dichos nodos formaran la red en pleno movimiento (por ejemplo mientras se circula por una autopista). Los nodos que se mueven de forma arbitraria y se comunican entre ellos (vehicle-to-vehicle), pueden tener también un equipo fijo próximo que formará parte de la red y que también dotará a dicha red de una conexión hacia Internet, al igual que hoy acceden nuestros terminales móviles a Internet a través de: Vehicle- to- roadside [3], General Packet Radio Service GPRS o el Sistema Universal de Telecomunicaciones Móviles UMTS [4] (Ver Figura 2.2). 21 En cuanto a la nomenclatura, cabe indicar que una VANET es un tipo de MANET, es decir, una red ad-hoc móvil, por las razones que se han expuesto anteriormente; aunque es importante diferenciar que MANET describe sobre todo un campo de investigación académico, mientras que el término VANET está más enfocado a una aplicación en concreto [5]. FIGURA 2.2 RED VANET Hoy por hoy todo lo que envuelve el tema de las VANETS está en pleno desarrollo e investigación, de hecho, existen varios grupos de trabajo, tanto por parte de las universidades y los gobiernos, como de la industria, que investigan en este campo debido a la multitud de posibles aplicaciones que podría suponer su utilización; algunos de los consorcios son el de Comunicaciones Vehiculares Seguras de Estados Unidos (VSC USA), Car 2 Car Communication Consortium (C2CCC Europa), Sistemas de Trasporte Inteligentes (ITS Japón), Grupo de Movilidad de Sistemas (Sigmobile USA), etc. [3] y el propio IEEE, que conjuntamente con el european car to car communication están desarrollando el protocolo IEEE 802.11p. , lo que se podría ver como una adaptación del propio IEEE 802.11, equivalente al estándar Dedicated Short Range Communication (DSRC) utilizado en Estados Unidos [6]. 2.3 Principio de Funcionamiento En una red (VANET) la mayoría de las veces los vehículos viajan de una forma definida al seguir una ruta establecida hacia su destino mientras que otras veces lo harán de una forma aleatoria, ya que dependiendo de factores externos como accidentes de tránsito, paradas intermedias o espontáneas de vehículos y tráfico excesivo, provocan que los vehículos se salgan de su ruta predefinida en busca de una nueva ruta alterna, con lo cual la topología de las redes VANET 22 varía constantemente dependiendo del ingreso o salida de vehículos dentro de la red, viéndose afectada constantemente su topología. 2.4 Aplicaciones de las Redes VANET Anteriormente describimos rasgos generales del concepto de VANET, ahora se van a ver algunas de las aplicaciones más prometedoras de este tipo de redes, mencionando también los grupos de trabajo vinculados a la investigación y desarrollo de éstas. 2.4.1 Servicios Vehículo a Vehículo (Car-To-Car Services) Este tipo de servicio es el más ligado a la seguridad, pensado fundamentalmente para el intercambio de información entre vehículos con la finalidad de: Informar y prevenir accidentes ocurridos, de esta manera evitar colapsos, información del estado del tráfico, condiciones de la vía y clima, enviar mensajes de auxilio, mantenimiento de las distancias de seguridad, etc. Por otro lado, uno de los retos de esta tecnología y por tanto, estudio y desarrollo por parte del consorcio C2CCC es la de ofrecer un entorno escalable, permitir comunicaciones a altas velocidades, ofrecer una diseminación de la información en escenarios donde intervengan más de 100 nodos, ofrecer seguridad y privacidad en las comunicaciones, calidad de servicio QoS, servicios en tiempo real, entornos de simulación realista, entre otros [4]. 2.4.2 Servicios Vehículo a Infraestructura (Car to Infrastructure Services) Este servicio está pensado como refuerzo del anteriormente explicado, aparte de ofrecer un intercambio exclusivo de datos entre vehículos, la idea sería la de introducir una serie de estaciones base que podrían ofrecer información climatológica de una fuente externa, información del tráfico, etc., aparte de poder aumentar el radio de amplitud de la red Ad Hoc formada, con la posibilidad por ejemplo de poder enviar a un servicio de emergencia un mensaje de auxilio, ya que cabría la posibilidad que en esa parte de la vía no hubiera más vehículos en ese momento que sirvieran como enrutadores. También se puede generar servicios de información de establecimientos comerciales o de servicios básicos, a los vehículos que circulan por el sector y que se encuentren en el rango de cobertura de la red establecida y así estos puedan recibir información acerca de eventos, promociones o disponibilidad de servicios de algún centro comercial que se encuentre en el sector. De esta forma tanto usuarios de vehículos como comerciantes pueden verse beneficiados con la implementación de una 23 tecnología como esta ya que les sirve como una ayuda para el intercambio de información en la solicitud y oferta de productos o servicios que se comercialicen dentro del rango de cobertura de la red VANET de Infraestructura creada. A diferencia de muchos otros entornos móviles Ad Hoc donde el movimiento de nodo se produce en un campo abierto (como salas de conferencias y cafés), los nodos vehiculares están circunscritos por calles frecuentemente separadas por edificios, árboles u otros objetos que limitan las señales que se transmiten. La distribución de calles, autopistas y sus diferentes obstáculos incrementan la distancia promedio entre nodos y, en la mayoría de los casos se reduce la fuerza de la señal recibida en cada nodo debido a las interferencias. Un modelo de movilidad más realista con un nivel apropiado de detalle para las redes vehiculares es fundamental para obtener resultados adecuados en la red simulada. 2.4.3 Servicios Basados en un Portal Web (Portal Based Services). Es el servicio con más expectativas de futuro dentro de las VANETS en el entorno de ocio y empresarial, aparte de poder ofrecer los servicios anteriormente descritos. Este sistema consiste en ofrecer a los vehículos actividades basados en infraestructura bajo una plataforma de servicios telemáticos, como por ejemplo conexión a Internet desde los vehículos, pagar facturas, reservar hoteles, restaurantes, etc. 2.5 Características. Debido a que en las Redes VANETS los vehículos pueden establecer una comunicación entre ellos y con algún tipo de infraestructura. Las Redes vehiculares tienen las siguientes características [5].  Autonomía: Cada terminal es un nodo autónomo con capacidad para procesar y enrutar la información proveniente de otros nodos de la misma red.  Control distribuido de red: El control se hace en cada nodo ya que no se tiene infraestructura que lo realice.  Enrutamiento: Es necesario que cada nodo por separado, y todos en conjunto, provean un mecanismo dinámico de enrutamiento. Los protocolos clásicos de enrutamiento no son aplicables a este tipo de redes ya que no están preparados para las variaciones de topología que presentan las VANETS. Actualmente, se están desarrollando algoritmos de enrutamiento para enfrentar este problema. 24  Topología de red variable: En las redes vehiculares los nodos o vehículos se pueden mover de forma arbitraria, aunque a veces sigan algunos patrones de movilidad, debido a esto, las redes se pueden subdividir y por consiguiente, pueden experimentar la pérdida de paquetes. Para esto se deben desarrollar mecanismos que detecten estas circunstancias y que minimicen de esta forma sus efectos [7].  Energía ilimitada: Los inconvenientes de alimentación de los dispositivos móviles, no constituyen una limitación importante para las Redes vehiculares, ya que el propio nodo (vehículo), puede proporcionar energía permanente a los dispositivos informáticos y de comunicación.  Mayor capacidad computacional: Las redes vehiculares requieren a menudo brindar mayores capacidades de detección, comunicación y cómputo, por lo que los vehículos y las estaciones deben de contar con muy buenos equipos computacionales.  Escala potencialmente grande: Su despliegue sobre toda la red vial, aumentaría de tal forma el tamaño de la red, esto implica la participación de un elevado número de nodos, que requieren niveles de potencia elevados para ampliar su rango de cobertura y mantener las comunicaciones.  Alta movilidad: Las redes vehiculares operan sobre un entorno altamente dinámico. Los vehículos en las vías viajan a velocidades muy altas (100 Km/h en autopistas y 60 Km/h en la ciudad), lo cual conlleva a predecir que el periodo de comunicación inter-vehicular pueda ser muy corto [6]. La topología de la red tiende a cambiar de forma aleatoria y rápida en todo momento, dificultando el establecimiento de la conectividad de la red, la cual debe mantenerse estable para que los servicios de comunicación puedan operar sin inconvenientes.  Ancho de banda limitado: El ancho de banda en sistemas inalámbricos, que carecen de infraestructura y que además son móviles es mucho más reducido que el ancho de banda de redes que están preestablecidas.  Fluctuación de los enlaces: La calidad de la información se ve afectada a medida que los saltos entre los nodos de las Redes Ad Hoc se va incrementando debido a la adición de errores de dígito binario bit entre cada salto [8]. 25 2.6 Elementos a tomar en cuenta en simulaciones con VANETS. 2.6.1 Modelo de Movilidad Random Waypoint El modelo Random Waypoint se basa en la aleatoriedad de movimiento que tienen los nodos[6], cualquier nodo puede moverse por cualquier punto del escenario en cualquier dirección y sentido. También incluye opcionalmente, períodos de pausa entre los cambios de dirección y/o velocidad, es decir un móvil se detiene para cambiar de dirección y/o sentido y puede permanecer quieto durante un tiempo de pausa determinado por los parámetros de la simulación. Tras una pausa el nodo toma una dirección aleatoria y una velocidad comprendida entre los umbrales especificados en los parámetros de simulación (min. speed, max. speed). A continuación en la figura 2.3 se muestra una simulación donde se puede apreciar el funcionamiento de este patrón para un nodo usando el modelo de movilidad Random Waypoint. FIGURA 2.3 PATRÓN DE MOVILIDAD RANDOM WAYPOINT En las primeras figuras se puede observar como el nodo no arranca en el punto (0,0) sino en una posición o punto aleatorio. Esto se debe al patrón de movimiento y donde el nodo pudiera desplazarse hasta un punto cualquiera del escenario. Para el caso en que hay más de un nodo, esto se traduce en una 26 expansión de los nodos que asemeja más la simulación a un escenario real, donde no tienen por qué arrancar todos desde un mismo punto. 2.6.2 Enrutamiento Reactivo En los protocolos reactivos la recopilación de información de enrutamiento y el cálculo de rutas se realiza bajo demanda, es decir, solo en el momento en que se requiere transmitir información y se desconoce una ruta para comunicarse con el nodo destino. El esquema petición/respuesta es utilizado usualmente por estos protocolos. Cada vez que un nodo requiere transmitir información, este inunda la red con mensajes de petición de ruta y espera que llegue este paquete al nodo destino, el nodo receptor envía un paquete de respuesta, lo cual permitirá establecer una trayectoria de comunicaciones. Bajo este esquema de enrutamiento se evita la sobrecarga de señalización, se mejora la escalabilidad de la red a la vez que permite adaptar estos protocolos a entornos altamente dinámicos. La latencia de transmisión dependerá del tamaño de la red y una falla en una ruta de comunicaciones requiere el redescubrimiento de una nueva trayectoria, lo cual representa demandas de tiempo, cómputo y de recursos de la red. A continuación se expone el protocolo usado en este tipo de enrutamiento en la simulación. DSR (Dynamic Source Routing): Es tipo de protocolo del tipo reactivo fue diseñado especialmente para redes inalámbricas de saltos múltiples y para redes Ad Hoc. El nodo emisor envía un paquete de broadcast de requerimiento de ruta Route Request (RREQ) en el que se incluye información del nodo fuente, nodo destino y los saltos (el camino que se va siguiendo a través de los nodos intermedios). Estos a su vez retransmiten el RREQ a sus nodos vecinos, excepto al nodo del cual recibió el RREQ, hasta alcanzar el nodo receptor dentro de la red. Cada nodo tiene un “route cache” en el cual se almacena la ruta fuente por la que ha ido avanzando el paquete hasta el nodo actual [9]. Una vez que el paquete llega hasta el receptor, este deja de retransmitir el RREQ y envía un paquete de respuesta de ruta Route Reply (RREP) en el que se incluye la fuente, el destino y la ruta completa hacia el destino, es decir la ruta por donde debe regresar el paquete hacia el nodo que originó el RREQ. 27 De esta forma la ruta queda establecida en el nodo emisor el cual actualiza su “route cache” y selecciona el mejor camino por el cual puede transmitir la información hacia el nodo receptor. Ventajas  No necesita enviar actualizaciones periódicas para actualizar las tablas de enrutamiento en los nodos.  Los nodos intermedios utilizan la información de los “route cache” de forma eficiente para disminuir el control de la cabecera.  Ahorro en corriente y en ancho de banda ya que no se envían mensajes Hello. Desventajas  DSR es eficiente en redes Ad Hoc Móviles que no superen los 200 nodos dentro de la red.  No es escalable, se presentan problemas cuando en la red aumentan los nodos, o cuando estos empiezan a moverse más rápido de lo normal.  Existen tiempos de retardo hasta que el emisor descubra la ruta hacia el destino. 2.6.3 Modelo de propagación Two Ray Ground El modelo de Dos Rayos de reflexión terrestre es un modelo muy útil que se basa en óptica geométrica este considera tanto la transmisión directa como una componente de propagación reflejada en la tierra entre el transmisor y el receptor. La atenuación por espacio libre se encuentra en función del cuadrado de la distancia, este modelo da resultados más precisos para largas distancias que el modelo free-space. En cambio, se obtienen malos resultados a cortas distancias, debido a las oscilaciones constructivas y destructivas de los dos rayos. La potencia de la señal recibida queda definida en la siguiente ecuación. Pr Two Ray Ground = (PtGtGrht²hr²)/ (d4L) Donde ht y hr son la altura de las antenas emisora y receptora. 28 El modelo de propagación Two Ray Ground es el más cercano a la realidad y más completo por lo tanto este modelo es el que será utilizado en los escenarios propuestos El modelo de propagación Two Ray Ground es el más cercano a la realidad y más completo por lo tanto este modelo es el que será utilizado en los escenarios propuestos 29 Capítulo 3: Sistema Integral de Atención Médica De Urgencias (SIAMU) El Sistema Integral de Atención Médica de Urgencias permite la articulación e integración entre los diferentes componentes y las centrales de regulación médica (de urgencias, de hospitalización, de consultas, exámenes especiales y transporte socio sanitario), orientados en pro del bien común y del derecho a la salud de los individuos y la colectividad. 3.1 Visión El SIAMU será capaz de garantizar a los ciudadanos y ciudadanas el derecho soberano a la salud, direccionando con prontitud y eficiencia el acceso gratuito de los servicios para atender las necesidades de salud de la población, basado en la planificación estratégica. 3.2 Misión La misión del SIAMU es brindar la respuesta adecuada de los servicios de salud pública a las necesidades de la población de la Gran Caracas, frente a situaciones de Urgencias Médicas, sean éstas individuales o colectivas, las 24 horas del día y los 365 días del año. 3.3 Funciones  Dirigir, controlar, evaluar y coordinar la demanda sanitaria de urgencias médicas a través del Centro Regulador, sobre traslados, cupos hospitalarios, medicamentos e insumos hospitalarios.  Cumplir con el protocolo de atención de urgencias y asesorías médicas sanitarias.  Articular con todos los organismos públicos y privados en la resolución de problemas de salud pública, en el área de su competencia.  Establecer y verificar la base de datos de todos los procedimientos realizados, a fin de llevar el registro de datos actualizado.  Supervisión nocturna y diurna de establecimientos de atención médica de la ciudad de Caracas, para crear diagnósticos de operatividad y funcionamiento. 30  Presentar informes estadísticos detallados de las actividades desarrolladas al despacho del Ministerio del Poder Popular para la Salud y Protección Social (MPPS). 3.4 Características de los Grupos Operativo La estructura se organiza de acuerdo a las normas y funciones de la institución, la cual se puede apreciar en la figura 3.1 y está formada por:  Coordinación Administrativa: Coordinar y supervisar las actividades administrativas del organismo  Coordinación de Logística y Transporte: Programa, controla y supervisa el mantenimiento preventivo de las operaciones.  Coordinación Complejo Regulador: Permite la articulación e integración entre los diferentes componentes y centros hospitalarios.  Coordinación Operativa: Coordina que se efectúen de manera adecuada los traslados locales o foráneos de acuerdo al tipo (Ordinario, intermedio e intensivo).  Coordinación de Bienes Nacionales: Coordina y supervisa los movimientos de los bienes nacionales del SIAMU.  Coordinación de Telemática: Operar y administrar la infraestructura computacional en las áreas de soporte técnico, desarrollo, red de datos y de voz que dan apoyo al sistema.  Coordinación de Recursos Humanos: Es el órgano responsable de planificar, organizar, dirigir y controlar, de acuerdo a la política general de la Institución y las disposiciones legales, la adecuada administración del personal.  Coordinación de comunicaciones: Esta coordinación implementa políticas de comunicación institucional a través de la generación y ejecución de los planes internos y externos de comunicación. 3.5 Estructura Organizativa de Grupos Operativos Los grupos de operarios en el SIAMU permiten comprender y manejar: El funcionamiento institucional; la red vincular del paciente; el equipo multidisciplinario y actividades médicas el cual posee una estructura (véase Figura 3.1). 31 SUPERVISOR DE GRUPO A PARAMEDICOS CONDUCTORES SUPERVISORES DE GRUPO SUPERVISOR DE GRUPO B PARAMEDICOS CONDUCTORES SUPERVISOR DE GRUPO C PARAMEDICOS CONDUCTORES SUPERVISOR DE GRUPO D PARAMEDICOS CONDUCTORES  Supervisores de Grupo: Supervisan a los conductores de ambulancia y personal paramédico en los cumplimientos de los protocolos.  Paramédicos: Operan el equipamiento médico a nivel pre- hospitalario, Soporte Básico de Vida y/o Soporte Avanzado de Vida. Además reporta problemas relacionados con el estado de salud del paciente y sus equipos al supervisor inmediato, colabora en la organización y coordinación sanitaria en catástrofes o situaciones de crisis.  Conductores: Traslada al paciente hacia los centros de salud, mantiene preventivamente los vehículos que le son asignados según estándares de mantenimiento que le son proporcionados y reporta novedades en cuanto al estado de las unidades de transporte y faltas de material. FIGURA 3.1 ORGANIGRAMA FUNCIONAL DE GRUPOS OPERATIVOS 3.6 Características del complejo médico regulador y sus componentes El complejo regulador en el ámbito de la salud es un proceso integral donde prevalece la autonomía del paciente y se garantiza el derecho a la vida, (véase Figura 3.2). Coordina la demanda sanitaria de urgencias médicas a través del Centro Regulador y los Operadores de Radio, sobre traslados, cupos, medicamentos e insumos hospitalarios. 32 FIGURA 3.2 ORGANIGRAMA FUNCIONAL DEL COMPLEJO REGULADOR 3.7 Centros hospitalarios relacionados con el SIAMU  Hospitales: Los hospitales del Distrito Capital son centros de referencia nacional, reciben pacientes de toda Venezuela y algunos se han convertido en centros docentes. Actualmente existen 22 hospitales relacionados con el SIAMU las 24 horas, de los cuales 10 tienen operadoras de radio (ODRA), manteniendo interconectados a estos centros de salud.  CDI: Los Centros de Los Centros de Diagnóstico Integral (CDI) tienen como misión prestar servicios de rayos X, ultrasonido diagnóstico, endoscopia, electrocardiograma, Sistema Ultra Micro Analítico (SUMA), oftalmología clínica, emergencia y anatomía patológica. En el distrito capital se encuentran 14 CDI relacionados con el SIAMU.  Clínicas Populares: Las clínicas populares del Distrito Capital de las cuales 7 están interrelacionadas con el SIAMU, son parte integral del sistema público nacional de salud. Estos prestan servicios de diagnóstico y tratamiento especializado, con capacidad terapéutica. 3.8 Características del departamento de transporte Clasificación de las Ambulancias  Tipo 1: Ambulancia para el transporte de un único paciente sobre camilla (Transporte Fito-Sanitario). COORDINADOR COMPLEJO REGULADOR TELEOPERADORES MÉDICOS REGULADORES OPERADORES DE RADIO (ODRA) ANALISTAS DE ESTUDIOS MÉDICOS 33  Tipo 2: Ambulancia terrestre de urgencia: Diseñada y equipada para el tratamiento básico y evaluación continua de los pacientes (Transporte para Soporte Básico de Vida).  Tipo 3: Ambulancia terrestre de cuidados especiales (emergencia): tratamiento avanzado y evaluación continua de los pacientes (Transporte para Soporte Avanzado de Vida). Entre los tipos de traslados tenemos:  Transporte Primario: Es el traslado que se realiza desde el sitio de ocurrencia del evento hasta un centro de atención inicial.  Transporte Secundario: Es el traslado que se realiza desde un centro asistencial hasta otro centro u otro sitio, con el fin de completar o complementar el proceso de atención definitiva. 34 Capítulo 4: Metodología y Herramientas Utilizadas En los últimos años, los sistemas de comunicación se han ido desarrollando tendiendo a la convergencia de datos, voz y vídeo brindando a los usuarios una gran gama de posibilidades y exigiendo que estos sistemas tengan un desempeño eficiente. Por ello es importante crear mecanismos para evaluar estos sistemas y así seguir haciéndolos más eficientes. La simulación permite una solución práctica y económica para realizar dichas evaluaciones en este sentido, a través del simulador NS2 se dan a conocer posibles rutas alternas a las ambulancias, junto con el análisis de distintos tipos de tráfico que permitan descongestionar el sector si existiera algún percance o retraso inesperado. La topología de los escenarios de simulación la constituyen la zona entre Catia y Cotiza, del área metropolitana de Caracas. Dichas zonas pueden ser apreciadas en la figura 4.1, la zona de Catia (A) y Cotiza (B). FIGURA 4.1 ÁREA DE SIMULACIÓN A parte de simular red ah hoc entre ambulancias también se hará con una red de infraestructura donde se utiliza un dispositivo central que realiza el trabajo del administrador de la red, este dispositivo se encarga de enrutar la información de los terminales que componen la red de comunicación, para llevar a cabo las simulaciones se realizó a través de las siguientes etapas: 35 4.1 Fases para el desarrollo 4.1.1 Escogencia y descripción de los escenarios Se plantean tres escenarios de simulación donde la conectividad se puede realizar de dos maneras: Comunicación vehículo a vehículo y vehículo a infraestructura. En los escenarios se evalúa el comportamiento de las conexiones del Protocolo de Datagrama de Usuario UDP con tráfico tasa de velocidad constante CBR y PARETO3. Se considera que los tres escenarios son suficientemente representativos para evaluar la red VANET en el sistema SIAMU. Debido a que no existe una comunicación clara entre hospitales y ambulancias en el sistema SIAMU, se requiere la implementación de tres escenarios de simulación caracterizados por dos redes Ad Hoc pura con tráfico distinto y una red de Infraestructura, que permitan aplicaciones que agilicen el proceso de recepción y traslado de pacientes que viajan por este sistema. En los actuales momentos la flota de vehículos del SIAMU es de 28 ambulancias y por ende la evaluación de la red se hace con las siguientes densidades de tráfico: 7, 14, 21 y 28 nodos. 4.1.2 Selección de las métricas Luego de elegidos los escenarios, el siguiente paso es decidir que métricas son las más representativas para el análisis del presente proyecto. Entre muchas métricas disponibles, se deben seleccionar aquellas que muestren los cambios más importantes, de donde se puedan identificar ventajas o desventajas de cada uno de los protocolos a estudiar. 4.1.3 Implementación general de los escenarios: La implementación de los escenarios se realizará en un simulador de redes, donde se configurarán los escenarios utilizando la sintaxis que provea este. Además, en esta fase se realizaran las pruebas necesarias previas a las ejecuciones finales para verificar el buen funcionamiento de los escenarios 3 En estadística la distribución Pareto, formulada por el sociólogo Vilfredo Pareto, es una distribución de probabilidad continua, que tiene aplicación en disciplinas como la sociología, geofísica y economía. 36 4.1.4 Ejecución de pruebas y generación de resultados: Una vez diseñados los escenarios y configurados, se procede a ejecutar las simulaciones con los parámetros finales. Estas simulaciones generarán resultados que serán verificados y ordenados, para así tener información suficiente que permita ver el comportamiento de los protocolos en los ambientes seleccionados. 4.1.5 Análisis de resultados: Una vez generados todos los resultados, se deben interpretar el significado de estos. Se compararan los resultados entre ellos, determinando luego del análisis la información crítica para llegar a la conclusión del presente trabajo. 4.2 Descripción del desarrollo de las simulaciones El funcionamiento para la simulación de una VANET se realiza primero con la configuración de un archivo donde está el modelo de movilidad para un determinado número de nodos. Como resultado de la simulación se generan dos archivos, uno conocido como traza, el cual es una especie de “radiografia” donde se registran todos los eventos ocurridos durante la simulación y el otro permite la visualización gráfica con el network animator (nam). En la figura 4.2 se muestra el esquema de desarrollo para un escenario desde el momento de las corridas del código hasta su depuración para la presentación de gráficas y resultados. 37 FIGURA 4.2 ESQUEMA DE DESARROLLO PARA UN ESCENARIO 38 4.3 Herramientas Para observar el comportamiento de los tres escenarios anteriormente planteados se recurre al uso de seis herramientas que se describen a continuación.  Simulador de redes NS2: Permite leer archivos con extensión del lenguaje de herramientas de comandos .tcl donde están programados todos los aspectos de la red, tales como nodos, conexiones, tipos de tráfico, etc. El código obtenido a través de esta herramienta crea archivos .nam y .tr que son data para analizar los estados y toda la información pertinente a las simulaciones que se llevaron a cabo.  Visualizador gráfico NAM: Muestra de manera gráfica el desarrollo de la simulación.  AWK: Herramienta de programación por patrones y acciones, diseñado para procesar datos basados en texto ya sean archivos o flujo de datos. Aquí se programaron scripts para la depuración y cálculo de las medidas de desempeño de los archivos .tr arrojados por NS2 en las simulaciones.  Cygwin: Es una colección de herramientas desarrollada por Cygnus Solutions para proporcionar un comportamiento similar a los sistemas Unix en Microsoft Windows. Su objetivo es tener un software portable que se ejecute en sistemas POSIX a Windows con una recopilación a partir de sus fuentes.  Xgraph: Permite estudiar los archivos de trazas arrojados por NS2 como producto de las simulaciones.  Notepad ++: Como editor de código para depurar las trazas generadas por NS2.  Excel: A través de esta herramienta se crean las gráficas obtenidas con los scripts aplicados a los archivos arrojados por la simulación. 4.4 El Simulador NS2 Se realizaron simulaciones utilizando la herramienta Network Simulator 2 (ns-2) [10], que es un software que permite simular el comportamiento de las redes. Una de las características de este simulador es el manejo de la mayoría de los protocolos comúnmente utilizados, además, los resultados de las simulaciones se pueden obtener de forma gráfica y numérica, lo que permite el análisis de lo observado y es software libre. Algunos de los parámetros por tener en cuenta para 39 la simulación son: Número de nodos, velocidad de movimiento de los nodos, tamaño del escenario, tipo de tráfico, cantidad de paquetes enviados, tiempo de que dura la simulación, entre otros. Network Simulator 2 es uno de los simuladores ampliamente aceptados en la comunidad científica, además da la posibilidad de ser utilizado en conjunción con otros programas, como un simulador de tráfico (SUMO [11] por ejemplo). NS2 implementa diferentes escenarios inalámbricos, así como también diferentes modelos de propagación, implementación del protocolo de acceso al medio IEEE 802.11, por otra parte, toma en cuenta los efectos de rebotes de la señal, como sucede en una comunicación entre dos vehículos[12]. En definitiva, estos aspectos hacen que este simulador sea el más apto para su utilización en este campo, en la figura 4.3 podemos observar el funcionamiento de NS2. FIGURA 4.3 VISTA SIMPLIFICADA DEL FUNCIONAMIENTO DE NS2 Y NAM Programa de Simulación . Script Otcl Otcl: Interprete tcl Con extensión Orientada a Objeto Librería del simulador NS2 Objetos Planificadores de Eventos Objetos Componentes de Red Módulo de Ayuda para la Configuración de Red. Resultados de la Simulación NAM Animado r de Red 40 Capítulo 5: Modelo de la Simulación y Escenarios En las VANETS existen dos partes bien diferenciadas. Por un lado está el comportamiento de los vehículos y por otro el funcionamiento de la red que forman estos. Para que funcione esta tecnología correctamente hay que enlazar estas dos partes y hacerlas cooperar. Para ello es importante describir el modo en el que se mueven los vehículos. Una vez que se conoce el movimiento de estos nodos de la red, es necesario conocer las condiciones en las que se llevará a cabo la transmisión de datos. Hay que tener en cuenta la topología por la que han de moverse los vehículos, ya que condiciona su movimiento y también limita la comunicación. El escenario en que se basan las simulaciones consta de: 5.1 Modelo de Movilidad Usado La manera más habitual de estudiar las redes ad hoc inalámbricas móviles es mediante simulación. Aunque el despliegue en un entorno real es indispensable para la comprensión de las particularidades de las redes ad hoc, las simulaciones tienen ventajas muy claras: Su despliegue es rápido, su diseño sencillo, las pruebas son repetibles y es de bajo costo. Además, permiten aislar aquellos parámetros que pueden afectar a las prestaciones finales. También permiten la realización de múltiples escenarios que son difíciles de implementar en un entorno real. Con respecto a la densidad de tráfico usado en el modelo de movilidad la más baja se requiere para evaluar la red en los casos nocturnos, donde los requerimientos de traslados son más bajos como son los casos de 7 y 14 ambulancias ahora bien para los casos de mayor demanda como son fines de semana y días festivos se requiere simular con 21 y 28 ambulancias a fin de obtener una muestra representativa en las simulaciones y así evaluar estos extremos de esta manera se eligieron 30 repeticiones para cada categoría de densidad de tráfico. Se plantea el uso de una estrategia de movilidad simple, que se adecúe al entorno y que esté basado en la aleatoriedad de movimiento en el que un nodo pueda moverse por cualquier punto del escenario. Esto permitirá que los resultados de la simulación sean lo más reales posible. En la tabla 5.1 se detallan los parámetros que se han utilizado para el modelo de movimientos en los tres escenarios. 41 Tabla 5.1 Parámetros del modelo Random Waypoint 5.2 Esquema de Enrutamiento Usado En las simulaciones se usó el protocolo basado en la estrategia de enrutamiento perteneciente a los protocolos reactivos como es el DSR, Debido al tipo de red Ad Hoc y a la alta movilidad de los nodos en el cual la topología de red cambia muy rápidamente. 5.3 Parámetros del Canal Inalámbrico Para proceder con el desarrollo de los scripts de los escenarios de simulación es fundamental definir una serie de parámetros entre ellos el del canal inalámbrico que permitan establecer la configuración de la conexión de los nodos que representan las ambulancias del sistema SIAMU, entre ellos tenemos el modelo de propagación el cual es el Two Ray Ground por ser el más cercano a la realidad, el modelo de antena Omnidireccional, el protocolo de la capa de control de acceso al medio MAC 802.11 y el canal inalámbrico que es el estándar definido por NS2. 5.4 Generación de Tráfico de Paquetes Parámetros Descripción v=2 Versión , 1 (1999 CMU), 2 (2003 UM) n=7,14,21,28 Número de nodos en el escenario s=1 Tipo de velocidad, 1(uniform), 2(normal) m=11 Velocidad mínima en m/s en las ambulancias es 40 km/h lo que equivale que m=11 M=27 Velocidad máxima en m/s en las ambulancias es 100 km/h lo que equivale que M=27 t=200 Tiempo de simulación en segundos P=1 Tipo de pausa, 1 (constant), 2 (uniform) p=2.0 Tiempo de parada en segundos x=200 Indica la longitud en metros del escenario en el eje X y=200 Indica la longitud en metros del escenario en el eje Y 42 La generación de tráfico en NS2 entra dentro de la clasificación Application Objects. Un Application Object puede ser de 2 tipos, una aplicación simulada o un generador de tráfico. En este estudio se utiliza los generadores de tráfico: CBR y PARETO. 5.4.1 Tráfico CBR La categoría de tráfico CBR se utiliza para las conexiones en que el servicio de transporte va a una velocidad de bits constante, donde hay una dependencia inherente en la sincronización de tiempo entre la fuente y el destino del tráfico. CBR se adapta a cualquier tipo de datos para los sistemas que requieren tiempo de respuesta predecible y una cantidad estática de ancho de banda disponible de forma continua para el tiempo de vida de la conexión. Estas aplicaciones incluyen servicios como la videoconferencia, telefonía, voz interactiva y audio. Para aplicaciones de voz y nativas, CBR proporciona tráfico de baja latencia con características de entrega predecibles, por lo que se suele utilizar para la emulación de circuitos. Los parámetros para el tipo de tráfico se muestran a continuación: #Se genera paquetes con un bit rate constante. Application/Traffic/CBR # Creación fuente de tráfico CBR set cbr0 [new Application/Traffic/CBR] # tamaño de paquete $cbr0 set packetSize_ $val(pck) # tiempo entre paquetes (seg) $cbr0 set interval_ $val (icbr) # tiempo entre paquetes (seg) $cbr0 set rate_ 1mbps 5.4.2 Tráfico Pareto Cuando los paquetes pasan a través de un dispositivo físico, se produce habitualmente una demora provocada por la recepción (generalmente acompañada del encolamiento del paquete), luego por el procesamiento (donde el 43 paquete es analizado), y por último, por el despacho (donde normalmente el paquete abandona el dispositivo). Todo este procedimiento causa demoras. Generalmente, los arribos se encolan sucesivamente como entradas de los clientes y allí, experimentan una posible espera. Por lo tanto para poder construir un modelo del arribo y posterior servicio que modele este comportamiento y que se muestre en la simulación se utilizan variables aleatorias. La naturaleza estadística de los arribos puede ser expresada de diferentes formas. Por ejemplo, si los sucesivos tiempos entre arribos son independientes, una especificación de las condiciones iníciales (que determine el instante de tiempo en el cual la operación de encolamiento comienza), en conjunto con la función de tiempos entre llegadas (IATS), son suficientes para describir completamente la naturaleza de los arribos. La variable aleatoria con distribución de Pareto para los IATS permite armar uno de estos modelos. Esta variable aleatoria exhibe algunas características importantes, según los valores de los parámetros de su Función de Densidad Probabilística (pdf). Su varianza puede ser finita o infinita. Las variables aleatorias con varianza infinita encuentran aplicación en la caracterización de tráfico de datos a ráfagas. Estos aspectos teóricos se exponen aquí con el fin de dar contexto al escenario 3 de simulación de VOIP en el sistema de ambulancias del SIAMU. En este escenario al igual que en los anteriores se realizaron simulaciones para 7, 14, 21 y 28 nodos y se simulo tráfico VOIP el cual fue modelado mediante la agregación de fuentes ON/OFF que utilizan la distribución de Pareto. Los paquetes son enviados a velocidad fija durante los periodos ON, y no se envían paquetes durante los periodos de OFF. Ambos periodos son tomados de dos variables aleatorias independientes con distribución de Pareto, teniendo un tamaño de paquete fijo. En la simulación sobre NS2 los parámetros que se utilizaron para este tipo de tráfico son: PacketSize_: Tamaño constante de los paquetes generados, burst_time_ : Tiempo promedio para el estado "encendido" del tráfico, idle_time_ : Tiempo promedio para el estado "apagado" del tráfico, set rate: Velocidad constante de transferencia de 200 Kilo bits por segundo (Kbps) y se pasó como parámetro de pareto shape 1,5 (lo que hace que tenga una varianza infinita). El largo de cada periodo de envío o no envío se realiza siguiendo una distribución Pareto: set pareto2 [new Application/Traffic/Pareto] 44 $pareto2 set packetSize_ 210 $pareto2 set burst_time_ 500ms $pareto2 set idle_time_ 500ms $pareto2 set rate_ 200k $pareto2 set shape_ 1.5 5.5 Establecimiento de la Cobertura de los Nodos Una de las características tomadas en cuenta para la realización de las simulaciones, fue la de poder instaurar el radio de cobertura de los nodos. Establecer esta cobertura no es imprescindible para hacer una simulación con NS2 pero si para obtener resultados satisfactorios en la red de ambulancias. Por defecto NS2 dispone de una gran cantidad de parámetros para la configuración de los nodos, enlaces, etc. Pero estos parámetros se pueden configurar según nuestras necesidades. No es objeto de estudio enumerar la gran cantidad de variables a configurar que existen en el NS2, así que sólo se comentara algunos de ellos. Lo primero que hay que decir al respecto de la cobertura es que no existe un parámetro configurable que establezca directamente la cobertura, pero sí se puede configurar la potencia emitida por los nodos. Partiendo de la fórmula de la potencia recibida por una antena omnidireccional: Los parámetros que aparecen en esta fórmula corresponden a: -Pt es la potencia transmitida por la antena transmisora -Pr es la potencia recibida en la antena receptora -Gt es la ganancia de la antena transmisora -Gr es la ganancia de la antena receptora -ht es la altura de la antena transmisora 45 -hr es la altura de la antena receptora -d es la distancia entre ambas antenas -L son las pérdidas Aislando la potencia transmitida de la fórmula anterior obtenemos: Como se ve la potencia transmitida se puede resumir como una función de la distancia entre antenas, además de otros valores que se comportarán como constantes. De esta forma, sabiendo cual es la cobertura máxima que deben tener los nodos, ajustaremos la potencia máxima que podrán transmitir. Pero todo esto fue programado en el NS2 como una función para que determine la potencia a trasmitir en cada uno de los escenarios. 5.6 Escenarios de Simulación En esta etapa definimos los escenarios así como las características propios de cada caso a simular. 5.6.1 Escenario 1  Zona de estudio: comprende la zona entre Catia y Cotiza  Tipo de Comunicación: Ad-Hoc pura  Protocolo de Enrutamiento: DSR Una aplicación de mensajería instantánea que permita diseminar mensajes de alerta para aquellos vehículos que puedan encontrarse con accidentes o situaciones peligrosas se adecua a este escenario debido a que lo más crítico en este tipo de aplicación es el tiempo de envío y recepción. Esta aplicación permitiría reducir la probabilidad de accidentes de tránsito y disminución de los daños y lesiones causadas por siniestros de tráfico. 5.6.2 Escenario 2 (mixto) Este escenario está representado por una red de infraestructura que está compuesta por un punto de acceso ubicado en la zona de Catia que recibe paquetes desde los nodos externos conformando así un sistema completamente centralizado 46  Zona de estudio: Comprende la zona conformada por Catia y Cotiza.  Tipo de comunicación: Infraestructura  Protocolo de Enrutamiento: DSR En las redes de este tipo, los distintos nodos inalámbricos deben asociarse a un punto de acceso (AP) para obtener servicios de la red. Para este caso en particular la red está formada por 28 nodos inalámbricos que representan las ambulancias del sistema SIAMU (SIAMU 1, SIAMU 2…. SIAMU 28) y una estación base. Una aplicación a usar en el ámbito de salud y para el sistema de ambulancias del SIAMU sería la de obtener información útil para los conductores a través del acceso al correo electrónico o navegación web, envío y recepción de estudios médicos especiales: Tomografías, resonancia magnética, etc. Esta aplicación se adecua a este escenario debido a que lo más crítico para este caso es la información y no el tiempo de envío y recepción. 5.6.3 Escenario 3 A diferencia del escenario 1 que se implementa sobre una red Ad-Hoc pura con tráfico CBR, en este caso se utiliza tráfico Pareto que se implementa en NS2, para simular voz sobre ip (VOIP).  Zona de estudio: Zona entre Catia y Cotiza.  Tipo de comunicación: Ad-Hoc pura  Protocolo de Enrutamiento: DSR Este escenario con este tipo de tráfico lo hace el más conveniente para aquellas aplicaciones en donde es de vital importancia que los datos lleguen correctamente en el menor tiempo posible como la videoconferencia y consultas a especialistas. Esta aplicación permitiría realizar el estudio clínico en equipo (Centro hospitalario-SIAMU) hacia las ambulancias. El comportamiento de la red vehicular se evalúa a través de las siguientes medidas de desempeño:  Throughput: Mide el volumen de información que fluye a través de un sistema.  Retardo extremo a extremo: Muestra el promedio de los tiempos que tardan los diferentes paquetes en cubrir la conexión extremo a extremo. 47  Jitter: Lo podemos definir como la variación en el tiempo en la llegada de los paquetes, causada por congestión de la red, pérdida de sincronización o por las diferentes rutas seguidas por los paquetes para llegar al destino.  Pérdida de paquetes: Para determinar el porcentaje de éxito de paquetes, indicando en qué grado es capaz la red de hacer llegar los paquetes a su destino final. 5.7 Implementación Para cada escenario se realiza la implementación en tres bloques bien definidos, como se muestra en la figura 5.1. FIGURA 5.1 DIAGRAMA DE BLOQUES PARA LA IMPLEMENTACIÓN 5.7.1 Primer bloque de la implementación En el primer bloque se generan los archivos de movimiento que corresponde a los modelos de movimiento. Para ello se utiliza la aplicación interna de NS2 “setdest” a fin de generar los modelos de movimiento Random Waypoint, tanto para 7, 14, 21 y 28 nodos para cada uno de los escenarios. En el segundo bloque se describen todas las especificaciones del escenario que se va a simular. 48 Finalmente se realizan las simulaciones de los escenarios, utilizando el modelo de movilidad para la cantidad de nodos y para el escenario en específico generándose así archivos de trazas tipo .tr y .nam para su análisis. En el archivo .tr se guardaran todos los eventos que se producen durante todo el tiempo de simulación; mientras que en el .nam se visualiza el desarrollo de la simulación. Se emplea el generador de modelos de movimiento setdest incluido en el simulador NS2, por ejemplo: setdest -v 2 –n 21 –s 1 –m 1 –M 27.0 –t 200 –P 1 –p 2.0 –x 200 –y 200 >archivo.tcl 5.7.2 Segundo bloque de la implementación En la implementación de los escenarios donde los nodos inalámbricos se comunican en modo ad-hoc, se definen primero los parámetros de los nodos tales como el tipo de propagación, el tipo de antena, el tipo de protocolo de enrutamiento, número de nodos móviles, etc. de la siguiente manera: Set val(chan) Channel/WirelessChannel Set val(prop) Propagation/TwoRayGround Set val(ant) Antenna/OmniAntenna Set val(rp) DSR # el protocolo de enrutamiento utilizado Set val(nn) 14 # para el caso con 14 nodos Se crea el objeto del simulador mediante el comando: Set ns [new simulator] Se abren los archivos de trazas donde se guardara toda la información obtenida por el simulador para posteriormente ser representados por NAM o XGRAPH. Set tracefd [open out.tr w] Set tracefd [open out.nam w] $ns trace-all $tracefd Se crea el objeto de la topología. 49 set topo [new Topography] Las dimensiones del área de simulación se asignan de la siguiente manera: Set god_ [create-god $val(nn)] En el objeto director general de operaciones GOD se almacena el número total de nodos móviles y el número de saltos necesarios para llegar de un nodo a otro. Para la configuración de los nodos móviles se tienen en cuenta una serie de componentes como, la capa de enlace (LL – Link Layer), interfaz de colas (IfQ), la capa MAC, el canal de envío y recepción, etc. El tipo de encolamiento en el código de la simulación es usado para dar prioridad a los paquetes del protocolo de enrutamiento; el tipo de encolamiento utilizado es CMU PriQueue, cuyo objetivo es descartar los paquetes que llegan al buffer4cuando se sobrepasa la capacidad del mismo. $ns_ node-config -adhocRouting $val(rp) \ -ll Type $val(ll) \ -mac Type $val(mac) \ -ifq Type $val(ifq) \ -ifq Len $val(ifqlen) \ -ant Type $val(ant) \ -prop Type $val(prop) \ -phy Type $val(netif) \ -topo Instance $topo \ -channel Type $val(chan) \ 4 Buffer (o búfer) en informática es un espacio de memoria, en el que se almacenan datos para evitar que el programa o recurso que los requiere, ya sea hardware o software, se quede sin datos durante una transferencia. 50 -agent Trace ON \ -router Trace ON \ -macTrace ON \ -movement Trace ON Después de configurar los nodos estos se crean como se muestra a continuación: for {set i 0} {$i < $val(nn) } {incr i} { setnode_($i) [$ns_ node ] $node_($i) random-motion 0 ;# disable random motion } La opción “random motion” se deshabilita ya que le proporciona a los nodos móviles una posición de inicio y se necesita que este desactiva ya que esta posición va a ser determinada por el modelo de movilidad que se le pasa por parámetro. Se crea el tráfico entre los dos nodos. set udp0 [new Agent/UDP] $ns_ attach-agent $node_(0) $udp0 set des1 [new Agent/Null] $ns_ attach-agent $node_(1) $des1 Conexión de los agentes creados $ns_ connect $udp0 $des1 Se define el final de la simulación y se reinician los nodos móviles. for {set i 0} {$i < $val(nn) } {incr i} { $ns_ at $val(stop) "$node_($i) reset"; } 51 Se finaliza la simulación $ns_ at $val(stop) "stop" $ns_ at $val(stop).01 "puts \"FIN DE LA SIMULACIÓN\" ; $ns_ halt" proc stop {} { global ns_ tracefdnamtrace $ns_ flush-trace close $tracefd close $namtrace execnam escenario1.nam & exit 0 } $ns_ run En la implementación para el escenario 2 la definición de los parámetros de los nodos se realiza de manera análoga a la definición de los escenarios 1 y 3, así como las demás especificaciones del escenario a diferencia del tipo de tráfico y del punto de acceso que tiene una posición fija en el área de simulación. 5.7.3 Tercer bloque de la implementación Finalmente, se realizan las simulaciones de los escenarios aplicando el modelo de movilidad, la simulación de cada escenario finalizará en el instante 200 seg. Para ejecutar estas simulaciones se realiza de la forma siguiente: Ns nombre_fichero.tcl Para ejecutar el modo gráfico mediante la herramienta NAM se deberá hacer con el comando nam seguido del archivo donde se ha guardado la simulación: Nam fichero_traza.nam 52 5.8 Cálculo de cobertura procSetPt { coverage } { setGt [Antenna/OmniAntenna set Gt_] set Gr [Antenna/OmniAntenna set Gr_] setht [Antenna/OmniAntenna set Z_] sethr [Antenna/OmniAntenna set Z_] setRXThresh [Phy/WirelessPhy set RXThresh_] set d4 [exprpow($coverage,4)] setPt [expr($RXThresh*$d4)/($Gt*$Gr*$ht*$ht*$hr*$hr)] return $Pt } En esta función se tiene por argumento la cobertura de la antena expresada en metros, se asigna al resto de variables los parámetros que tienen las antenas de los nodos y nos devuelve como resultado la potencia que debemos asignarle a las antenas para que tengan la cobertura indicada. Los parámetros de las antenas pueden ser los que vienen dados por defecto o los podemos modificar de la siguiente manera: Antenna/OmniAntenna set X_ 0 Antenna/OmniAntenna set Y_ 0 Antenna/OmniAntenna set Z_ 1.5 Antenna/OmniAntenna set Gt_ 0.2 Antenna/OmniAntenna set Gr_ 0.2 También se puede ajustar las potencias y pérdidas mediante las siguientes instrucciones: Phy/WirelessPhy set CPThresh_ 10.0 Phy/WirelessPhy set CSThresh_ 1.559e-11 53 Phy/WirelessPhy set RXThresh_ 3.652e-10 Phy/WirelessPhy set freq_ 914e+6 Phy/WirelessPhy set L_ 1.0 Phy/WirelessPhy set Pt_ [Set Pt $opt( MNcoverage)] La última sentencia es imprescindible ya que es dónde se llama a la función Set Pt que nos devuelve el valor de la potencia transmitida que debemos asignar a las antenas. 54 Capítulo 6 Análisis de los Resultados Una vez vista la base teórica y el modelo de simulación para cada escenario de comunicación entre ambulancias, se procede al análisis de los resultados obtenidos basados en cuatro medidas de desempeño tales como el Throughput, Jitter, el Retardo extremo a extremo y Pérdida de paquetes que caracterizan el tráfico de la red. Los resultados son generados a través de la aplicación de algoritmos que interpretan y analizan las trazas generadas en las simulaciones para cada escenario. Cada una de las pruebas es repetida 30 veces en condiciones similares. 6.1 Throughput en las Simulaciones El Throughput es el volumen de trabajo o de información que fluye a través de la red en un determinado tiempo, por lo que es muy importante analizar este parámetro, ya que nos permite conocer el nivel de rendimiento o capacidad de la misma. La ecuación para su cálculo se define de la siguiente manera: 6.1.1 Throughput para los escenarios 1,2 y 3 El cálculo de esta medida de desempeño esta expresada en bytes por segundo ya que el tamaño de cada paquete es de 1500 bytes y como el nodo fuente (nodo 0) transmite a 1 Mbps, el throughput será como máximo de 1 Mbps o lo que equivale a 125.000 bytes por segundo. De esta manera se puede evaluar en qué grado o con que eficiencia funciona la transmisión entre el nodo fuente y el nodo destino para distintas densidades de tráfico en cada escenario. En las gráficas 6.1, 6.2 y 6.3 se muestran los resultados del throughput para el primer, segundo y tercer escenario respectivamente observándose el mejor desempeño para 7 nodos. En general, se observa un comportamiento decreciente 55 a medida que aumenta el número de nodos, lo cual resulta lógico ya que este hecho hace que el tiempo de transmisión de los paquetes aumente, afectando con esto el volumen de información que fluye a través de la red. En las gráficas (ver anexos) se puede apreciar el throughput versus el escenario de 7, 14, 21 y 28 nodos observándose un mayor desempeño de la red para el escenario 2, esto es debido a la topología hibrida presente en este escenario donde la transmisión se realiza entre un nodo móvil de la red Ad-Hoc y un nodo fijo que representa la infraestructura de la red. También se observa que el escenario 3 que se caracteriza por un tráfico a ráfagas donde se presenta el desempeño más bajo, este resultado no garantiza que aplicaciones con fuertes restricciones en cuanto a la cantidad de recursos que demanda de la red pueda ser satisfecha, por lo tanto en el escenario 3 no es viable aplicaciones del tipo multimedia. Debido a la topología dinámica donde los enlaces se rompen frecuentemente, a su naturaleza multi-hop y a condiciones de interferencia el valor del Throughput en general se encuentra muy por debajo del valor ideal o de la tasa máxima del radio de transmisión de 125.000 bytes del nodo fuente. GRÁFICA 6.1 THROUGHPUT DE LA RED PARA EL ESCENARIO 1 5220,658667 4862,413167 4713,8082 1396,852267 0 1000 2000 3000 4000 5000 6000 7 nodos 14 nodos 21 nodos 28 nodos Troughput del Escenario 1 Bytes/seg 56 GRÁFICA 6.2 THROUGHPUT DE LA RED PARA EL ESCENARIO 2 GRÁFICA 6.3 THROUGHPUT DE LA RED PARA EL ESCENARIO 3 15673,89533 4769,275733 2313,345 2011,761067 0 2000 4000 6000 8000 10000 12000 14000 16000 18000 7 nodos 14 nodos 21 nodos 28 nodos Bytes/seg Troughput del Escenario 2 4267,669033 3205,840267 2071,7817 1362,458167 0 500 1000 1500 2000 2500 3000 3500 4000 4500 7 nodos 14 nodos 21 nodos 28 nodos Bytes/seg Troughput del Escenario 3 57 6.2 Retardo Extremo a Extremo en las Simulaciones En el desarrollo de la trasmisión puede ocurrir que los paquetes tomen un largo periodo en alcanzar su destino debido a largas colas o tomen rutas menos directas para prevenir la congestión de la red, afectando el rendimiento de las aplicaciones. Por ello lo esencial para trasmisiones de vídeo mantener un retardo extremo a extremo inferior a 150 ms. 6.2.1 Retardo Extremo a extremo para los Escenarios 1, 2 y 3 En las gráficas 6.4, 6.5 y 6.6 se muestran los resultados del retardo extremo a extremo para el primer, segundo y tercer escenario respectivamente. El escenario 1 caracterizado por una red Ad-Hoc pura y tráfico constante presenta un retardo de 65,629 ms. a 811,160 ms. Cuando el número de nodos aumenta de 7 a 28. Para el escenario 2 en el que el nodo destino esta fijo y el tráfico es constante el retardo aumenta de 86,281 ms. a 397,463 ms. y de 334,493 ms. a 777,918 ms. Para el escenario 3. Observándose el mayor retardo desde el nodo 0 al nodo 1 para el caso de 28 nodos. En general, se observa un comportamiento creciente a medida que aumenta el número de nodos, ya que los paquetes son procesados por una mayor cantidad de nodos, afectando principalmente el rendimiento en aquellas aplicaciones sensibles al retardo. En las gráficas de retardo (ver anexos) se puede apreciar el retardo extremo a extremo versus el escenario para 7, 14, 21 y 28 nodos observándose un mayor retardo en la llegada de los paquetes para 28 nodos. Análogamente como en la pérdida de paquetes, la alta movilidad presente en este tipo de redes afecta el tiempo de llegada de los paquetes. 58 GRÁFICA 6.4 PROMEDIO DEL RETARDO EXTREMO A EXTREMO PARA EL ESCENARIO 1 GRÁFICA 6.5 PROMEDIO DEL RETARDO EXTREMO A EXTREMO PARA EL ESCENARIO 2 65,629 144,214 297,248 811,160 0 100 200 300 400 500 600 700 800 900 7 Nodos 14 Nodos 21 Nodos 28 Nodos Promedio del Retardo Extremo a Extremo para Escenario1 ms 59 GRÁFICA 6.6 PROMEDIO DEL RETARDO EXTREMO A EXTREMO PARA EL ESCENARIO 3 334,493 346,451 516,734 777,918 0 100 200 300 400 500 600 700 800 900 Promedio del Retardo Extremo a Extremo para Escenario 3 ms 7 Nodos 14 Nodos 21 Nodos 28 Nodos 60 6.3 Jitter en las Simulaciones El jitter constituye un rasgo característico de las redes de datos no orientadas a conexión, basadas en conmutación de paquetes. Debido a que la información se discretiza en paquetes, donde cada uno de ellos puede seguir una ruta distinta para llegar al destino. El jitter se define formalmente como la variación temporal, de naturaleza estadística, que experimenta el retardo en una transmisión inicial y final de una comunicación, causada por congestión en la red, pérdida de sincronización o por las diferentes rutas seguidas por los paquetes para alcanzar el destino. Este efecto es especialmente molesto en comunicaciones en tiempo real, ya que provoca que algunos paquetes lleguen demasiado pronto o tarde para ser entregados a tiempo. Informaciones críticas tienen que enviarse y recibirse en un tiempo determinado. Si el jitter es demasiado grande, no puede asegurarse que estas informaciones críticas lleguen a tiempo. El jitter entre el punto inicial y final de una comunicación debiera ser inferior a 100 ms, en caso contrario este valor debe minimizarse. Atendiendo al estándar del protocolo de tiempo real (RTP RFC 3550) es posible calcular el jitter entre llegadas. Se calcula con la diferencia D que es el tiempo de transito relativo entre el tiempo de un paquete en el origen y el tiempo de llegada del paquete medido en las mismas unidades. Si el tiempo de un paquete en origen para el paquete i es Si y Ri es el tiempo de llegada del paquete i, entonces para dos paquetes i y j, D puede expresarse. D(i,j) = (Rj - Ri) - (Sj - Si) = (Rj - Sj) - (Ri - Si) El jitter debería ser calculado continuamente usando la diferencia D para el paquete i y el paquete previo i-1 en orden de llegada no necesariamente en secuencia, de acuerdo con la fórmula: J(i) = J(i-1) + (|D(i-1,i)| - J(i-1))/16 La ecuación corresponde a un estimador óptimo de primer orden, en el que un factor de ganancia 1/16 ofrece un margen moderado de reducción del ruido. Los resultados para el Jitter son generados a través de la depuración y análisis de las trazas generadas en cada uno de los tres escenarios. 61 6.3.1 Jitter para los Escenarios 1, 2 y 3 En las gráficas 6.7, 6.8 y 6.9 se muestran los promedios del Jitter para el primer, segundo y tercer escenario. En el primer escenario los valores van de 365,28 ms a 1792,246 ms., de 168,441 ms. a 1017,566 ms. para el escenario 2 y de 304,746 ms. a 1169,292 ms. para el escenario 3. Se observa que los valores del jitter aumentan en cada uno de los escenarios a medida de que aumenta el número de nodos, observándose los valores de jitter más bajo para el escenario 2. GRÁFICA 6.7 PROMEDIO DEL JITTER PARA EL ESCENARIO 1 365,280 534,336 577,783 1792,246 0 200 400 600 800 1000 1200 1400 1600 1800 2000 7 nodos 14 nodos 21 nodos 28 nodos Promedio del Jitter del Escenario 1 ms 62 GRÁFICA 6.8 PROMEDIO DEL JITTER PARA EL ESCENARIO 2 GRÁFICA 6.9 PROMEDIO DEL JITTER PARA EL ESCENARIO 3 168,441 407,778 946,150 1017,565 0 200 400 600 800 1000 1200 7 nodos 14 nodos 21 nodos 28 nodos ms Promedio del Jitter del Escenario 2 304,746 404,622 689,194 1169,292 0 200 400 600 800 1000 1200 1400 7 nodos 14 nodos 21 nodos 28 nodos Promedio del Jitter del Escenario 3 ms 63 6.4 Pérdida de paquetes en las Simulaciones La pérdida de paquetes ocurre cuando uno o más paquetes de datos que viajan en una red y fallan en alcanzar su destino. La causa de la pérdida de paquetes es debida a varios factores, entre los que se puede nombrar, degradación de la señal al viajar por el medio, interconexiones de la red sobre saturada, paquetes con error retrasados en el tránsito, falla en el hardware de la red o rutinas normales de enrutamiento. Cuando la pérdida de paquetes es causada por problemas en la red, estas pérdidas causan fallas notables en el desempeño de la misma. Para el cálculo de esta medida de desempeño se usó la herramienta awk y algoritmos implementados en está, que permitieron filtrar y calcular la cantidad de paquetes enviados y recibidos de la data arrojada en las simulaciones. 6.4.1 Pérdida de paquetes para los Escenarios 1, 2 y 3 En las gráfica 6.10 se observa la cantidad de paquetes enviados y recibidos para el escenario 1 obteniéndose un porcentaje máximo de paquetes perdidos de 16 %, este valor se puede apreciar en la gráfica 6.11. En el primer escenario para 7 nodos se muestra un valor mínimo de 18583 paquetes enviados que corresponde al menor número de estos, de los cuales se pierden 2004 con un valor máximo de 34228 paquetes para el 100%. En la simulación correspondiente a 28 nodos se pierden 5752 paquetes, obteniéndose para este escenario un porcentaje de pérdidas entre el 10% y 16%. Análogamente para el escenario 2 se observa un valor mínimo de 15855 paquetes enviados de los cuales se pierden 1354 con un valor máximo de 34672 paquetes enviados, resultando de estos 4984 paquetes perdidos obteniéndose para el escenario 2 un porcentaje de paquetes perdidos entre el 8% y el 16%, como se muestra en las gráficas 6.12 y 6.13. El valor mínimo para el escenario 3 es de 13079 paquetes enviados observado en la gráfica 6.14 de los cuales se pierden 1745 y de 24604 paquetes para el valor máximo, perdiéndose de estos 5153, resultando las pérdidas entre 13% y 21%, como se observa en la gráfica 6.15. 64 GRÁFICA 6.10 PAQUETES ENVIADOS Y RECIBIDOS DEL ESCENARIO 1 GRÁFICA 6.11 PORCENTAJE DE PAQUETES PERDIDOS PARA EL ESCENARIO 1 10 % 8 % 12 % 16 % 0 2 4 6 8 10 12 14 16 18 PORCENTAJE DE PAQUETES PERDIDOS ESCENARIO 1 7 NODOS 14 NODOS 21 NODOS 28 NODOS N u m e ro d e P e rd id a s 18583 20038 23874 34228 16579 18291 20327 28476 0 5000 10000 15000 20000 25000 30000 35000 40000 7 NODOS 14 NODOS 21 NODOS 28 NODOS PAQUETES ENVIADOS Y RECIBIDOS ESCENARIO 1 N u m e ro d e P aq u e te s Enviados Recibidos Área: 200m x 200m Cobertura: 50 m Tiempo Simulación: 200 segundos 65 GRÁFICA 6.12 PAQUETES ENVIADOS Y RECIBIDOS DEL ESCENARIO 2 GRÁFICA 6.13 PORCENTAJE DE PAQUETES PERDIDOS PARA EL ESCENARIO 2 8 % 9 % 12 % 16 % 0 2 4 6 8 10 12 14 16 18 7 NODOS 14 NODOS 21 NODOS 28 NODOS N u m e ro d e P é rd id a s PORCENTAJE DE PAQUETES PERDIDOS ESCENARIO 2 15855 20801 25206 34672 14501 18455 21785 29688 0 5000 10000 15000 20000 25000 30000 35000 40000 7 NODOS 14 NODOS 21 NODOS 28 NODOS PAQUETES ENVIADOS Y RECIBIDOS ESCENARIO 2 N u m e ro d e P aq u e te s Enviados Recibidos Área: 200m x 200m Cobertura: 50 m Tiempo Simulación: 200 segundos 66 GRÁFICA 6.14 PAQUETES ENVIADOS Y RECIBIDOS PARA EL ESCENARIO 3 GRÁFICA 6.15 PORCENTAJE DE PAQUETES PERDIDOS PARA EL ESCENARIO 3 13 % 10 % 15 % 21 % 0 5 10 15 20 25 7 NODOS 14 NODOS 21 NODOS 28 NODOS PORCENTAJE DE PAQUETES PERDIDOS ESCENARIO 3 N u m e ro d e P e rd id a s 13079 15463 18306 24604 11334 13828 15393 19451 0 5000 10000 15000 20000 25000 30000 7 NODOS 14 NODOS 21 NODOS 28 NODOS PAQUETES ENVIADOS Y RECIBIDOS ESCENARIO 3 N u m e ro d e P aq u e te s Enviados Recibidos Área: 200m x 200m Cobertura: 50 m Tiempo Simulación: 200 segundos 67 En general se observa que esta medida de desempeño presenta un comportamiento creciente a medida que aumenta el número de nodos debido a la variabilidad de la topología presente en este tipo de redes que hacen la pérdida de paquetes sea mayor. Por otra parte como efecto del movimiento de los nodos a una determinada velocidad es de esperarse cambios en las condiciones del canal inalámbrico que afecten el porcentaje de pérdida de paquetes. Con relación a la pérdida de paquetes versus el escenario (ver anexo) se observa que la menor pérdida se presenta para el escenario 2. 68 Capítulo 7 Conclusiones En el transcurso de los siete capítulos de este trabajo de grado, se llevó a cabo una incursión en profundidad en el campo de las redes vehiculares. Dando a conocer el concepto de VANET su enorme potencial, la amplia gama de sus aplicaciones y ventajas que aportan de cara a la seguridad vial, principalmente. El futuro del campo de la comunicación entre vehículos y su seguridad, pasa por la implementación de sistemas de comunicación ínter-vehiculares que funcionen sobre este tipo de redes donde la fase de simulaciones es necesaria antes de su implementación debido a los beneficios que esto conlleva. La simulación tiene un rol absolutamente principal en el mundo de las redes vehiculares hacia su completo desarrollo e implementación. Gracias al simulador de red y herramientas auxiliares de modelado de la realidad, se pueden obtener resultados fiables sin necesidad de recurrir a experimentos de campo, lo que permite llegar a nuevas soluciones sin la implicación de inversiones innecesarias, ni de construcción de costosas infraestructuras. Las simulaciones realizadas se llevaron a cabo en un departamento dependiente del estado específicamente del Ministerio del Poder Popular para la Salud, esperamos que sean tomados en cuenta a la hora de mejorar las comunicaciones entre su red de ambulancias y en otro sistema de comunicación que se crea conveniente innovar. El comportamiento de la red para cada escenario es influenciado por varios aspectos. Uno de ellos es el modelo de movilidad ya que los tiempos de pausa afectan en mayor o menor grado la movilidad los nodos. Otro aspecto es el algoritmo de enrutamiento el cual permite establecer varias rutas a la vez permitiendo una reacción más eficiente ante fallos o saturación cuando el número de nodos es bajo, además de ser robusto frente al hecho de que los nodos sean móviles. El tipo de red Ad-Hoc pura o de infraestructura también influye en el comportamiento, la ventaja de este último tipo de red radica en que reduce la 69 complejidad de los nodos móviles, dado que las estaciones no necesitan mantener información de los nodos vecinos. Por último el aumento del número de nodos en una red Ad-Hoc, provoca incremento en la carga ya que se agregan paquetes de control que son intercambiados entre los nodos para mantener la ruta, esto consume el ancho de banda de la red por lo que ocasiona el descenso del Throughput, así como el aumento de la pérdida de paquetes y del retardo para todos los escenarios. En los resultados de la evaluación de la red para cada uno de los escenarios los valores obtenidos en cada una de las medidas de desempeño resultaron más favorables para el segundo escenario donde se reduce considerablemente la complejidad de los nodos móviles por ser una red de infraestructura, en comparación con el primer y tercer escenario donde hay redes Ad-Hoc puras. Por lo anteriormente dicho se puede concluir que la aplicación propuesta para el escenario 2 es la más viable a ser implementada en el sistema SIAMU, lo cual permitirá mejorar la calidad de vida de los ciudadanos capitalinos, dando respuestas más oportunas y acertadas en la prestación de los servicios de ambulancias. 7.1 Contribuciones Este trabajo de grado es una herramienta de gran utilidad para sustentar la labor de la comunidad desarrolladora en materia de redes y sistemas de comunicación. En él se llevó a cabo una tarea de investigación y análisis de los problemas existentes y requerimientos en pro del uso y expansión de las VANETS a través de simulaciones de escenarios reales donde la simulación en este ámbito es fundamental. En este sentido, los esfuerzos se destinaron a indagar sobre las herramientas que se disponen, y en mucha mayor profundidad sobre NS2 como herramienta más robusta para este tipo de estudios. En este estudio, las conclusiones obtenidas y los pasos para la puesta en marcha y uso de NS2 que han sido descritos, suponen una guía que se ofrece a la comunidad científica, investigadora y en general a los administradores de 70 servicios, para poner en práctica el desarrollo e implementación de redes Ah Hoc y así obtener un mayor rendimiento y eficiencia en sus actividades. En definitiva, la labor reflejada en este trabajo de grado, aporta un pilar más en el uso de las redes vehiculares, particularmente desde la óptica del desarrollador de sistemas de comunicación y redes, a la vez que es contribución a las instituciones públicas como son los centros de salud en pro de servicios públicos más eficaces y eficientes para la comunidad. 7.2 Limitaciones Entre los problemas encontrados a lo largo de la fase de desarrollo y de la fase de pruebas se encuentran son los siguientes:  Problema en el cálculo de rutas por su ineficiencia. Debido a que existe una gran cantidad de vehículos queriendo crear su ruta, gráficamente se veía que la simulación no era fluida como se esperaba. Para solucionar este problema se aplicaron las técnicas de lectura del archivo por parámetro en el código: El archivo es el modelo de movilidad generado con las características más cercanas a la realidad del sistema de ambulancias SIAMU y de su funcionamiento.  Otra limitante que representó un problema para la ejecución del código de la herramienta de comandos orientada a objetos (OTCL) de NS2, fue como insertar el archivo de movilidad dentro del código de la simulación lo cual se resolvió pasando por parámetros este archivo y así lograr la ejecución de la simulación.  La poca información en cuanto a la programación OTCL de NS2 y los ejemplos de los manuales y trabajos anteriores realizados eran básicos con respecto a lo que se quería lograr en las simulaciones. 7.3 Trabajos Futuros Estos estudios, dan una buena aproximación del funcionamiento de las redes Vehiculares Ah Hoc en escenarios realistas, tanto en vías urbanas como interurbanas donde presentan unas características muy especiales, que hacen que su funcionamiento sea muy complicado e incluso imposible en ciertos entornos (zonas de difícil acceso, zonas de las vías saturadas con gran cantidad de vehículos intentando acceder de manera simultánea, alta afluencia de motorizados etc…). Sin embargo con este trabajo de grado se abre 71 un conjunto de posibilidades sobre las que puede resultar de interés profundizar y que a continuación se enumeran:  Simulaciones: Optimizar el comportamiento mediante la carga de extensiones al NS2 que consigan simular de forma más real las comunicaciones. Utilización de las simulaciones a otros escenarios no solo de ambulancias sino de distintos vehículos.  Nuevos protocolos: Diferentes estudios en esta área muestran que los mejores protocolos para redes VANETS son aquellos que tienen en cuenta la posición geográfica de los nodos. Se pretende optimizar los ya existentes así como diseñar nuevos protocolos que optimicen el rendimiento de estas redes.  Prototipos y demostraciones: Realización de simulaciones en escenarios para medir su rendimiento real, con varios protocolos, mecanismos de búsquedas de gateways, auto configuración, seguridad, etc. 72 REFERENCIAS BIBLIOGRAFICAS [1] Pau Seguí, Smart City, ventajas y desventajas: ¿Qué es una Smart City o ciudad inteligente?… ventajas y desventajas de un sistema teóricamente sostenible, sitio digital 'Ovacen', 13 de septiembre de 2013. [2] Hannes Hartenstein y Kenneth P. Laberteau. A Tutorial Survey on Vehicular Ad Hoc Networks. IEEE Communications Magazine, Junio, 2008 [3] VANET 2006, The Third ACM International Sponsored by ACM SIGMOBILE, Workshop on Vehicular Ad Hoc Networks, In conjunction with ACM Mobi Com, Los Angeles, 2006. [4] Eichler, S., Schroth, C., Eberspächer, J., Car-to-Car Communication, VDE Congress “Innovations for Europe”, Poster session, Institute of Communication Networks, Technische Universität München, München, 2006. [5] Vehicular Ad-Hoc Network (VANET), http://en.wikipedia.org/wiki/VANET [6] Eichler, S., Schroth, C., Eberspächer, J., Car-to-Car Communication Institute of Communication Networks, Technische Universität München and Institute of Media and Communication Management, SAP Research CEC, University of St. Gallen, München, 2006. [7] Blanco, J. I., Hernandez Suarez, C. A., &Salcedo Parra, O. J. ESTADO DEL ARTE EN REDES VANET Y CADENAS DE MARKOV, Vol.1, 16.Noviembre de 2010 [8] Maldonado Narváez, Comparación de protocolos de enrutamiento y modelos de movilidad para Redes Ad-Hoc Vehiculares. (2012). Trabajo de fin de titulación. Ecuador: Universidad Católica de Loja. Obtenido de http://webcache.googleusercontent.com/search?q=cache:uA0ETPtFjJQJ:cepra.utp l.edu.ec/bitstream [9] D. B. Johnson, D. A. Maltz. DSR: The Dynamic Source Routing Protocol for Multihop Wireless Ad Hoc Networks. http://en.wikipedia.org/wiki/VANET 73 [10] A. Padilla, J. Becerra, L. Yasmin; Manual de prácticas con NS2. Grupo de investigación en Telecomunicaciones, Facultad de Ingeniería Electrónica, Universidad Pontificia Bolivariana. Bucaramanga, 2008. [11] D Krajzewicz and M. Behrisch, L. Bieker, J. Erdmann, SUMO homepage.[Online]. Available:http://sumo.sourceforge.net/, accessed January 26, 2011 [12] T. Camp, J. Boleng, V. Davies, A Survey of Mobility Models for Ad Hoc Network Research, Wireless Communication & Mobile Computing, Vol. 2, No. 5, pp. 483-502, 2002 74 ANEXOS 75 Anexo 1: Lecturas obtenidas para el Throughput GRÁFICA ANEXOS 1: THROUGHPUT VS ESCENARIO PARA 7 NODOS GRÁFICA ANEXOS 2: THROUGHPUT VS ESCENARIO PARA 14 NODOS 5220,658667 15673,89533 4267,669033 0 2000 4000 6000 8000 10000 12000 14000 16000 18000 Escenario 1 Escenario 2 Escenario 3 Troughput para 7 nodos Bytes/seg 4862,413167 4769,275733 3205,840267 0 1000 2000 3000 4000 5000 6000 Escenario 1 Escenario 2 Escenario 3 Bytes/se g Troughput para 14 nodos 76 GRÁFICA ANEXOS 3: THROUGHPUT VS ESCENARIO PARA 21 NODOS GRÁFICA ANEXOS 4: THROUGHPUT VS ESCENARIO PARA 28 NODOS 4713,8082 2313,345 2071,7817 0 500 1000 1500 2000 2500 3000 3500 4000 4500 5000 Escenario 1 Escenario 2 Escenario3 Troughput para 21 nodos Bytes/seg 1396,852267 2011,761067 1362,458167 0 500 1000 1500 2000 2500 Escenario 1 Escenario 2 Escenario3 Troughput para 28 nodos Bytes/seg 77 Anexo 2: Lecturas obtenidas para el Retardo Extremo a Extremo GRÁFICA ANEXOS 5: RETARDO EXTREMO A EXTREMO PARA 7 NODOS GRÁFICA ANEXOS 6: RETARDO EXTREMO A EXTREMO PARA 14 NODOS 65,629 86,281 334,493 0 50 100 150 200 250 300 350 400 Retardo Extremo a Extremo vs Escenario para 7 Nodos Escenario 1 Escenario 2 Escenario 3 144,214 109,312 346,451 0 50 100 150 200 250 300 350 400 Retardo Extremo a Extremo vs Escenario para 14 Nodos Escenario 1 Escenario 2 Escenario 3 ms ms. 78 GRÁFICA ANEXOS 7: RETARDO EXTREMO A EXTREMO PARA 21 NODOS GRÁFICA ANEXOS 8: RETARDO EXTREMO A EXTREMO PARA 28 NODOS 297,248 354,781 516,734 0 100 200 300 400 500 600 Escenario 1 Escenario 2 Escenario 3 Retardo Extremo a Extremo vs Escenario para 21 Nodos ms 811,160 397,4637 777,918 0 100 200 300 400 500 600 700 800 900 Escenario 1 Escenario 2 Escenario 3 Retardo Extremo a Extremo vs Escenario para 28 Nodos ms 79 Anexo 3: Lecturas obtenidas para la pérdida de paquetes GRÁFICA ANEXOS 9: PÉRDIDA DE PAQUETES VERSUS ESCENARIO PARA 7 NODOS GRÁFICA ANEXOS 10: PÉRDIDA DE PAQUETES PARA 14 NODOS 10 % 9 % 13% 0 2 4 6 8 10 12 14 16 PORCENTAJE DE PAQUETES PÉRDIDOS VS ESCENARIO PARA 7 NODOS ESCENARIO 1 ESCENARIO 2 ESCENARIO 3 P o rc e n ta je d e P é rd id a s 9 % 12 % 11 % 0 2 4 6 8 10 12 14 ESCENARIO 1 ESCENARIO 2 ESCENARIO 3 PORCENTAJE DE PAQUETES PÉRDIDOS VS ESCENARIO PARA 14 NODOS P o rc e n ta je d e P é rd id a s 80 GRÁFICA ANEXOS 11: PÉRDIDA DE PAQUETES PARA 21 NODOS GRÁFICA ANEXOS 12: PÉRDIDA DE PAQUETES PARA 28 NODOS 13 % 13 % 16 % 0 2 4 6 8 10 12 14 16 18 ESCENARIO 1 ESCENARIO 2 ESCENARIO 3 PORCENTAJE DE PAQUETES PÉRDIDOS VS ESCENARIO PARA 21 NODOS P o rc e n ta je d e P é rd id a s 17 % 14 % 21 % 0 5 10 15 20 25 ESCENARIO 1 ESCENARIO 2 ESCENARIO 3 PORCENTAJE DE PAQUETES PÉRDIDOS VS ESCENARIO PARA 28 NODOS P o rc e n ta je d e P é rd id a sUNIVERSIDAD CENTRAL DE VENEZUELA FACULTAD DE CIENCIAS ESCUELA DE COMPUTACION Laboratorio de Redes Móviles, Inalámbricas y Distribuidas (ICARO) “Evaluación de una Red Vehicular Ad-Hoc para la Comunicación entre Ambulancias del Sistema Integral de Atención Médica de Urgencias” Trabajo Especial de Grado Presentado ante la Ilustre Universidad Central de Venezuela Por los Bachilleres: Samarys del Pilar Galicia Araujo C.I.12.165.030 samarysgaliciaa@gmail.com Pedro Emilio Navarro Casanova C.I. 14.813.343 pedronavarro16@gmail.com Para optar al título de Licenciado en Computación Tutora: Profesora María Elena Villapol Caracas, Noviembre 2014 2 Caracas, Noviembre 2014 Universidad Central de Venezuela Facultad de Ciencias Escuela de Computación Laboratorio de Redes Móviles, Inalámbricas y Distribuidas (ICARO) ACTA DEL VEREDICTO Quienes suscriben, Miembros del Jurado designado por el Consejo de la Escuela de Computación para examinar el Trabajo Especial de Grado, presentado por los Bachilleres Samarys del Pilar Galicia Araujo C.I.: 12.165.030 y Pedro Emilio Navarro Casanova C.I.: 14.813.343, con el título “Evaluación de una Red Vehicular Ad-Hoc para la Comunicación entre ambulancias del Sistema Integral de Atención Médica de Urgencias”, a los fines de cumplir con el requisito legal para optar al título de Licenciado en Computación, dejan constancia de lo siguiente: Leído el trabajo por cada uno de los Miembros del Jurado, se fijó el día 05 de noviembre de 2014, a las 10 am, para que sus autores lo defendieran en forma pública, en <lugar Presentación>, lo cual estos realizaron mediante una exposición oral de su contenido, y luego respondieron satisfactoriamente a las preguntas que les fueron formuladas por el Jurado, todo ello conforme a lo dispuesto en la Ley de Universidades y demás normativas vigentes de la Universidad Central de Venezuela. Finalizada la defensa pública del Trabajo Especial de Grado, el jurado decidió aprobarlo. En fe de lo cual se levanta la presente acta, en Caracas el 05 de Noviembre de 2014, dejándose también constancia de que actuó como Coordinador del Jurado el Profesor Tutor María Elena Villapol. Prof. María Elena Villapol (Tutora) ___________________ Prof. Ana Morales (Jurado Principal) _____________________ Prof. Walter Hernández (Jurado Principal) 3 Dedicatoria Agradecimientos 4 Dedicatoria Agradecimientos 5 RESUMEN Actualmente el Sistema Integral de Atención Médica de Urgencias SIAMU del Ministerio del Popular para la Salud no cuenta con un sistema de comunicaciones eficiente para prestar un servicio de atención en su red ambulancias en la zona metropolitana de Caracas. Razón por la cual en este trabajo de grado se evalúa el uso de Redes Vehiculares Ad Hoc para mejorar la comunicación de dicho sistema. Para ello, se diseñaron 3 escenarios de simulación, el primero para una red ah hoc pura, el segundo para una red con infraestructura y el tercero para una Red Ad Hoc con tecnología de voz sobre IP (VOIP). Usando del protocolo de ruteo dinámico DSR para los tres escenarios y como principal herramienta de simulación el Network Simulator 2(NS2) y otras auxiliares que apoyan el análisis de las simulaciones. Los escenarios cubren la ruta de mayor uso y congestión por el sistema de ambulancias del SIAMU que son las zonas de Catia y Cotiza. Se configura la simulación para cada escenario con un patrón de movilidad específico, este patrón contendrá los datos que indican cómo se mueven los distintos vehículos dentro de un área determinada. El simulador de red usa esta configuración para representar entonces las comunicaciones inalámbricas entre las ambulancias. Las medidas de desempeño usadas son el Throughput, Jitter, Retardo Extremo a Extremo y perdida de paquetes. En cada escenario se realizan 30 ejecuciones del código para cada densidad de nodos con su respectivo modelo de movilidad. Los cálculos se inician con la ejecución del código en NS2 y seguidamente la herramienta network animator (NAM) en la cual se muestra de manera gráfica el desarrollo de dicha simulación. Para el cálculo de las medidas de desempeño se implementaron cuatro algoritmos que son ejecutados con el uso de las herramientas cygwin y AWK, para filtrar y obtener datos arrojados en las simulaciones. Los resultados obtenidos para cada medida de desempeño, junto con el protocolo de enrutamiento, modelo de movilidad, así como los tipos de tráfico permitirá medir el desempeño de la red. Por lo tanto se puede afirmar que es posible realizar comunicaciones entre vehículos y entre una red hibrida. Con estas características de la simulación se logra plantear las siguientes aplicaciones para las redes vehiculares en el campo de la salud específicamente para el sistema de ambulancias del SIAMU tales como: La aplicación de mensajería instantánea lo que permitiría tener siempre localizado una flota de ambulancias reduciendo así la 6 probabilidad de accidentes de tránsito y la disminución de los daños y lesiones causados por siniestros. Otra implementación seria el acceso al correo electrónico o navegación web desde estos vehículos para el envío y recepción de estudios médicos especiales tales como tomografías, resonancia magnética, rayos x entre otros. También la videoconferencia permitiría realizar estudio clínico en equipo (SIAMU Centro Hospitalario) de determinados casos, estas aplicaciones permitirán al sistema SIAMU dar respuestas más oportunas y acertadas en la prestación de los servicios. Debido a que desplegar y evaluar redes vehiculares supone un gran coste y una tarea dura, la metodología basada en la simulación se muestra como una metodología alternativa a la implementación real. Palabras Claves: AD HOC, AWK, CYGWIN, DSR, JITTER, NAM, NS2, SIAMU, TROUGHPUT, VANETS, VOIP. 7 Tabla de Contenido Índice de Gráficos y Figuras .............................................................................. 10 Índice de Tablas .................................................................................................. 12 Índice de Anexos ................................................................................................. 13 Acrónimos ............................................................................................................ 14 Capítulo 1: Introducción ..................................................................................... 15 Capítulo 2: Marco Teórico .................................................................................. 19 2.1 Introducción a las VANETS .......................................................................... 19 2.2 VANET ......................................................................................................... 20 2.3 Principio de Funcionamiento ........................................................................ 21 2.4 Aplicaciones de las Redes VANET .............................................................. 22 2.4.1 Servicios Vehículo a Vehículo (Car-To-Car Services) .......................................................... 22 2.4.2 Servicios Vehículo a Infraestructura (Car to Infrastructure Services) ................................ 22 2.4.3 Servicios Basados en un Portal Web (Portal Based Services). ........................................... 23 2.5 Características. ........................................................................................... 23 2.6 Elementos a tomar en cuenta en simulaciones con VANETS. .................... 25 2.6.1 Modelo de Movilidad Random Waypoint ................................................................................ 25 2.6.2 Enrutamiento Reactivo ............................................................................................................... 26 2.6.3 Modelo de propagación Two Ray Ground............................................................................... 27 Capítulo 3: Sistema Integral de Atención Médica De Urgencias (SIAMU) ..... 29 3.1 Visión ........................................................................................................... 29 3.2 Misión .......................................................................................................... 29 3.3 Funciones .................................................................................................... 29 3.4 Características de los Grupos Operativo .................................................... 30 3.5 Estructura Organizativa de Grupos Operativos ............................................ 30 3.6 Características del complejo médico regulador y sus componentes ............ 31 3.7 Centros hospitalarios relacionados con el SIAMU ....................................... 32 3.8 Características del departamento de transporte .......................................... 32 8 Capítulo 4: Metodología y Herramientas Utilizadas ......................................... 34 4.1 Fases para el desarrollo ............................................................................... 35 4.1.1 Escogencia y descripción de los escenarios ......................................................................... 35 4.1.2 Selección de las métricas ......................................................................................................... 35 4.1.3 Implementación general de los escenarios: ............................................................................ 35 4.1.4 Ejecución de pruebas y generación de resultados: ............................................................... 36 4.1.5 Análisis de resultados: ............................................................................................................... 36 4.2 Descripción del desarrollo de las simulaciones ............................................ 36 4.3 Herramientas............................................................................................... 38 4.4 El Simulador NS2 ......................................................................................... 38 Capítulo 5: Modelo de la Simulación y Escenarios .......................................... 40 5.1 Modelo de Movilidad Usado ......................................................................... 40 5.2 Esquema de Enrutamiento Usado ............................................................... 41 5.3 Parámetros del Canal Inalámbrico ............................................................... 41 5.4 Generación de Tráfico de Paquetes ............................................................. 41 5.4.1 Tráfico CBR.................................................................................................................................. 42 5.4.2 Tráfico Pareto .............................................................................................................................. 42 5.5 Establecimiento de la Cobertura de los Nodos ............................................ 44 5.6 Escenarios de Simulación ........................................................................... 45 5.6.1 Escenario 1 .................................................................................................................................. 45 5.6.2 Escenario 2 (mixto) ..................................................................................................................... 45 5.6.3 Escenario 3 .................................................................................................................................. 46 5.7 Implementación ............................................................................................ 47 5.7.1 Primer bloque de la implementación ....................................................................................... 47 5.7.2 Segundo bloque de la implementación................................................................................... 48 5.7.3 Tercer bloque de la implementación ....................................................................................... 51 5.8 Cálculo de cobertura .................................................................................... 52 Capítulo 6 Análisis de los Resultados .............................................................. 54 6.1 Throughput en las Simulaciones .................................................................. 54 6.1.1 Throughput para los escenarios 1,2 y 3 .................................................................................. 54 6.2 Retardo Extremo a Extremo en las Simulaciones ........................................ 57 6.2.1 Retardo Extremo a extremo para los Escenarios 1, 2 y 3 .................................................... 57 6.3 Jitter en las Simulaciones ............................................................................ 60 9 6.3.1 Jitter para los Escenarios 1, 2 y 3 ........................................................................................... 61 6.4 Pérdida de paquetes en las Simulaciones ................................................... 63 6.4.1 Pérdida de paquetes para los Escenarios 1, 2 y 3 ................................................................ 63 Capítulo 7 Conclusiones .................................................................................... 68 7.1 Contribuciones ............................................................................................. 69 7.2 Limitaciones ................................................................................................. 70 7.3 Trabajos Futuros .......................................................................................... 70 REFERENCIAS BIBLIOGRAFICAS ..................................................................... 72 ANEXOS ............................................................................................................... 74 10 Índice de Gráficos y Figuras FIGURA 2.1 EJEMPLO DE COMUNICACIÓN MULTI SALTO EN UNA RED AD-HOC .................. 20 FIGURA 2.2 RED VANET ................................................................................................. 21 FIGURA 2.3 PATRÓN DE MOVILIDAD RANDOM WAYPOINT ................................................ 25 FIGURA 3.1 ORGANIGRAMA FUNCIONAL DE GRUPOS OPERATIVOS ................................. 31 FIGURA 3.2 ORGANIGRAMA FUNCIONAL DEL COMPLEJO REGULADOR ............................ 32 FIGURA 4.1 ÁREA DE SIMULACIÓN ................................................................................... 34 FIGURA 4.2 ESQUEMA DE DESARROLLO PARA UN ESCENARIO .......................................... 37 FIGURA 4.3 VISTA SIMPLIFICADA DEL FUNCIONAMIENTO DE NS2 Y NAM ........................ 39 FIGURA 5.1 DIAGRAMA DE BLOQUES PARA LA IMPLEMENTACIÓN ...................................... 47 GRÁFICA 6.1 THROUGHPUT DE LA RED PARA EL ESCENARIO 1 ........................................ 55 GRÁFICA 6.2 THROUGHPUT DE LA RED PARA EL ESCENARIO 2 ........................................ 56 GRÁFICA 6.3 THROUGHPUT DE LA RED PARA EL ESCENARIO 3 ........................................ 56 GRÁFICA 6.4 PROMEDIO DEL RETARDO EXTREMO A EXTREMO PARA EL ESCENARIO 1 . 58 GRÁFICA 6.5 PROMEDIO DEL RETARDO EXTREMO A EXTREMO PARA EL ESCENARIO 2 . 58 GRÁFICA 6.6 PROMEDIO DEL RETARDO EXTREMO A EXTREMO PARA EL ESCENARIO 3 . 59 GRÁFICA 6.7 PROMEDIO DEL JITTER PARA EL ESCENARIO 1 ............................................ 61 GRÁFICA 6.8 PROMEDIO DEL JITTER PARA EL ESCENARIO 2 ............................................ 62 GRÁFICA 6.9 PROMEDIO DEL JITTER PARA EL ESCENARIO 3 ............................................ 62 GRÁFICA 6.10 PAQUETES ENVIADOS Y RECIBIDOS DEL ESCENARIO 1 ............................ 64 GRÁFICA 6.11 PORCENTAJE DE PAQUETES PERDIDOS PARA EL ESCENARIO 1 ................ 64 11 GRÁFICA 6.12 PAQUETES ENVIADOS Y RECIBIDOS DEL ESCENARIO 2 ............................. 65 GRÁFICA 6.13 PORCENTAJE DE PAQUETES PERDIDOS PARA EL ESCENARIO 2 ................ 65 GRÁFICA 6.14 PAQUETES ENVIADOS Y RECIBIDOS PARA EL ESCENARIO 3 ...................... 66 GRÁFICA 6.15 PORCENTAJE DE PAQUETES PERDIDOS PARA EL ESCENARIO 3 ................ 66 12 Índice de Tablas Tabla 5.1 Parámetros del modelo Random Waypoint .................................... 41 13 Índice de Anexos GRÁFICA ANEXOS 1: THROUGHPUT VS ESCENARIO PARA 7 NODOS .............................. 75 GRÁFICA ANEXOS 2: THROUGHPUT VS ESCENARIO PARA 14 NODOS ............................ 75 GRÁFICA ANEXOS 3: THROUGHPUT VS ESCENARIO PARA 21 NODOS ............................ 76 GRÁFICA ANEXOS 4: THROUGHPUT VS ESCENARIO PARA 28 NODOS ............................ 76 GRÁFICA ANEXOS 5: RETARDO EXTREMO A EXTREMO PARA 7 NODOS ......................... 77 GRÁFICA ANEXOS 6: RETARDO EXTREMO A EXTREMO PARA 14 NODOS ....................... 77 GRÁFICA ANEXOS 7: RETARDO EXTREMO A EXTREMO PARA 21 NODOS ....................... 78 GRÁFICA ANEXOS 8: RETARDO EXTREMO A EXTREMO PARA 28 NODOS ....................... 78 GRÁFICA ANEXOS 9: PÉRDIDA DE PAQUETES VERSUS ESCENARIO PARA 7 NODOS ........ 79 GRÁFICA ANEXOS 10: PÉRDIDA DE PAQUETES PARA 14 NODOS ................................... 79 GRÁFICA ANEXOS 11: PÉRDIDA DE PAQUETES PARA 21 NODOS ................................... 80 GRÁFICA ANEXOS 12: PÉRDIDA DE PAQUETES PARA 28 NODOS ................................... 80 14 Acrónimos AWK A. Aho, P. Weinberger y B. Kernighan (autores) BIT Binary digit C2CCC Car 2 Car Communication Consortium CBR Constant Byte Rate CDI Centro de Diagnóstico Integral DSR Dynamic Source Routing Protocol DSRC Dedicated Short Range Communication GOD General Operations Director GPRS General Packet Radio Service IATS Inter Arrival Times IEEE Institute of Electrical and Electronics Engineers IVSS Instituto Venezolano de los Seguros Sociales KBPS Kilo Bits Per Second LL Link Layer LRD Long Range Dependency MAC Media Access Control MANET Mobile Ad hoc Network MBPS Mega Bits Per Second MPPS Ministerio para el Poder Popular para la Salud m/s Meter(s) per Second NAM Network Animator NS2 Network Simulator 2 ODRA Operadores De Radio OTCL Tool Command Language Object oriented PDF Probability Density Function QoS Quality of Service RREP Route Reply RREQ Route Request SIAMU Sistema Integral de Atención Médica de Urgencias SIGMOBILE Systems Mobility Group SUMA Sistema Ultra Micro Analitico TETRA Terrestial Trunked Radio TCL Tool Command Language UDP User Datagram Protocol UMTS Sistema Universal de Telecomunicaciones Móviles USA United States of America VANET Vehicular Ad Hoc Networks VOIP Voice Over IP VSC Vehicle Safety Communications 15 Capítulo 1: Introducción El alto desarrollo y aceptación que ha tenido la idea de las ciudades inteligentes1, en el mundo ha llevado a la investigación y el desarrollo de los Sistemas Inteligentes de Trasporte ITS2. Este tipo de sistemas están destinados a colaborar con la labor de los servicios públicos como la policía o las unidades de emergencia, ya sean ambulancias o bomberos, realizando una labor de apoyo a la actividad de los mismos, a través del uso de sirenas virtuales o dotándolos de capacidades como señales preventivas. Mediante el uso de estas solicitudes se busca que los vehículos de emergencia sean capaces de llegar a su destino mucho más rápido que hoy día. Con la evolución de las distintas tecnologías de comunicación, como son las redes Ad Hoc, nace una nueva aplicación a este sistema conocido con el nombre de VANET. Las redes VANETS son una aplicación de las redes móviles ad hoc MANET en donde los nodos móviles que intervienen dentro de la red constituida, son representados por los distintos vehículos que se encuentren circulando en las diferentes rutas dentro de una red implementada. Orientada a formar redes vehiculares de corto y medio alcance. VANET se crea con el propósito de establecer aplicaciones tanto de seguridad vehicular, como la prevención de colisiones de autos; así como también aplicaciones para informar a conductores sobre la congestión vehicular o información de vías alternas. También puede ser aprovechada para crear redes urbanas que permitan solventar problemas de seguridad y tráfico en las distintas rutas dentro de un perímetro urbano establecido. 1 Son ciudades modernas, basadas en mejorar el confort de los ciudadanos, siendo cada vez más eficaces y brindando nuevos servicios de calidad, mientras que se respetan al máximo los aspectos ambientales y el uso prudente de los recursos naturales no renovables.[1] 2 Es un conjunto de soluciones tecnológicas de las telecomunicaciones y la informática (conocida como telemática) diseñadas para mejorar la operación y seguridad del transporte terrestre, tanto para vías urbanas y rurales, como para ferrocarriles. 16 1.1 Planteamiento del Problema Las ambulancias tienen que enfrentarse diariamente al tráfico y la congestión, por lo que la decisión de la ruta más rápida al centro hospitalario y la información veraz y oportuna por correo y en tiempo real acerca de exámenes médicos y estudio clínico del paciente respectivamente, puede ser una decisión de vida o muerte. Los conductores de las ambulancias, eligen la ambulancia más cercana y la ruta más eficiente para llegar al centro hospitalario. Por esta razón, además del equipamiento usado para el tratamiento de pacientes, las ambulancias deben albergar un sistema que permita la comunicación entre ellos y entre entes externos. Durante la intervención, el personal de la ambulancia, necesita comunicarse con el personal médico del centro hospitalario y necesita enviar datos a dicho centro por adelantado, para preparar las salas de urgencias a su llegada. Actualmente las ambulancias del SIAMU. Opera con radios bidireccionales a través del Sistema Terrestial Trunked Radio Tetra. Tetra ofrece los siguientes servicios:  Llamada individual.  Llamada de grupo.  Llamada de difusión.  Llamada de emergencia.  Operación en medio directo (DMO).  Canal abierto.  Inclusión de llamada.  Transmisión de datos del usuario.  Servicios de datos breves.  Servicios de datos sobre servicios conmutados.  Servicios de datos sobre paquetes conmutados.  Servicios prioritarios y de prevención. Como una alternativa existe también el Sistema de Posicionamiento Global GPS que permite en todo el mundo determinar la posición de un objeto, una persona o un vehículo. Este funciona mediante una red de 24 satélites en órbita sobre el globo, sin embargo, está limitado solo a la localización de vehículos y navegación. 17 1.2 Objetivo General Estudiar el rendimiento de una Red Vehicular Ad-Hoc para la comunicación entre ambulancias usando simulación. 1.3 Objetivos Específicos  Diseñar el sistema de comunicación entre ambulancias basadas en la definición de los distintos escenarios.  Determinar los parámetros de rendimiento de cada escenario y así proponer mejoras en la conducción de las ambulancias del sistema SIAMU  Simular el sistema basado en el diseño propuesto  Analizar los resultados obtenidos. 1.4 Justificación El alto porcentaje de población conlleva a que la atención pre-hospitalaria crezca en respuesta a una real necesidad de atención. En esta atención pre hospitalaria están incluidos varios elementos, de los cuales uno de ellos es el sistema de ambulancias. La industria del automóvil emplea bastantes recursos en confort y la seguridad pero adolecen de sistemas que permitan resolver los problemas de tráfico en la ciudad lo cual ha traído como consecuencia que se requiera la existencia de aplicaciones en el escenario vehicular con la finalidad de aumentar la seguridad y, por tanto, disminuir el número de accidentes. A través de la comunicación y alerta entre vehículos, ellos pueden compartir información relativa al tráfico, como por ejemplo, información de ocurrencias de accidentes en la vía o las señales de tráfico existentes. De esta manera, los conductores podrán actuar de manera proactiva en la planificación de rutas, pudiendo cambiar su trayectoria con suficiente antelación ante cualquier dificultad. Esta propuesta está orientada a garantizar la seguridad pública con relación al sistema de ambulancias en el sector salud específicamente del SIAMU y así optimizar o sustituir los recursos tecnológicos en las comunicaciones existentes, lo que permitirá, mejorar los tiempos de despacho y de atención, También permitiría reducir los tiempos de respuesta a la emergencia. 18 Por otro lado se brinda más seguridad al personal que trabaja en las unidades porque el sistema permitirá reportar mensajes de auxilio de manera inmediata para casos en los que se encuentren en situación de emergencia. 1.5 Organización del Trabajo El contenido del documento se encuentra organizado en siete capítulos, los cuales pretenden irse presentando de forma progresiva. Todos los elementos necesarios para poder entender completamente en qué consisten las simulaciones llevadas a cabo, se desglosan de la siguiente manera, en el capítulo 2 se muestran las características principales de las VANETS y su marco teórico en el que se basaran las simulaciones. En el capítulo 3 se muestra el sistema SIAMU, su finalidad, funcionamiento y estructura. Mientras que en el capítulo 4 se describe la metodología y herramientas utilizadas. Aquí se muestra una introducción al principio de funcionamiento de los escenarios así como las distintas fases del desarrollo de las simulaciones y las herramientas utilizadas para la obtención de resultados. Otro punto importante está en el capítulo 5 donde se describe el modelo de la simulación así como los escenarios en la cual se definen los elementos para especificar el problema de forma completa, estos elementos son: Modelo de movilidad, esquema de enrutamiento, parámetros del canal inalámbrico, generación del tipo de tráfico, establecimiento de la cobertura, especificación de cada uno de los escenarios y su implementación. En el capítulo 6 se expone y se analiza los resultados obtenidos de los escenarios descritos, por medio de gráficas, basados en los parámetros empleados. Por último en el capítulo 7 se presentan las conclusiones contribuciones y limitaciones, sobre las simulaciones y resultados llevadas a cabo en esta tesis. 19 Capítulo 2: Marco Teórico 2.1 Introducción a las VANETS Actualmente las redes inalámbricas espontáneas sin dependencia de ninguna infraestructura como son las redes Ad Hoc, se encuentran en plena investigación y desarrollo a causa de su infinidad de posibles nuevas aplicaciones. Una posible definición conceptual que describa de forma general y resumida lo que es una red Ad Hoc, sería la de una red compuesta por terminales fijos y móviles o bien sólo móviles, que no dependan de una infraestructura preexistente, desplegándose de una forma espontánea en un entorno inalámbrico; sin excluir por tanto, que alguno de ellos posea conectividad con cable [2]. Es importante mencionar que este tipo de redes da la posibilidad de establecer una red entre dispositivos aislados sin la necesidad de tener estaciones base, enrutadores fijos o tener un administrador del propio sistema, ya que las redes Ad Hoc son adaptativas y pueden auto configurarse. Algunos nodos actuarán como emisor, receptor o enrutador, en el caso que actúen como enrutador va a ser con la finalidad de comunicar dos dispositivos que no se encuentran directamente conectados mediante su propio radio de cobertura de enlace. Uno de los protocolos de enlace más comunes en redes Ad Hoc es la del Instituto de Ingenieros Eléctricos y Electrónicos (IEEE 802.11) o Bluetooth; pudiendo formarse una red inalámbrica multi salto (véase figura 2.1), donde cada uno de los nodos sería capaz de cubrir distancias de 30 a 100 metros en interiores y de 100 a 300 metros en exteriores. 20 FIGURA 2.1 EJEMPLO DE COMUNICACIÓN MULTI SALTO EN UNA RED AD-HOC Las redes Ad Hoc presentan topologías dinámicas donde los nodos se mueven en el espacio de forma arbitraria, teniendo como gran dificultad y reto la gran variabilidad y la imprecisión que ofrece el medio (jitter, atenuación, multi camino, ruido, etc.) unido a cambios repentinos e inesperados (enlaces bidireccionales o unidireccionales, restricción del volumen que fluye a través del sistema, caída y recuperación de enlaces, etc.). Las limitaciones del medio junto con los protocolos que intervienen en la comunicación son un fundamento determinante en el funcionamiento y comprensión de las redes Ad Hoc. 2.2 VANET Una vez vistos los conceptos más relevantes sobre las redes Ad Hoc, se profundizara en un tipo en concreto, ya que éste es el objeto de estudio. Una VANET, como su propio nombre indica, se trata de una red Ad Hoc donde sus nodos se corresponderían a vehículos (carros, camiones, autobuses, etc.); en este caso, cabría la posibilidad de que dichos nodos formaran la red en pleno movimiento (por ejemplo mientras se circula por una autopista). Los nodos que se mueven de forma arbitraria y se comunican entre ellos (vehicle-to-vehicle), pueden tener también un equipo fijo próximo que formará parte de la red y que también dotará a dicha red de una conexión hacia Internet, al igual que hoy acceden nuestros terminales móviles a Internet a través de: Vehicle- to- roadside [3], General Packet Radio Service GPRS o el Sistema Universal de Telecomunicaciones Móviles UMTS [4] (Ver Figura 2.2). 21 En cuanto a la nomenclatura, cabe indicar que una VANET es un tipo de MANET, es decir, una red ad-hoc móvil, por las razones que se han expuesto anteriormente; aunque es importante diferenciar que MANET describe sobre todo un campo de investigación académico, mientras que el término VANET está más enfocado a una aplicación en concreto [5]. FIGURA 2.2 RED VANET Hoy por hoy todo lo que envuelve el tema de las VANETS está en pleno desarrollo e investigación, de hecho, existen varios grupos de trabajo, tanto por parte de las universidades y los gobiernos, como de la industria, que investigan en este campo debido a la multitud de posibles aplicaciones que podría suponer su utilización; algunos de los consorcios son el de Comunicaciones Vehiculares Seguras de Estados Unidos (VSC USA), Car 2 Car Communication Consortium (C2CCC Europa), Sistemas de Trasporte Inteligentes (ITS Japón), Grupo de Movilidad de Sistemas (Sigmobile USA), etc. [3] y el propio IEEE, que conjuntamente con el european car to car communication están desarrollando el protocolo IEEE 802.11p. , lo que se podría ver como una adaptación del propio IEEE 802.11, equivalente al estándar Dedicated Short Range Communication (DSRC) utilizado en Estados Unidos [6]. 2.3 Principio de Funcionamiento En una red (VANET) la mayoría de las veces los vehículos viajan de una forma definida al seguir una ruta establecida hacia su destino mientras que otras veces lo harán de una forma aleatoria, ya que dependiendo de factores externos como accidentes de tránsito, paradas intermedias o espontáneas de vehículos y tráfico excesivo, provocan que los vehículos se salgan de su ruta predefinida en busca de una nueva ruta alterna, con lo cual la topología de las redes VANET 22 varía constantemente dependiendo del ingreso o salida de vehículos dentro de la red, viéndose afectada constantemente su topología. 2.4 Aplicaciones de las Redes VANET Anteriormente describimos rasgos generales del concepto de VANET, ahora se van a ver algunas de las aplicaciones más prometedoras de este tipo de redes, mencionando también los grupos de trabajo vinculados a la investigación y desarrollo de éstas. 2.4.1 Servicios Vehículo a Vehículo (Car-To-Car Services) Este tipo de servicio es el más ligado a la seguridad, pensado fundamentalmente para el intercambio de información entre vehículos con la finalidad de: Informar y prevenir accidentes ocurridos, de esta manera evitar colapsos, información del estado del tráfico, condiciones de la vía y clima, enviar mensajes de auxilio, mantenimiento de las distancias de seguridad, etc. Por otro lado, uno de los retos de esta tecnología y por tanto, estudio y desarrollo por parte del consorcio C2CCC es la de ofrecer un entorno escalable, permitir comunicaciones a altas velocidades, ofrecer una diseminación de la información en escenarios donde intervengan más de 100 nodos, ofrecer seguridad y privacidad en las comunicaciones, calidad de servicio QoS, servicios en tiempo real, entornos de simulación realista, entre otros [4]. 2.4.2 Servicios Vehículo a Infraestructura (Car to Infrastructure Services) Este servicio está pensado como refuerzo del anteriormente explicado, aparte de ofrecer un intercambio exclusivo de datos entre vehículos, la idea sería la de introducir una serie de estaciones base que podrían ofrecer información climatológica de una fuente externa, información del tráfico, etc., aparte de poder aumentar el radio de amplitud de la red Ad Hoc formada, con la posibilidad por ejemplo de poder enviar a un servicio de emergencia un mensaje de auxilio, ya que cabría la posibilidad que en esa parte de la vía no hubiera más vehículos en ese momento que sirvieran como enrutadores. También se puede generar servicios de información de establecimientos comerciales o de servicios básicos, a los vehículos que circulan por el sector y que se encuentren en el rango de cobertura de la red establecida y así estos puedan recibir información acerca de eventos, promociones o disponibilidad de servicios de algún centro comercial que se encuentre en el sector. De esta forma tanto usuarios de vehículos como comerciantes pueden verse beneficiados con la implementación de una 23 tecnología como esta ya que les sirve como una ayuda para el intercambio de información en la solicitud y oferta de productos o servicios que se comercialicen dentro del rango de cobertura de la red VANET de Infraestructura creada. A diferencia de muchos otros entornos móviles Ad Hoc donde el movimiento de nodo se produce en un campo abierto (como salas de conferencias y cafés), los nodos vehiculares están circunscritos por calles frecuentemente separadas por edificios, árboles u otros objetos que limitan las señales que se transmiten. La distribución de calles, autopistas y sus diferentes obstáculos incrementan la distancia promedio entre nodos y, en la mayoría de los casos se reduce la fuerza de la señal recibida en cada nodo debido a las interferencias. Un modelo de movilidad más realista con un nivel apropiado de detalle para las redes vehiculares es fundamental para obtener resultados adecuados en la red simulada. 2.4.3 Servicios Basados en un Portal Web (Portal Based Services). Es el servicio con más expectativas de futuro dentro de las VANETS en el entorno de ocio y empresarial, aparte de poder ofrecer los servicios anteriormente descritos. Este sistema consiste en ofrecer a los vehículos actividades basados en infraestructura bajo una plataforma de servicios telemáticos, como por ejemplo conexión a Internet desde los vehículos, pagar facturas, reservar hoteles, restaurantes, etc. 2.5 Características. Debido a que en las Redes VANETS los vehículos pueden establecer una comunicación entre ellos y con algún tipo de infraestructura. Las Redes vehiculares tienen las siguientes características [5].  Autonomía: Cada terminal es un nodo autónomo con capacidad para procesar y enrutar la información proveniente de otros nodos de la misma red.  Control distribuido de red: El control se hace en cada nodo ya que no se tiene infraestructura que lo realice.  Enrutamiento: Es necesario que cada nodo por separado, y todos en conjunto, provean un mecanismo dinámico de enrutamiento. Los protocolos clásicos de enrutamiento no son aplicables a este tipo de redes ya que no están preparados para las variaciones de topología que presentan las VANETS. Actualmente, se están desarrollando algoritmos de enrutamiento para enfrentar este problema. 24  Topología de red variable: En las redes vehiculares los nodos o vehículos se pueden mover de forma arbitraria, aunque a veces sigan algunos patrones de movilidad, debido a esto, las redes se pueden subdividir y por consiguiente, pueden experimentar la pérdida de paquetes. Para esto se deben desarrollar mecanismos que detecten estas circunstancias y que minimicen de esta forma sus efectos [7].  Energía ilimitada: Los inconvenientes de alimentación de los dispositivos móviles, no constituyen una limitación importante para las Redes vehiculares, ya que el propio nodo (vehículo), puede proporcionar energía permanente a los dispositivos informáticos y de comunicación.  Mayor capacidad computacional: Las redes vehiculares requieren a menudo brindar mayores capacidades de detección, comunicación y cómputo, por lo que los vehículos y las estaciones deben de contar con muy buenos equipos computacionales.  Escala potencialmente grande: Su despliegue sobre toda la red vial, aumentaría de tal forma el tamaño de la red, esto implica la participación de un elevado número de nodos, que requieren niveles de potencia elevados para ampliar su rango de cobertura y mantener las comunicaciones.  Alta movilidad: Las redes vehiculares operan sobre un entorno altamente dinámico. Los vehículos en las vías viajan a velocidades muy altas (100 Km/h en autopistas y 60 Km/h en la ciudad), lo cual conlleva a predecir que el periodo de comunicación inter-vehicular pueda ser muy corto [6]. La topología de la red tiende a cambiar de forma aleatoria y rápida en todo momento, dificultando el establecimiento de la conectividad de la red, la cual debe mantenerse estable para que los servicios de comunicación puedan operar sin inconvenientes.  Ancho de banda limitado: El ancho de banda en sistemas inalámbricos, que carecen de infraestructura y que además son móviles es mucho más reducido que el ancho de banda de redes que están preestablecidas.  Fluctuación de los enlaces: La calidad de la información se ve afectada a medida que los saltos entre los nodos de las Redes Ad Hoc se va incrementando debido a la adición de errores de dígito binario bit entre cada salto [8]. 25 2.6 Elementos a tomar en cuenta en simulaciones con VANETS. 2.6.1 Modelo de Movilidad Random Waypoint El modelo Random Waypoint se basa en la aleatoriedad de movimiento que tienen los nodos[6], cualquier nodo puede moverse por cualquier punto del escenario en cualquier dirección y sentido. También incluye opcionalmente, períodos de pausa entre los cambios de dirección y/o velocidad, es decir un móvil se detiene para cambiar de dirección y/o sentido y puede permanecer quieto durante un tiempo de pausa determinado por los parámetros de la simulación. Tras una pausa el nodo toma una dirección aleatoria y una velocidad comprendida entre los umbrales especificados en los parámetros de simulación (min. speed, max. speed). A continuación en la figura 2.3 se muestra una simulación donde se puede apreciar el funcionamiento de este patrón para un nodo usando el modelo de movilidad Random Waypoint. FIGURA 2.3 PATRÓN DE MOVILIDAD RANDOM WAYPOINT En las primeras figuras se puede observar como el nodo no arranca en el punto (0,0) sino en una posición o punto aleatorio. Esto se debe al patrón de movimiento y donde el nodo pudiera desplazarse hasta un punto cualquiera del escenario. Para el caso en que hay más de un nodo, esto se traduce en una 26 expansión de los nodos que asemeja más la simulación a un escenario real, donde no tienen por qué arrancar todos desde un mismo punto. 2.6.2 Enrutamiento Reactivo En los protocolos reactivos la recopilación de información de enrutamiento y el cálculo de rutas se realiza bajo demanda, es decir, solo en el momento en que se requiere transmitir información y se desconoce una ruta para comunicarse con el nodo destino. El esquema petición/respuesta es utilizado usualmente por estos protocolos. Cada vez que un nodo requiere transmitir información, este inunda la red con mensajes de petición de ruta y espera que llegue este paquete al nodo destino, el nodo receptor envía un paquete de respuesta, lo cual permitirá establecer una trayectoria de comunicaciones. Bajo este esquema de enrutamiento se evita la sobrecarga de señalización, se mejora la escalabilidad de la red a la vez que permite adaptar estos protocolos a entornos altamente dinámicos. La latencia de transmisión dependerá del tamaño de la red y una falla en una ruta de comunicaciones requiere el redescubrimiento de una nueva trayectoria, lo cual representa demandas de tiempo, cómputo y de recursos de la red. A continuación se expone el protocolo usado en este tipo de enrutamiento en la simulación. DSR (Dynamic Source Routing): Es tipo de protocolo del tipo reactivo fue diseñado especialmente para redes inalámbricas de saltos múltiples y para redes Ad Hoc. El nodo emisor envía un paquete de broadcast de requerimiento de ruta Route Request (RREQ) en el que se incluye información del nodo fuente, nodo destino y los saltos (el camino que se va siguiendo a través de los nodos intermedios). Estos a su vez retransmiten el RREQ a sus nodos vecinos, excepto al nodo del cual recibió el RREQ, hasta alcanzar el nodo receptor dentro de la red. Cada nodo tiene un “route cache” en el cual se almacena la ruta fuente por la que ha ido avanzando el paquete hasta el nodo actual [9]. Una vez que el paquete llega hasta el receptor, este deja de retransmitir el RREQ y envía un paquete de respuesta de ruta Route Reply (RREP) en el que se incluye la fuente, el destino y la ruta completa hacia el destino, es decir la ruta por donde debe regresar el paquete hacia el nodo que originó el RREQ. 27 De esta forma la ruta queda establecida en el nodo emisor el cual actualiza su “route cache” y selecciona el mejor camino por el cual puede transmitir la información hacia el nodo receptor. Ventajas  No necesita enviar actualizaciones periódicas para actualizar las tablas de enrutamiento en los nodos.  Los nodos intermedios utilizan la información de los “route cache” de forma eficiente para disminuir el control de la cabecera.  Ahorro en corriente y en ancho de banda ya que no se envían mensajes Hello. Desventajas  DSR es eficiente en redes Ad Hoc Móviles que no superen los 200 nodos dentro de la red.  No es escalable, se presentan problemas cuando en la red aumentan los nodos, o cuando estos empiezan a moverse más rápido de lo normal.  Existen tiempos de retardo hasta que el emisor descubra la ruta hacia el destino. 2.6.3 Modelo de propagación Two Ray Ground El modelo de Dos Rayos de reflexión terrestre es un modelo muy útil que se basa en óptica geométrica este considera tanto la transmisión directa como una componente de propagación reflejada en la tierra entre el transmisor y el receptor. La atenuación por espacio libre se encuentra en función del cuadrado de la distancia, este modelo da resultados más precisos para largas distancias que el modelo free-space. En cambio, se obtienen malos resultados a cortas distancias, debido a las oscilaciones constructivas y destructivas de los dos rayos. La potencia de la señal recibida queda definida en la siguiente ecuación. Pr Two Ray Ground = (PtGtGrht²hr²)/ (d4L) Donde ht y hr son la altura de las antenas emisora y receptora. 28 El modelo de propagación Two Ray Ground es el más cercano a la realidad y más completo por lo tanto este modelo es el que será utilizado en los escenarios propuestos El modelo de propagación Two Ray Ground es el más cercano a la realidad y más completo por lo tanto este modelo es el que será utilizado en los escenarios propuestos 29 Capítulo 3: Sistema Integral de Atención Médica De Urgencias (SIAMU) El Sistema Integral de Atención Médica de Urgencias permite la articulación e integración entre los diferentes componentes y las centrales de regulación médica (de urgencias, de hospitalización, de consultas, exámenes especiales y transporte socio sanitario), orientados en pro del bien común y del derecho a la salud de los individuos y la colectividad. 3.1 Visión El SIAMU será capaz de garantizar a los ciudadanos y ciudadanas el derecho soberano a la salud, direccionando con prontitud y eficiencia el acceso gratuito de los servicios para atender las necesidades de salud de la población, basado en la planificación estratégica. 3.2 Misión La misión del SIAMU es brindar la respuesta adecuada de los servicios de salud pública a las necesidades de la población de la Gran Caracas, frente a situaciones de Urgencias Médicas, sean éstas individuales o colectivas, las 24 horas del día y los 365 días del año. 3.3 Funciones  Dirigir, controlar, evaluar y coordinar la demanda sanitaria de urgencias médicas a través del Centro Regulador, sobre traslados, cupos hospitalarios, medicamentos e insumos hospitalarios.  Cumplir con el protocolo de atención de urgencias y asesorías médicas sanitarias.  Articular con todos los organismos públicos y privados en la resolución de problemas de salud pública, en el área de su competencia.  Establecer y verificar la base de datos de todos los procedimientos realizados, a fin de llevar el registro de datos actualizado.  Supervisión nocturna y diurna de establecimientos de atención médica de la ciudad de Caracas, para crear diagnósticos de operatividad y funcionamiento. 30  Presentar informes estadísticos detallados de las actividades desarrolladas al despacho del Ministerio del Poder Popular para la Salud y Protección Social (MPPS). 3.4 Características de los Grupos Operativo La estructura se organiza de acuerdo a las normas y funciones de la institución, la cual se puede apreciar en la figura 3.1 y está formada por:  Coordinación Administrativa: Coordinar y supervisar las actividades administrativas del organismo  Coordinación de Logística y Transporte: Programa, controla y supervisa el mantenimiento preventivo de las operaciones.  Coordinación Complejo Regulador: Permite la articulación e integración entre los diferentes componentes y centros hospitalarios.  Coordinación Operativa: Coordina que se efectúen de manera adecuada los traslados locales o foráneos de acuerdo al tipo (Ordinario, intermedio e intensivo).  Coordinación de Bienes Nacionales: Coordina y supervisa los movimientos de los bienes nacionales del SIAMU.  Coordinación de Telemática: Operar y administrar la infraestructura computacional en las áreas de soporte técnico, desarrollo, red de datos y de voz que dan apoyo al sistema.  Coordinación de Recursos Humanos: Es el órgano responsable de planificar, organizar, dirigir y controlar, de acuerdo a la política general de la Institución y las disposiciones legales, la adecuada administración del personal.  Coordinación de comunicaciones: Esta coordinación implementa políticas de comunicación institucional a través de la generación y ejecución de los planes internos y externos de comunicación. 3.5 Estructura Organizativa de Grupos Operativos Los grupos de operarios en el SIAMU permiten comprender y manejar: El funcionamiento institucional; la red vincular del paciente; el equipo multidisciplinario y actividades médicas el cual posee una estructura (véase Figura 3.1). 31 SUPERVISOR DE GRUPO A PARAMEDICOS CONDUCTORES SUPERVISORES DE GRUPO SUPERVISOR DE GRUPO B PARAMEDICOS CONDUCTORES SUPERVISOR DE GRUPO C PARAMEDICOS CONDUCTORES SUPERVISOR DE GRUPO D PARAMEDICOS CONDUCTORES  Supervisores de Grupo: Supervisan a los conductores de ambulancia y personal paramédico en los cumplimientos de los protocolos.  Paramédicos: Operan el equipamiento médico a nivel pre- hospitalario, Soporte Básico de Vida y/o Soporte Avanzado de Vida. Además reporta problemas relacionados con el estado de salud del paciente y sus equipos al supervisor inmediato, colabora en la organización y coordinación sanitaria en catástrofes o situaciones de crisis.  Conductores: Traslada al paciente hacia los centros de salud, mantiene preventivamente los vehículos que le son asignados según estándares de mantenimiento que le son proporcionados y reporta novedades en cuanto al estado de las unidades de transporte y faltas de material. FIGURA 3.1 ORGANIGRAMA FUNCIONAL DE GRUPOS OPERATIVOS 3.6 Características del complejo médico regulador y sus componentes El complejo regulador en el ámbito de la salud es un proceso integral donde prevalece la autonomía del paciente y se garantiza el derecho a la vida, (véase Figura 3.2). Coordina la demanda sanitaria de urgencias médicas a través del Centro Regulador y los Operadores de Radio, sobre traslados, cupos, medicamentos e insumos hospitalarios. 32 FIGURA 3.2 ORGANIGRAMA FUNCIONAL DEL COMPLEJO REGULADOR 3.7 Centros hospitalarios relacionados con el SIAMU  Hospitales: Los hospitales del Distrito Capital son centros de referencia nacional, reciben pacientes de toda Venezuela y algunos se han convertido en centros docentes. Actualmente existen 22 hospitales relacionados con el SIAMU las 24 horas, de los cuales 10 tienen operadoras de radio (ODRA), manteniendo interconectados a estos centros de salud.  CDI: Los Centros de Los Centros de Diagnóstico Integral (CDI) tienen como misión prestar servicios de rayos X, ultrasonido diagnóstico, endoscopia, electrocardiograma, Sistema Ultra Micro Analítico (SUMA), oftalmología clínica, emergencia y anatomía patológica. En el distrito capital se encuentran 14 CDI relacionados con el SIAMU.  Clínicas Populares: Las clínicas populares del Distrito Capital de las cuales 7 están interrelacionadas con el SIAMU, son parte integral del sistema público nacional de salud. Estos prestan servicios de diagnóstico y tratamiento especializado, con capacidad terapéutica. 3.8 Características del departamento de transporte Clasificación de las Ambulancias  Tipo 1: Ambulancia para el transporte de un único paciente sobre camilla (Transporte Fito-Sanitario). COORDINADOR COMPLEJO REGULADOR TELEOPERADORES MÉDICOS REGULADORES OPERADORES DE RADIO (ODRA) ANALISTAS DE ESTUDIOS MÉDICOS 33  Tipo 2: Ambulancia terrestre de urgencia: Diseñada y equipada para el tratamiento básico y evaluación continua de los pacientes (Transporte para Soporte Básico de Vida).  Tipo 3: Ambulancia terrestre de cuidados especiales (emergencia): tratamiento avanzado y evaluación continua de los pacientes (Transporte para Soporte Avanzado de Vida). Entre los tipos de traslados tenemos:  Transporte Primario: Es el traslado que se realiza desde el sitio de ocurrencia del evento hasta un centro de atención inicial.  Transporte Secundario: Es el traslado que se realiza desde un centro asistencial hasta otro centro u otro sitio, con el fin de completar o complementar el proceso de atención definitiva. 34 Capítulo 4: Metodología y Herramientas Utilizadas En los últimos años, los sistemas de comunicación se han ido desarrollando tendiendo a la convergencia de datos, voz y vídeo brindando a los usuarios una gran gama de posibilidades y exigiendo que estos sistemas tengan un desempeño eficiente. Por ello es importante crear mecanismos para evaluar estos sistemas y así seguir haciéndolos más eficientes. La simulación permite una solución práctica y económica para realizar dichas evaluaciones en este sentido, a través del simulador NS2 se dan a conocer posibles rutas alternas a las ambulancias, junto con el análisis de distintos tipos de tráfico que permitan descongestionar el sector si existiera algún percance o retraso inesperado. La topología de los escenarios de simulación la constituyen la zona entre Catia y Cotiza, del área metropolitana de Caracas. Dichas zonas pueden ser apreciadas en la figura 4.1, la zona de Catia (A) y Cotiza (B). FIGURA 4.1 ÁREA DE SIMULACIÓN A parte de simular red ah hoc entre ambulancias también se hará con una red de infraestructura donde se utiliza un dispositivo central que realiza el trabajo del administrador de la red, este dispositivo se encarga de enrutar la información de los terminales que componen la red de comunicación, para llevar a cabo las simulaciones se realizó a través de las siguientes etapas: 35 4.1 Fases para el desarrollo 4.1.1 Escogencia y descripción de los escenarios Se plantean tres escenarios de simulación donde la conectividad se puede realizar de dos maneras: Comunicación vehículo a vehículo y vehículo a infraestructura. En los escenarios se evalúa el comportamiento de las conexiones del Protocolo de Datagrama de Usuario UDP con tráfico tasa de velocidad constante CBR y PARETO3. Se considera que los tres escenarios son suficientemente representativos para evaluar la red VANET en el sistema SIAMU. Debido a que no existe una comunicación clara entre hospitales y ambulancias en el sistema SIAMU, se requiere la implementación de tres escenarios de simulación caracterizados por dos redes Ad Hoc pura con tráfico distinto y una red de Infraestructura, que permitan aplicaciones que agilicen el proceso de recepción y traslado de pacientes que viajan por este sistema. En los actuales momentos la flota de vehículos del SIAMU es de 28 ambulancias y por ende la evaluación de la red se hace con las siguientes densidades de tráfico: 7, 14, 21 y 28 nodos. 4.1.2 Selección de las métricas Luego de elegidos los escenarios, el siguiente paso es decidir que métricas son las más representativas para el análisis del presente proyecto. Entre muchas métricas disponibles, se deben seleccionar aquellas que muestren los cambios más importantes, de donde se puedan identificar ventajas o desventajas de cada uno de los protocolos a estudiar. 4.1.3 Implementación general de los escenarios: La implementación de los escenarios se realizará en un simulador de redes, donde se configurarán los escenarios utilizando la sintaxis que provea este. Además, en esta fase se realizaran las pruebas necesarias previas a las ejecuciones finales para verificar el buen funcionamiento de los escenarios 3 En estadística la distribución Pareto, formulada por el sociólogo Vilfredo Pareto, es una distribución de probabilidad continua, que tiene aplicación en disciplinas como la sociología, geofísica y economía. 36 4.1.4 Ejecución de pruebas y generación de resultados: Una vez diseñados los escenarios y configurados, se procede a ejecutar las simulaciones con los parámetros finales. Estas simulaciones generarán resultados que serán verificados y ordenados, para así tener información suficiente que permita ver el comportamiento de los protocolos en los ambientes seleccionados. 4.1.5 Análisis de resultados: Una vez generados todos los resultados, se deben interpretar el significado de estos. Se compararan los resultados entre ellos, determinando luego del análisis la información crítica para llegar a la conclusión del presente trabajo. 4.2 Descripción del desarrollo de las simulaciones El funcionamiento para la simulación de una VANET se realiza primero con la configuración de un archivo donde está el modelo de movilidad para un determinado número de nodos. Como resultado de la simulación se generan dos archivos, uno conocido como traza, el cual es una especie de “radiografia” donde se registran todos los eventos ocurridos durante la simulación y el otro permite la visualización gráfica con el network animator (nam). En la figura 4.2 se muestra el esquema de desarrollo para un escenario desde el momento de las corridas del código hasta su depuración para la presentación de gráficas y resultados. 37 FIGURA 4.2 ESQUEMA DE DESARROLLO PARA UN ESCENARIO 38 4.3 Herramientas Para observar el comportamiento de los tres escenarios anteriormente planteados se recurre al uso de seis herramientas que se describen a continuación.  Simulador de redes NS2: Permite leer archivos con extensión del lenguaje de herramientas de comandos .tcl donde están programados todos los aspectos de la red, tales como nodos, conexiones, tipos de tráfico, etc. El código obtenido a través de esta herramienta crea archivos .nam y .tr que son data para analizar los estados y toda la información pertinente a las simulaciones que se llevaron a cabo.  Visualizador gráfico NAM: Muestra de manera gráfica el desarrollo de la simulación.  AWK: Herramienta de programación por patrones y acciones, diseñado para procesar datos basados en texto ya sean archivos o flujo de datos. Aquí se programaron scripts para la depuración y cálculo de las medidas de desempeño de los archivos .tr arrojados por NS2 en las simulaciones.  Cygwin: Es una colección de herramientas desarrollada por Cygnus Solutions para proporcionar un comportamiento similar a los sistemas Unix en Microsoft Windows. Su objetivo es tener un software portable que se ejecute en sistemas POSIX a Windows con una recopilación a partir de sus fuentes.  Xgraph: Permite estudiar los archivos de trazas arrojados por NS2 como producto de las simulaciones.  Notepad ++: Como editor de código para depurar las trazas generadas por NS2.  Excel: A través de esta herramienta se crean las gráficas obtenidas con los scripts aplicados a los archivos arrojados por la simulación. 4.4 El Simulador NS2 Se realizaron simulaciones utilizando la herramienta Network Simulator 2 (ns-2) [10], que es un software que permite simular el comportamiento de las redes. Una de las características de este simulador es el manejo de la mayoría de los protocolos comúnmente utilizados, además, los resultados de las simulaciones se pueden obtener de forma gráfica y numérica, lo que permite el análisis de lo observado y es software libre. Algunos de los parámetros por tener en cuenta para 39 la simulación son: Número de nodos, velocidad de movimiento de los nodos, tamaño del escenario, tipo de tráfico, cantidad de paquetes enviados, tiempo de que dura la simulación, entre otros. Network Simulator 2 es uno de los simuladores ampliamente aceptados en la comunidad científica, además da la posibilidad de ser utilizado en conjunción con otros programas, como un simulador de tráfico (SUMO [11] por ejemplo). NS2 implementa diferentes escenarios inalámbricos, así como también diferentes modelos de propagación, implementación del protocolo de acceso al medio IEEE 802.11, por otra parte, toma en cuenta los efectos de rebotes de la señal, como sucede en una comunicación entre dos vehículos[12]. En definitiva, estos aspectos hacen que este simulador sea el más apto para su utilización en este campo, en la figura 4.3 podemos observar el funcionamiento de NS2. FIGURA 4.3 VISTA SIMPLIFICADA DEL FUNCIONAMIENTO DE NS2 Y NAM Programa de Simulación . Script Otcl Otcl: Interprete tcl Con extensión Orientada a Objeto Librería del simulador NS2 Objetos Planificadores de Eventos Objetos Componentes de Red Módulo de Ayuda para la Configuración de Red. Resultados de la Simulación NAM Animado r de Red 40 Capítulo 5: Modelo de la Simulación y Escenarios En las VANETS existen dos partes bien diferenciadas. Por un lado está el comportamiento de los vehículos y por otro el funcionamiento de la red que forman estos. Para que funcione esta tecnología correctamente hay que enlazar estas dos partes y hacerlas cooperar. Para ello es importante describir el modo en el que se mueven los vehículos. Una vez que se conoce el movimiento de estos nodos de la red, es necesario conocer las condiciones en las que se llevará a cabo la transmisión de datos. Hay que tener en cuenta la topología por la que han de moverse los vehículos, ya que condiciona su movimiento y también limita la comunicación. El escenario en que se basan las simulaciones consta de: 5.1 Modelo de Movilidad Usado La manera más habitual de estudiar las redes ad hoc inalámbricas móviles es mediante simulación. Aunque el despliegue en un entorno real es indispensable para la comprensión de las particularidades de las redes ad hoc, las simulaciones tienen ventajas muy claras: Su despliegue es rápido, su diseño sencillo, las pruebas son repetibles y es de bajo costo. Además, permiten aislar aquellos parámetros que pueden afectar a las prestaciones finales. También permiten la realización de múltiples escenarios que son difíciles de implementar en un entorno real. Con respecto a la densidad de tráfico usado en el modelo de movilidad la más baja se requiere para evaluar la red en los casos nocturnos, donde los requerimientos de traslados son más bajos como son los casos de 7 y 14 ambulancias ahora bien para los casos de mayor demanda como son fines de semana y días festivos se requiere simular con 21 y 28 ambulancias a fin de obtener una muestra representativa en las simulaciones y así evaluar estos extremos de esta manera se eligieron 30 repeticiones para cada categoría de densidad de tráfico. Se plantea el uso de una estrategia de movilidad simple, que se adecúe al entorno y que esté basado en la aleatoriedad de movimiento en el que un nodo pueda moverse por cualquier punto del escenario. Esto permitirá que los resultados de la simulación sean lo más reales posible. En la tabla 5.1 se detallan los parámetros que se han utilizado para el modelo de movimientos en los tres escenarios. 41 Tabla 5.1 Parámetros del modelo Random Waypoint 5.2 Esquema de Enrutamiento Usado En las simulaciones se usó el protocolo basado en la estrategia de enrutamiento perteneciente a los protocolos reactivos como es el DSR, Debido al tipo de red Ad Hoc y a la alta movilidad de los nodos en el cual la topología de red cambia muy rápidamente. 5.3 Parámetros del Canal Inalámbrico Para proceder con el desarrollo de los scripts de los escenarios de simulación es fundamental definir una serie de parámetros entre ellos el del canal inalámbrico que permitan establecer la configuración de la conexión de los nodos que representan las ambulancias del sistema SIAMU, entre ellos tenemos el modelo de propagación el cual es el Two Ray Ground por ser el más cercano a la realidad, el modelo de antena Omnidireccional, el protocolo de la capa de control de acceso al medio MAC 802.11 y el canal inalámbrico que es el estándar definido por NS2. 5.4 Generación de Tráfico de Paquetes Parámetros Descripción v=2 Versión , 1 (1999 CMU), 2 (2003 UM) n=7,14,21,28 Número de nodos en el escenario s=1 Tipo de velocidad, 1(uniform), 2(normal) m=11 Velocidad mínima en m/s en las ambulancias es 40 km/h lo que equivale que m=11 M=27 Velocidad máxima en m/s en las ambulancias es 100 km/h lo que equivale que M=27 t=200 Tiempo de simulación en segundos P=1 Tipo de pausa, 1 (constant), 2 (uniform) p=2.0 Tiempo de parada en segundos x=200 Indica la longitud en metros del escenario en el eje X y=200 Indica la longitud en metros del escenario en el eje Y 42 La generación de tráfico en NS2 entra dentro de la clasificación Application Objects. Un Application Object puede ser de 2 tipos, una aplicación simulada o un generador de tráfico. En este estudio se utiliza los generadores de tráfico: CBR y PARETO. 5.4.1 Tráfico CBR La categoría de tráfico CBR se utiliza para las conexiones en que el servicio de transporte va a una velocidad de bits constante, donde hay una dependencia inherente en la sincronización de tiempo entre la fuente y el destino del tráfico. CBR se adapta a cualquier tipo de datos para los sistemas que requieren tiempo de respuesta predecible y una cantidad estática de ancho de banda disponible de forma continua para el tiempo de vida de la conexión. Estas aplicaciones incluyen servicios como la videoconferencia, telefonía, voz interactiva y audio. Para aplicaciones de voz y nativas, CBR proporciona tráfico de baja latencia con características de entrega predecibles, por lo que se suele utilizar para la emulación de circuitos. Los parámetros para el tipo de tráfico se muestran a continuación: #Se genera paquetes con un bit rate constante. Application/Traffic/CBR # Creación fuente de tráfico CBR set cbr0 [new Application/Traffic/CBR] # tamaño de paquete $cbr0 set packetSize_ $val(pck) # tiempo entre paquetes (seg) $cbr0 set interval_ $val (icbr) # tiempo entre paquetes (seg) $cbr0 set rate_ 1mbps 5.4.2 Tráfico Pareto Cuando los paquetes pasan a través de un dispositivo físico, se produce habitualmente una demora provocada por la recepción (generalmente acompañada del encolamiento del paquete), luego por el procesamiento (donde el 43 paquete es analizado), y por último, por el despacho (donde normalmente el paquete abandona el dispositivo). Todo este procedimiento causa demoras. Generalmente, los arribos se encolan sucesivamente como entradas de los clientes y allí, experimentan una posible espera. Por lo tanto para poder construir un modelo del arribo y posterior servicio que modele este comportamiento y que se muestre en la simulación se utilizan variables aleatorias. La naturaleza estadística de los arribos puede ser expresada de diferentes formas. Por ejemplo, si los sucesivos tiempos entre arribos son independientes, una especificación de las condiciones iníciales (que determine el instante de tiempo en el cual la operación de encolamiento comienza), en conjunto con la función de tiempos entre llegadas (IATS), son suficientes para describir completamente la naturaleza de los arribos. La variable aleatoria con distribución de Pareto para los IATS permite armar uno de estos modelos. Esta variable aleatoria exhibe algunas características importantes, según los valores de los parámetros de su Función de Densidad Probabilística (pdf). Su varianza puede ser finita o infinita. Las variables aleatorias con varianza infinita encuentran aplicación en la caracterización de tráfico de datos a ráfagas. Estos aspectos teóricos se exponen aquí con el fin de dar contexto al escenario 3 de simulación de VOIP en el sistema de ambulancias del SIAMU. En este escenario al igual que en los anteriores se realizaron simulaciones para 7, 14, 21 y 28 nodos y se simulo tráfico VOIP el cual fue modelado mediante la agregación de fuentes ON/OFF que utilizan la distribución de Pareto. Los paquetes son enviados a velocidad fija durante los periodos ON, y no se envían paquetes durante los periodos de OFF. Ambos periodos son tomados de dos variables aleatorias independientes con distribución de Pareto, teniendo un tamaño de paquete fijo. En la simulación sobre NS2 los parámetros que se utilizaron para este tipo de tráfico son: PacketSize_: Tamaño constante de los paquetes generados, burst_time_ : Tiempo promedio para el estado "encendido" del tráfico, idle_time_ : Tiempo promedio para el estado "apagado" del tráfico, set rate: Velocidad constante de transferencia de 200 Kilo bits por segundo (Kbps) y se pasó como parámetro de pareto shape 1,5 (lo que hace que tenga una varianza infinita). El largo de cada periodo de envío o no envío se realiza siguiendo una distribución Pareto: set pareto2 [new Application/Traffic/Pareto] 44 $pareto2 set packetSize_ 210 $pareto2 set burst_time_ 500ms $pareto2 set idle_time_ 500ms $pareto2 set rate_ 200k $pareto2 set shape_ 1.5 5.5 Establecimiento de la Cobertura de los Nodos Una de las características tomadas en cuenta para la realización de las simulaciones, fue la de poder instaurar el radio de cobertura de los nodos. Establecer esta cobertura no es imprescindible para hacer una simulación con NS2 pero si para obtener resultados satisfactorios en la red de ambulancias. Por defecto NS2 dispone de una gran cantidad de parámetros para la configuración de los nodos, enlaces, etc. Pero estos parámetros se pueden configurar según nuestras necesidades. No es objeto de estudio enumerar la gran cantidad de variables a configurar que existen en el NS2, así que sólo se comentara algunos de ellos. Lo primero que hay que decir al respecto de la cobertura es que no existe un parámetro configurable que establezca directamente la cobertura, pero sí se puede configurar la potencia emitida por los nodos. Partiendo de la fórmula de la potencia recibida por una antena omnidireccional: Los parámetros que aparecen en esta fórmula corresponden a: -Pt es la potencia transmitida por la antena transmisora -Pr es la potencia recibida en la antena receptora -Gt es la ganancia de la antena transmisora -Gr es la ganancia de la antena receptora -ht es la altura de la antena transmisora 45 -hr es la altura de la antena receptora -d es la distancia entre ambas antenas -L son las pérdidas Aislando la potencia transmitida de la fórmula anterior obtenemos: Como se ve la potencia transmitida se puede resumir como una función de la distancia entre antenas, además de otros valores que se comportarán como constantes. De esta forma, sabiendo cual es la cobertura máxima que deben tener los nodos, ajustaremos la potencia máxima que podrán transmitir. Pero todo esto fue programado en el NS2 como una función para que determine la potencia a trasmitir en cada uno de los escenarios. 5.6 Escenarios de Simulación En esta etapa definimos los escenarios así como las características propios de cada caso a simular. 5.6.1 Escenario 1  Zona de estudio: comprende la zona entre Catia y Cotiza  Tipo de Comunicación: Ad-Hoc pura  Protocolo de Enrutamiento: DSR Una aplicación de mensajería instantánea que permita diseminar mensajes de alerta para aquellos vehículos que puedan encontrarse con accidentes o situaciones peligrosas se adecua a este escenario debido a que lo más crítico en este tipo de aplicación es el tiempo de envío y recepción. Esta aplicación permitiría reducir la probabilidad de accidentes de tránsito y disminución de los daños y lesiones causadas por siniestros de tráfico. 5.6.2 Escenario 2 (mixto) Este escenario está representado por una red de infraestructura que está compuesta por un punto de acceso ubicado en la zona de Catia que recibe paquetes desde los nodos externos conformando así un sistema completamente centralizado 46  Zona de estudio: Comprende la zona conformada por Catia y Cotiza.  Tipo de comunicación: Infraestructura  Protocolo de Enrutamiento: DSR En las redes de este tipo, los distintos nodos inalámbricos deben asociarse a un punto de acceso (AP) para obtener servicios de la red. Para este caso en particular la red está formada por 28 nodos inalámbricos que representan las ambulancias del sistema SIAMU (SIAMU 1, SIAMU 2…. SIAMU 28) y una estación base. Una aplicación a usar en el ámbito de salud y para el sistema de ambulancias del SIAMU sería la de obtener información útil para los conductores a través del acceso al correo electrónico o navegación web, envío y recepción de estudios médicos especiales: Tomografías, resonancia magnética, etc. Esta aplicación se adecua a este escenario debido a que lo más crítico para este caso es la información y no el tiempo de envío y recepción. 5.6.3 Escenario 3 A diferencia del escenario 1 que se implementa sobre una red Ad-Hoc pura con tráfico CBR, en este caso se utiliza tráfico Pareto que se implementa en NS2, para simular voz sobre ip (VOIP).  Zona de estudio: Zona entre Catia y Cotiza.  Tipo de comunicación: Ad-Hoc pura  Protocolo de Enrutamiento: DSR Este escenario con este tipo de tráfico lo hace el más conveniente para aquellas aplicaciones en donde es de vital importancia que los datos lleguen correctamente en el menor tiempo posible como la videoconferencia y consultas a especialistas. Esta aplicación permitiría realizar el estudio clínico en equipo (Centro hospitalario-SIAMU) hacia las ambulancias. El comportamiento de la red vehicular se evalúa a través de las siguientes medidas de desempeño:  Throughput: Mide el volumen de información que fluye a través de un sistema.  Retardo extremo a extremo: Muestra el promedio de los tiempos que tardan los diferentes paquetes en cubrir la conexión extremo a extremo. 47  Jitter: Lo podemos definir como la variación en el tiempo en la llegada de los paquetes, causada por congestión de la red, pérdida de sincronización o por las diferentes rutas seguidas por los paquetes para llegar al destino.  Pérdida de paquetes: Para determinar el porcentaje de éxito de paquetes, indicando en qué grado es capaz la red de hacer llegar los paquetes a su destino final. 5.7 Implementación Para cada escenario se realiza la implementación en tres bloques bien definidos, como se muestra en la figura 5.1. FIGURA 5.1 DIAGRAMA DE BLOQUES PARA LA IMPLEMENTACIÓN 5.7.1 Primer bloque de la implementación En el primer bloque se generan los archivos de movimiento que corresponde a los modelos de movimiento. Para ello se utiliza la aplicación interna de NS2 “setdest” a fin de generar los modelos de movimiento Random Waypoint, tanto para 7, 14, 21 y 28 nodos para cada uno de los escenarios. En el segundo bloque se describen todas las especificaciones del escenario que se va a simular. 48 Finalmente se realizan las simulaciones de los escenarios, utilizando el modelo de movilidad para la cantidad de nodos y para el escenario en específico generándose así archivos de trazas tipo .tr y .nam para su análisis. En el archivo .tr se guardaran todos los eventos que se producen durante todo el tiempo de simulación; mientras que en el .nam se visualiza el desarrollo de la simulación. Se emplea el generador de modelos de movimiento setdest incluido en el simulador NS2, por ejemplo: setdest -v 2 –n 21 –s 1 –m 1 –M 27.0 –t 200 –P 1 –p 2.0 –x 200 –y 200 >archivo.tcl 5.7.2 Segundo bloque de la implementación En la implementación de los escenarios donde los nodos inalámbricos se comunican en modo ad-hoc, se definen primero los parámetros de los nodos tales como el tipo de propagación, el tipo de antena, el tipo de protocolo de enrutamiento, número de nodos móviles, etc. de la siguiente manera: Set val(chan) Channel/WirelessChannel Set val(prop) Propagation/TwoRayGround Set val(ant) Antenna/OmniAntenna Set val(rp) DSR # el protocolo de enrutamiento utilizado Set val(nn) 14 # para el caso con 14 nodos Se crea el objeto del simulador mediante el comando: Set ns [new simulator] Se abren los archivos de trazas donde se guardara toda la información obtenida por el simulador para posteriormente ser representados por NAM o XGRAPH. Set tracefd [open out.tr w] Set tracefd [open out.nam w] $ns trace-all $tracefd Se crea el objeto de la topología. 49 set topo [new Topography] Las dimensiones del área de simulación se asignan de la siguiente manera: Set god_ [create-god $val(nn)] En el objeto director general de operaciones GOD se almacena el número total de nodos móviles y el número de saltos necesarios para llegar de un nodo a otro. Para la configuración de los nodos móviles se tienen en cuenta una serie de componentes como, la capa de enlace (LL – Link Layer), interfaz de colas (IfQ), la capa MAC, el canal de envío y recepción, etc. El tipo de encolamiento en el código de la simulación es usado para dar prioridad a los paquetes del protocolo de enrutamiento; el tipo de encolamiento utilizado es CMU PriQueue, cuyo objetivo es descartar los paquetes que llegan al buffer4cuando se sobrepasa la capacidad del mismo. $ns_ node-config -adhocRouting $val(rp) \ -ll Type $val(ll) \ -mac Type $val(mac) \ -ifq Type $val(ifq) \ -ifq Len $val(ifqlen) \ -ant Type $val(ant) \ -prop Type $val(prop) \ -phy Type $val(netif) \ -topo Instance $topo \ -channel Type $val(chan) \ 4 Buffer (o búfer) en informática es un espacio de memoria, en el que se almacenan datos para evitar que el programa o recurso que los requiere, ya sea hardware o software, se quede sin datos durante una transferencia. 50 -agent Trace ON \ -router Trace ON \ -macTrace ON \ -movement Trace ON Después de configurar los nodos estos se crean como se muestra a continuación: for {set i 0} {$i < $val(nn) } {incr i} { setnode_($i) [$ns_ node ] $node_($i) random-motion 0 ;# disable random motion } La opción “random motion” se deshabilita ya que le proporciona a los nodos móviles una posición de inicio y se necesita que este desactiva ya que esta posición va a ser determinada por el modelo de movilidad que se le pasa por parámetro. Se crea el tráfico entre los dos nodos. set udp0 [new Agent/UDP] $ns_ attach-agent $node_(0) $udp0 set des1 [new Agent/Null] $ns_ attach-agent $node_(1) $des1 Conexión de los agentes creados $ns_ connect $udp0 $des1 Se define el final de la simulación y se reinician los nodos móviles. for {set i 0} {$i < $val(nn) } {incr i} { $ns_ at $val(stop) "$node_($i) reset"; } 51 Se finaliza la simulación $ns_ at $val(stop) "stop" $ns_ at $val(stop).01 "puts \"FIN DE LA SIMULACIÓN\" ; $ns_ halt" proc stop {} { global ns_ tracefdnamtrace $ns_ flush-trace close $tracefd close $namtrace execnam escenario1.nam & exit 0 } $ns_ run En la implementación para el escenario 2 la definición de los parámetros de los nodos se realiza de manera análoga a la definición de los escenarios 1 y 3, así como las demás especificaciones del escenario a diferencia del tipo de tráfico y del punto de acceso que tiene una posición fija en el área de simulación. 5.7.3 Tercer bloque de la implementación Finalmente, se realizan las simulaciones de los escenarios aplicando el modelo de movilidad, la simulación de cada escenario finalizará en el instante 200 seg. Para ejecutar estas simulaciones se realiza de la forma siguiente: Ns nombre_fichero.tcl Para ejecutar el modo gráfico mediante la herramienta NAM se deberá hacer con el comando nam seguido del archivo donde se ha guardado la simulación: Nam fichero_traza.nam 52 5.8 Cálculo de cobertura procSetPt { coverage } { setGt [Antenna/OmniAntenna set Gt_] set Gr [Antenna/OmniAntenna set Gr_] setht [Antenna/OmniAntenna set Z_] sethr [Antenna/OmniAntenna set Z_] setRXThresh [Phy/WirelessPhy set RXThresh_] set d4 [exprpow($coverage,4)] setPt [expr($RXThresh*$d4)/($Gt*$Gr*$ht*$ht*$hr*$hr)] return $Pt } En esta función se tiene por argumento la cobertura de la antena expresada en metros, se asigna al resto de variables los parámetros que tienen las antenas de los nodos y nos devuelve como resultado la potencia que debemos asignarle a las antenas para que tengan la cobertura indicada. Los parámetros de las antenas pueden ser los que vienen dados por defecto o los podemos modificar de la siguiente manera: Antenna/OmniAntenna set X_ 0 Antenna/OmniAntenna set Y_ 0 Antenna/OmniAntenna set Z_ 1.5 Antenna/OmniAntenna set Gt_ 0.2 Antenna/OmniAntenna set Gr_ 0.2 También se puede ajustar las potencias y pérdidas mediante las siguientes instrucciones: Phy/WirelessPhy set CPThresh_ 10.0 Phy/WirelessPhy set CSThresh_ 1.559e-11 53 Phy/WirelessPhy set RXThresh_ 3.652e-10 Phy/WirelessPhy set freq_ 914e+6 Phy/WirelessPhy set L_ 1.0 Phy/WirelessPhy set Pt_ [Set Pt $opt( MNcoverage)] La última sentencia es imprescindible ya que es dónde se llama a la función Set Pt que nos devuelve el valor de la potencia transmitida que debemos asignar a las antenas. 54 Capítulo 6 Análisis de los Resultados Una vez vista la base teórica y el modelo de simulación para cada escenario de comunicación entre ambulancias, se procede al análisis de los resultados obtenidos basados en cuatro medidas de desempeño tales como el Throughput, Jitter, el Retardo extremo a extremo y Pérdida de paquetes que caracterizan el tráfico de la red. Los resultados son generados a través de la aplicación de algoritmos que interpretan y analizan las trazas generadas en las simulaciones para cada escenario. Cada una de las pruebas es repetida 30 veces en condiciones similares. 6.1 Throughput en las Simulaciones El Throughput es el volumen de trabajo o de información que fluye a través de la red en un determinado tiempo, por lo que es muy importante analizar este parámetro, ya que nos permite conocer el nivel de rendimiento o capacidad de la misma. La ecuación para su cálculo se define de la siguiente manera: 6.1.1 Throughput para los escenarios 1,2 y 3 El cálculo de esta medida de desempeño esta expresada en bytes por segundo ya que el tamaño de cada paquete es de 1500 bytes y como el nodo fuente (nodo 0) transmite a 1 Mbps, el throughput será como máximo de 1 Mbps o lo que equivale a 125.000 bytes por segundo. De esta manera se puede evaluar en qué grado o con que eficiencia funciona la transmisión entre el nodo fuente y el nodo destino para distintas densidades de tráfico en cada escenario. En las gráficas 6.1, 6.2 y 6.3 se muestran los resultados del throughput para el primer, segundo y tercer escenario respectivamente observándose el mejor desempeño para 7 nodos. En general, se observa un comportamiento decreciente 55 a medida que aumenta el número de nodos, lo cual resulta lógico ya que este hecho hace que el tiempo de transmisión de los paquetes aumente, afectando con esto el volumen de información que fluye a través de la red. En las gráficas (ver anexos) se puede apreciar el throughput versus el escenario de 7, 14, 21 y 28 nodos observándose un mayor desempeño de la red para el escenario 2, esto es debido a la topología hibrida presente en este escenario donde la transmisión se realiza entre un nodo móvil de la red Ad-Hoc y un nodo fijo que representa la infraestructura de la red. También se observa que el escenario 3 que se caracteriza por un tráfico a ráfagas donde se presenta el desempeño más bajo, este resultado no garantiza que aplicaciones con fuertes restricciones en cuanto a la cantidad de recursos que demanda de la red pueda ser satisfecha, por lo tanto en el escenario 3 no es viable aplicaciones del tipo multimedia. Debido a la topología dinámica donde los enlaces se rompen frecuentemente, a su naturaleza multi-hop y a condiciones de interferencia el valor del Throughput en general se encuentra muy por debajo del valor ideal o de la tasa máxima del radio de transmisión de 125.000 bytes del nodo fuente. GRÁFICA 6.1 THROUGHPUT DE LA RED PARA EL ESCENARIO 1 5220,658667 4862,413167 4713,8082 1396,852267 0 1000 2000 3000 4000 5000 6000 7 nodos 14 nodos 21 nodos 28 nodos Troughput del Escenario 1 Bytes/seg 56 GRÁFICA 6.2 THROUGHPUT DE LA RED PARA EL ESCENARIO 2 GRÁFICA 6.3 THROUGHPUT DE LA RED PARA EL ESCENARIO 3 15673,89533 4769,275733 2313,345 2011,761067 0 2000 4000 6000 8000 10000 12000 14000 16000 18000 7 nodos 14 nodos 21 nodos 28 nodos Bytes/seg Troughput del Escenario 2 4267,669033 3205,840267 2071,7817 1362,458167 0 500 1000 1500 2000 2500 3000 3500 4000 4500 7 nodos 14 nodos 21 nodos 28 nodos Bytes/seg Troughput del Escenario 3 57 6.2 Retardo Extremo a Extremo en las Simulaciones En el desarrollo de la trasmisión puede ocurrir que los paquetes tomen un largo periodo en alcanzar su destino debido a largas colas o tomen rutas menos directas para prevenir la congestión de la red, afectando el rendimiento de las aplicaciones. Por ello lo esencial para trasmisiones de vídeo mantener un retardo extremo a extremo inferior a 150 ms. 6.2.1 Retardo Extremo a extremo para los Escenarios 1, 2 y 3 En las gráficas 6.4, 6.5 y 6.6 se muestran los resultados del retardo extremo a extremo para el primer, segundo y tercer escenario respectivamente. El escenario 1 caracterizado por una red Ad-Hoc pura y tráfico constante presenta un retardo de 65,629 ms. a 811,160 ms. Cuando el número de nodos aumenta de 7 a 28. Para el escenario 2 en el que el nodo destino esta fijo y el tráfico es constante el retardo aumenta de 86,281 ms. a 397,463 ms. y de 334,493 ms. a 777,918 ms. Para el escenario 3. Observándose el mayor retardo desde el nodo 0 al nodo 1 para el caso de 28 nodos. En general, se observa un comportamiento creciente a medida que aumenta el número de nodos, ya que los paquetes son procesados por una mayor cantidad de nodos, afectando principalmente el rendimiento en aquellas aplicaciones sensibles al retardo. En las gráficas de retardo (ver anexos) se puede apreciar el retardo extremo a extremo versus el escenario para 7, 14, 21 y 28 nodos observándose un mayor retardo en la llegada de los paquetes para 28 nodos. Análogamente como en la pérdida de paquetes, la alta movilidad presente en este tipo de redes afecta el tiempo de llegada de los paquetes. 58 GRÁFICA 6.4 PROMEDIO DEL RETARDO EXTREMO A EXTREMO PARA EL ESCENARIO 1 GRÁFICA 6.5 PROMEDIO DEL RETARDO EXTREMO A EXTREMO PARA EL ESCENARIO 2 65,629 144,214 297,248 811,160 0 100 200 300 400 500 600 700 800 900 7 Nodos 14 Nodos 21 Nodos 28 Nodos Promedio del Retardo Extremo a Extremo para Escenario1 ms 59 GRÁFICA 6.6 PROMEDIO DEL RETARDO EXTREMO A EXTREMO PARA EL ESCENARIO 3 334,493 346,451 516,734 777,918 0 100 200 300 400 500 600 700 800 900 Promedio del Retardo Extremo a Extremo para Escenario 3 ms 7 Nodos 14 Nodos 21 Nodos 28 Nodos 60 6.3 Jitter en las Simulaciones El jitter constituye un rasgo característico de las redes de datos no orientadas a conexión, basadas en conmutación de paquetes. Debido a que la información se discretiza en paquetes, donde cada uno de ellos puede seguir una ruta distinta para llegar al destino. El jitter se define formalmente como la variación temporal, de naturaleza estadística, que experimenta el retardo en una transmisión inicial y final de una comunicación, causada por congestión en la red, pérdida de sincronización o por las diferentes rutas seguidas por los paquetes para alcanzar el destino. Este efecto es especialmente molesto en comunicaciones en tiempo real, ya que provoca que algunos paquetes lleguen demasiado pronto o tarde para ser entregados a tiempo. Informaciones críticas tienen que enviarse y recibirse en un tiempo determinado. Si el jitter es demasiado grande, no puede asegurarse que estas informaciones críticas lleguen a tiempo. El jitter entre el punto inicial y final de una comunicación debiera ser inferior a 100 ms, en caso contrario este valor debe minimizarse. Atendiendo al estándar del protocolo de tiempo real (RTP RFC 3550) es posible calcular el jitter entre llegadas. Se calcula con la diferencia D que es el tiempo de transito relativo entre el tiempo de un paquete en el origen y el tiempo de llegada del paquete medido en las mismas unidades. Si el tiempo de un paquete en origen para el paquete i es Si y Ri es el tiempo de llegada del paquete i, entonces para dos paquetes i y j, D puede expresarse. D(i,j) = (Rj - Ri) - (Sj - Si) = (Rj - Sj) - (Ri - Si) El jitter debería ser calculado continuamente usando la diferencia D para el paquete i y el paquete previo i-1 en orden de llegada no necesariamente en secuencia, de acuerdo con la fórmula: J(i) = J(i-1) + (|D(i-1,i)| - J(i-1))/16 La ecuación corresponde a un estimador óptimo de primer orden, en el que un factor de ganancia 1/16 ofrece un margen moderado de reducción del ruido. Los resultados para el Jitter son generados a través de la depuración y análisis de las trazas generadas en cada uno de los tres escenarios. 61 6.3.1 Jitter para los Escenarios 1, 2 y 3 En las gráficas 6.7, 6.8 y 6.9 se muestran los promedios del Jitter para el primer, segundo y tercer escenario. En el primer escenario los valores van de 365,28 ms a 1792,246 ms., de 168,441 ms. a 1017,566 ms. para el escenario 2 y de 304,746 ms. a 1169,292 ms. para el escenario 3. Se observa que los valores del jitter aumentan en cada uno de los escenarios a medida de que aumenta el número de nodos, observándose los valores de jitter más bajo para el escenario 2. GRÁFICA 6.7 PROMEDIO DEL JITTER PARA EL ESCENARIO 1 365,280 534,336 577,783 1792,246 0 200 400 600 800 1000 1200 1400 1600 1800 2000 7 nodos 14 nodos 21 nodos 28 nodos Promedio del Jitter del Escenario 1 ms 62 GRÁFICA 6.8 PROMEDIO DEL JITTER PARA EL ESCENARIO 2 GRÁFICA 6.9 PROMEDIO DEL JITTER PARA EL ESCENARIO 3 168,441 407,778 946,150 1017,565 0 200 400 600 800 1000 1200 7 nodos 14 nodos 21 nodos 28 nodos ms Promedio del Jitter del Escenario 2 304,746 404,622 689,194 1169,292 0 200 400 600 800 1000 1200 1400 7 nodos 14 nodos 21 nodos 28 nodos Promedio del Jitter del Escenario 3 ms 63 6.4 Pérdida de paquetes en las Simulaciones La pérdida de paquetes ocurre cuando uno o más paquetes de datos que viajan en una red y fallan en alcanzar su destino. La causa de la pérdida de paquetes es debida a varios factores, entre los que se puede nombrar, degradación de la señal al viajar por el medio, interconexiones de la red sobre saturada, paquetes con error retrasados en el tránsito, falla en el hardware de la red o rutinas normales de enrutamiento. Cuando la pérdida de paquetes es causada por problemas en la red, estas pérdidas causan fallas notables en el desempeño de la misma. Para el cálculo de esta medida de desempeño se usó la herramienta awk y algoritmos implementados en está, que permitieron filtrar y calcular la cantidad de paquetes enviados y recibidos de la data arrojada en las simulaciones. 6.4.1 Pérdida de paquetes para los Escenarios 1, 2 y 3 En las gráfica 6.10 se observa la cantidad de paquetes enviados y recibidos para el escenario 1 obteniéndose un porcentaje máximo de paquetes perdidos de 16 %, este valor se puede apreciar en la gráfica 6.11. En el primer escenario para 7 nodos se muestra un valor mínimo de 18583 paquetes enviados que corresponde al menor número de estos, de los cuales se pierden 2004 con un valor máximo de 34228 paquetes para el 100%. En la simulación correspondiente a 28 nodos se pierden 5752 paquetes, obteniéndose para este escenario un porcentaje de pérdidas entre el 10% y 16%. Análogamente para el escenario 2 se observa un valor mínimo de 15855 paquetes enviados de los cuales se pierden 1354 con un valor máximo de 34672 paquetes enviados, resultando de estos 4984 paquetes perdidos obteniéndose para el escenario 2 un porcentaje de paquetes perdidos entre el 8% y el 16%, como se muestra en las gráficas 6.12 y 6.13. El valor mínimo para el escenario 3 es de 13079 paquetes enviados observado en la gráfica 6.14 de los cuales se pierden 1745 y de 24604 paquetes para el valor máximo, perdiéndose de estos 5153, resultando las pérdidas entre 13% y 21%, como se observa en la gráfica 6.15. 64 GRÁFICA 6.10 PAQUETES ENVIADOS Y RECIBIDOS DEL ESCENARIO 1 GRÁFICA 6.11 PORCENTAJE DE PAQUETES PERDIDOS PARA EL ESCENARIO 1 10 % 8 % 12 % 16 % 0 2 4 6 8 10 12 14 16 18 PORCENTAJE DE PAQUETES PERDIDOS ESCENARIO 1 7 NODOS 14 NODOS 21 NODOS 28 NODOS N u m e ro d e P e rd id a s 18583 20038 23874 34228 16579 18291 20327 28476 0 5000 10000 15000 20000 25000 30000 35000 40000 7 NODOS 14 NODOS 21 NODOS 28 NODOS PAQUETES ENVIADOS Y RECIBIDOS ESCENARIO 1 N u m e ro d e P aq u e te s Enviados Recibidos Área: 200m x 200m Cobertura: 50 m Tiempo Simulación: 200 segundos 65 GRÁFICA 6.12 PAQUETES ENVIADOS Y RECIBIDOS DEL ESCENARIO 2 GRÁFICA 6.13 PORCENTAJE DE PAQUETES PERDIDOS PARA EL ESCENARIO 2 8 % 9 % 12 % 16 % 0 2 4 6 8 10 12 14 16 18 7 NODOS 14 NODOS 21 NODOS 28 NODOS N u m e ro d e P é rd id a s PORCENTAJE DE PAQUETES PERDIDOS ESCENARIO 2 15855 20801 25206 34672 14501 18455 21785 29688 0 5000 10000 15000 20000 25000 30000 35000 40000 7 NODOS 14 NODOS 21 NODOS 28 NODOS PAQUETES ENVIADOS Y RECIBIDOS ESCENARIO 2 N u m e ro d e P aq u e te s Enviados Recibidos Área: 200m x 200m Cobertura: 50 m Tiempo Simulación: 200 segundos 66 GRÁFICA 6.14 PAQUETES ENVIADOS Y RECIBIDOS PARA EL ESCENARIO 3 GRÁFICA 6.15 PORCENTAJE DE PAQUETES PERDIDOS PARA EL ESCENARIO 3 13 % 10 % 15 % 21 % 0 5 10 15 20 25 7 NODOS 14 NODOS 21 NODOS 28 NODOS PORCENTAJE DE PAQUETES PERDIDOS ESCENARIO 3 N u m e ro d e P e rd id a s 13079 15463 18306 24604 11334 13828 15393 19451 0 5000 10000 15000 20000 25000 30000 7 NODOS 14 NODOS 21 NODOS 28 NODOS PAQUETES ENVIADOS Y RECIBIDOS ESCENARIO 3 N u m e ro d e P aq u e te s Enviados Recibidos Área: 200m x 200m Cobertura: 50 m Tiempo Simulación: 200 segundos 67 En general se observa que esta medida de desempeño presenta un comportamiento creciente a medida que aumenta el número de nodos debido a la variabilidad de la topología presente en este tipo de redes que hacen la pérdida de paquetes sea mayor. Por otra parte como efecto del movimiento de los nodos a una determinada velocidad es de esperarse cambios en las condiciones del canal inalámbrico que afecten el porcentaje de pérdida de paquetes. Con relación a la pérdida de paquetes versus el escenario (ver anexo) se observa que la menor pérdida se presenta para el escenario 2. 68 Capítulo 7 Conclusiones En el transcurso de los siete capítulos de este trabajo de grado, se llevó a cabo una incursión en profundidad en el campo de las redes vehiculares. Dando a conocer el concepto de VANET su enorme potencial, la amplia gama de sus aplicaciones y ventajas que aportan de cara a la seguridad vial, principalmente. El futuro del campo de la comunicación entre vehículos y su seguridad, pasa por la implementación de sistemas de comunicación ínter-vehiculares que funcionen sobre este tipo de redes donde la fase de simulaciones es necesaria antes de su implementación debido a los beneficios que esto conlleva. La simulación tiene un rol absolutamente principal en el mundo de las redes vehiculares hacia su completo desarrollo e implementación. Gracias al simulador de red y herramientas auxiliares de modelado de la realidad, se pueden obtener resultados fiables sin necesidad de recurrir a experimentos de campo, lo que permite llegar a nuevas soluciones sin la implicación de inversiones innecesarias, ni de construcción de costosas infraestructuras. Las simulaciones realizadas se llevaron a cabo en un departamento dependiente del estado específicamente del Ministerio del Poder Popular para la Salud, esperamos que sean tomados en cuenta a la hora de mejorar las comunicaciones entre su red de ambulancias y en otro sistema de comunicación que se crea conveniente innovar. El comportamiento de la red para cada escenario es influenciado por varios aspectos. Uno de ellos es el modelo de movilidad ya que los tiempos de pausa afectan en mayor o menor grado la movilidad los nodos. Otro aspecto es el algoritmo de enrutamiento el cual permite establecer varias rutas a la vez permitiendo una reacción más eficiente ante fallos o saturación cuando el número de nodos es bajo, además de ser robusto frente al hecho de que los nodos sean móviles. El tipo de red Ad-Hoc pura o de infraestructura también influye en el comportamiento, la ventaja de este último tipo de red radica en que reduce la 69 complejidad de los nodos móviles, dado que las estaciones no necesitan mantener información de los nodos vecinos. Por último el aumento del número de nodos en una red Ad-Hoc, provoca incremento en la carga ya que se agregan paquetes de control que son intercambiados entre los nodos para mantener la ruta, esto consume el ancho de banda de la red por lo que ocasiona el descenso del Throughput, así como el aumento de la pérdida de paquetes y del retardo para todos los escenarios. En los resultados de la evaluación de la red para cada uno de los escenarios los valores obtenidos en cada una de las medidas de desempeño resultaron más favorables para el segundo escenario donde se reduce considerablemente la complejidad de los nodos móviles por ser una red de infraestructura, en comparación con el primer y tercer escenario donde hay redes Ad-Hoc puras. Por lo anteriormente dicho se puede concluir que la aplicación propuesta para el escenario 2 es la más viable a ser implementada en el sistema SIAMU, lo cual permitirá mejorar la calidad de vida de los ciudadanos capitalinos, dando respuestas más oportunas y acertadas en la prestación de los servicios de ambulancias. 7.1 Contribuciones Este trabajo de grado es una herramienta de gran utilidad para sustentar la labor de la comunidad desarrolladora en materia de redes y sistemas de comunicación. En él se llevó a cabo una tarea de investigación y análisis de los problemas existentes y requerimientos en pro del uso y expansión de las VANETS a través de simulaciones de escenarios reales donde la simulación en este ámbito es fundamental. En este sentido, los esfuerzos se destinaron a indagar sobre las herramientas que se disponen, y en mucha mayor profundidad sobre NS2 como herramienta más robusta para este tipo de estudios. En este estudio, las conclusiones obtenidas y los pasos para la puesta en marcha y uso de NS2 que han sido descritos, suponen una guía que se ofrece a la comunidad científica, investigadora y en general a los administradores de 70 servicios, para poner en práctica el desarrollo e implementación de redes Ah Hoc y así obtener un mayor rendimiento y eficiencia en sus actividades. En definitiva, la labor reflejada en este trabajo de grado, aporta un pilar más en el uso de las redes vehiculares, particularmente desde la óptica del desarrollador de sistemas de comunicación y redes, a la vez que es contribución a las instituciones públicas como son los centros de salud en pro de servicios públicos más eficaces y eficientes para la comunidad. 7.2 Limitaciones Entre los problemas encontrados a lo largo de la fase de desarrollo y de la fase de pruebas se encuentran son los siguientes:  Problema en el cálculo de rutas por su ineficiencia. Debido a que existe una gran cantidad de vehículos queriendo crear su ruta, gráficamente se veía que la simulación no era fluida como se esperaba. Para solucionar este problema se aplicaron las técnicas de lectura del archivo por parámetro en el código: El archivo es el modelo de movilidad generado con las características más cercanas a la realidad del sistema de ambulancias SIAMU y de su funcionamiento.  Otra limitante que representó un problema para la ejecución del código de la herramienta de comandos orientada a objetos (OTCL) de NS2, fue como insertar el archivo de movilidad dentro del código de la simulación lo cual se resolvió pasando por parámetros este archivo y así lograr la ejecución de la simulación.  La poca información en cuanto a la programación OTCL de NS2 y los ejemplos de los manuales y trabajos anteriores realizados eran básicos con respecto a lo que se quería lograr en las simulaciones. 7.3 Trabajos Futuros Estos estudios, dan una buena aproximación del funcionamiento de las redes Vehiculares Ah Hoc en escenarios realistas, tanto en vías urbanas como interurbanas donde presentan unas características muy especiales, que hacen que su funcionamiento sea muy complicado e incluso imposible en ciertos entornos (zonas de difícil acceso, zonas de las vías saturadas con gran cantidad de vehículos intentando acceder de manera simultánea, alta afluencia de motorizados etc…). Sin embargo con este trabajo de grado se abre 71 un conjunto de posibilidades sobre las que puede resultar de interés profundizar y que a continuación se enumeran:  Simulaciones: Optimizar el comportamiento mediante la carga de extensiones al NS2 que consigan simular de forma más real las comunicaciones. Utilización de las simulaciones a otros escenarios no solo de ambulancias sino de distintos vehículos.  Nuevos protocolos: Diferentes estudios en esta área muestran que los mejores protocolos para redes VANETS son aquellos que tienen en cuenta la posición geográfica de los nodos. Se pretende optimizar los ya existentes así como diseñar nuevos protocolos que optimicen el rendimiento de estas redes.  Prototipos y demostraciones: Realización de simulaciones en escenarios para medir su rendimiento real, con varios protocolos, mecanismos de búsquedas de gateways, auto configuración, seguridad, etc. 72 REFERENCIAS BIBLIOGRAFICAS [1] Pau Seguí, Smart City, ventajas y desventajas: ¿Qué es una Smart City o ciudad inteligente?… ventajas y desventajas de un sistema teóricamente sostenible, sitio digital 'Ovacen', 13 de septiembre de 2013. [2] Hannes Hartenstein y Kenneth P. Laberteau. A Tutorial Survey on Vehicular Ad Hoc Networks. IEEE Communications Magazine, Junio, 2008 [3] VANET 2006, The Third ACM International Sponsored by ACM SIGMOBILE, Workshop on Vehicular Ad Hoc Networks, In conjunction with ACM Mobi Com, Los Angeles, 2006. [4] Eichler, S., Schroth, C., Eberspächer, J., Car-to-Car Communication, VDE Congress “Innovations for Europe”, Poster session, Institute of Communication Networks, Technische Universität München, München, 2006. [5] Vehicular Ad-Hoc Network (VANET), http://en.wikipedia.org/wiki/VANET [6] Eichler, S., Schroth, C., Eberspächer, J., Car-to-Car Communication Institute of Communication Networks, Technische Universität München and Institute of Media and Communication Management, SAP Research CEC, University of St. Gallen, München, 2006. [7] Blanco, J. I., Hernandez Suarez, C. A., &Salcedo Parra, O. J. ESTADO DEL ARTE EN REDES VANET Y CADENAS DE MARKOV, Vol.1, 16.Noviembre de 2010 [8] Maldonado Narváez, Comparación de protocolos de enrutamiento y modelos de movilidad para Redes Ad-Hoc Vehiculares. (2012). Trabajo de fin de titulación. Ecuador: Universidad Católica de Loja. Obtenido de http://webcache.googleusercontent.com/search?q=cache:uA0ETPtFjJQJ:cepra.utp l.edu.ec/bitstream [9] D. B. Johnson, D. A. Maltz. DSR: The Dynamic Source Routing Protocol for Multihop Wireless Ad Hoc Networks. http://en.wikipedia.org/wiki/VANET 73 [10] A. Padilla, J. Becerra, L. Yasmin; Manual de prácticas con NS2. Grupo de investigación en Telecomunicaciones, Facultad de Ingeniería Electrónica, Universidad Pontificia Bolivariana. Bucaramanga, 2008. [11] D Krajzewicz and M. Behrisch, L. Bieker, J. Erdmann, SUMO homepage.[Online]. Available:http://sumo.sourceforge.net/, accessed January 26, 2011 [12] T. Camp, J. Boleng, V. Davies, A Survey of Mobility Models for Ad Hoc Network Research, Wireless Communication & Mobile Computing, Vol. 2, No. 5, pp. 483-502, 2002 74 ANEXOS 75 Anexo 1: Lecturas obtenidas para el Throughput GRÁFICA ANEXOS 1: THROUGHPUT VS ESCENARIO PARA 7 NODOS GRÁFICA ANEXOS 2: THROUGHPUT VS ESCENARIO PARA 14 NODOS 5220,658667 15673,89533 4267,669033 0 2000 4000 6000 8000 10000 12000 14000 16000 18000 Escenario 1 Escenario 2 Escenario 3 Troughput para 7 nodos Bytes/seg 4862,413167 4769,275733 3205,840267 0 1000 2000 3000 4000 5000 6000 Escenario 1 Escenario 2 Escenario 3 Bytes/se g Troughput para 14 nodos 76 GRÁFICA ANEXOS 3: THROUGHPUT VS ESCENARIO PARA 21 NODOS GRÁFICA ANEXOS 4: THROUGHPUT VS ESCENARIO PARA 28 NODOS 4713,8082 2313,345 2071,7817 0 500 1000 1500 2000 2500 3000 3500 4000 4500 5000 Escenario 1 Escenario 2 Escenario3 Troughput para 21 nodos Bytes/seg 1396,852267 2011,761067 1362,458167 0 500 1000 1500 2000 2500 Escenario 1 Escenario 2 Escenario3 Troughput para 28 nodos Bytes/seg 77 Anexo 2: Lecturas obtenidas para el Retardo Extremo a Extremo GRÁFICA ANEXOS 5: RETARDO EXTREMO A EXTREMO PARA 7 NODOS GRÁFICA ANEXOS 6: RETARDO EXTREMO A EXTREMO PARA 14 NODOS 65,629 86,281 334,493 0 50 100 150 200 250 300 350 400 Retardo Extremo a Extremo vs Escenario para 7 Nodos Escenario 1 Escenario 2 Escenario 3 144,214 109,312 346,451 0 50 100 150 200 250 300 350 400 Retardo Extremo a Extremo vs Escenario para 14 Nodos Escenario 1 Escenario 2 Escenario 3 ms ms. 78 GRÁFICA ANEXOS 7: RETARDO EXTREMO A EXTREMO PARA 21 NODOS GRÁFICA ANEXOS 8: RETARDO EXTREMO A EXTREMO PARA 28 NODOS 297,248 354,781 516,734 0 100 200 300 400 500 600 Escenario 1 Escenario 2 Escenario 3 Retardo Extremo a Extremo vs Escenario para 21 Nodos ms 811,160 397,4637 777,918 0 100 200 300 400 500 600 700 800 900 Escenario 1 Escenario 2 Escenario 3 Retardo Extremo a Extremo vs Escenario para 28 Nodos ms 79 Anexo 3: Lecturas obtenidas para la pérdida de paquetes GRÁFICA ANEXOS 9: PÉRDIDA DE PAQUETES VERSUS ESCENARIO PARA 7 NODOS GRÁFICA ANEXOS 10: PÉRDIDA DE PAQUETES PARA 14 NODOS 10 % 9 % 13% 0 2 4 6 8 10 12 14 16 PORCENTAJE DE PAQUETES PÉRDIDOS VS ESCENARIO PARA 7 NODOS ESCENARIO 1 ESCENARIO 2 ESCENARIO 3 P o rc e n ta je d e P é rd id a s 9 % 12 % 11 % 0 2 4 6 8 10 12 14 ESCENARIO 1 ESCENARIO 2 ESCENARIO 3 PORCENTAJE DE PAQUETES PÉRDIDOS VS ESCENARIO PARA 14 NODOS P o rc e n ta je d e P é rd id a s 80 GRÁFICA ANEXOS 11: PÉRDIDA DE PAQUETES PARA 21 NODOS GRÁFICA ANEXOS 12: PÉRDIDA DE PAQUETES PARA 28 NODOS 13 % 13 % 16 % 0 2 4 6 8 10 12 14 16 18 ESCENARIO 1 ESCENARIO 2 ESCENARIO 3 PORCENTAJE DE PAQUETES PÉRDIDOS VS ESCENARIO PARA 21 NODOS P o rc e n ta je d e P é rd id a s 17 % 14 % 21 % 0 5 10 15 20 25 ESCENARIO 1 ESCENARIO 2 ESCENARIO 3 PORCENTAJE DE PAQUETES PÉRDIDOS VS ESCENARIO PARA 28 NODOS P o rc e n ta je d e P é rd id a s