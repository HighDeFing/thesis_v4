Universidad Central de Venezuela Facultad de Ciencias Escuela de ComputaciÃ³n Laboratorio de Inteligencia Artificial OpciÃ³n profesional: Inteligencia Artificial Trabajo Especial de Grado presentado ante la Ilustre Universidad Central de Venezuela para optar al tÃ­tulo de Licenciada en ComputaciÃ³n, por la Bachiller: Grindeliz A. Altuve F. Tutora: Profa. Haydemar NÃºÃ±ez Caracas, Abril de 2015. UNA APLICACIÃ“N BASADA EN TÃ‰CNICAS DE MINERÃA DE DATOS PARA LA EVALUACIÃ“N DE LA MORFOLOGÃA DE CABEZA DE ESPERMATOZOIDE HUMANO 2 RESUMEN El AnÃ¡lisis de LÃ­quido Seminal (ALS), tambiÃ©n llamado espermograma, es un examen diagnÃ³stico que permite evaluar la fertilidad masculina. El ALS se basa en un conjunto de pruebas (macroscÃ³picas y microscÃ³picas) que proporcionan informaciÃ³n sobre la calidad de una muestra de semen humana. Entre las evaluaciones microscÃ³picas resalta la morfologÃ­a espermÃ¡tica, la cual permite determinar el estado general de los espermatozoides. La realizaciÃ³n de esta prueba es compleja y vulnerable a la subjetividad del experto. Con el fin de apoyar este proceso, se desarrollÃ³ una aplicaciÃ³n que realiza la evaluaciÃ³n morfolÃ³gica de cabeza de espermatozoide humano. Para esto se definiÃ³ un modelo de clasificaciÃ³n basado en minerÃ­a de datos, especÃ­ficamente utilizando la tÃ©cnica de CombinaciÃ³n de Clasificadores (Ensemble Classifiers). Esta aplicaciÃ³n toma como entrada imÃ¡genes digitales de una muestra de semen, segmenta y extrae las caracterÃ­sticas en cada uno de los espermatozoides presentes, para luego clasificar la muestra de acuerdo al protocolo que sigue el experto al realizar la evaluaciÃ³n. Para la verificaciÃ³n y validaciÃ³n de la aplicaciÃ³n se clasificÃ³ un grupo de doce muestras de semen, para luego comparar los resultados obtenidos con la clasificaciÃ³n realizada por un experto al mismo grupo de muestras. Se pudo constatar que la cantidad de muestras clasificadas morfolÃ³gicamente de forma correcta por la aplicaciÃ³n fue de un 75%. Palabras Claves: AnÃ¡lisis del LÃ­quido Seminal, MorfologÃ­a espermÃ¡tica, MinerÃ­a de datos, CombinaciÃ³n de Clasificadores. 3 ÃNDICE PÃ¡gina INTRODUCCIÃ“N .............................................................................................................................. 4 CAPÃTULO 1. MARCO TEÃ“RICO ................................................................................................. 6 1.1. AnÃ¡lisis de lÃ­quido seminal .................................................................................................. 6 1.2. MinerÃ­a de datos ................................................................................................................... 9 1.2.1 Proceso de descubrimiento de conocimiento a partir de datos ............................ 10 1.2.2. Tareas de la minerÃ­a de datos ................................................................................... 13 1.2.3. TÃ©cnicas de la minerÃ­a de datos ............................................................................... 14 1.2.4. EvaluaciÃ³n de modelos de minerÃ­a de datos .......................................................... 21 1.2.5. CombinaciÃ³n de modelos de minerÃ­a de datos ...................................................... 23 1.2.6. AplicaciÃ³n de la minerÃ­a de datos en medicina y Ã¡reas relacionadas ................ 25 CAPÃTULO 2. MARCO APLICATIVO .......................................................................................... 29 2.1. Planteamiento del problema ............................................................................................. 29 2.2. Objetivos .............................................................................................................................. 31 2.3. MÃ³dulo de segmentaciÃ³n y extracciÃ³n de caracterÃ­sticas ............................................ 31 2.4. MÃ³dulo de clasificaciÃ³n de espermatozoides ................................................................. 36 2.5. MÃ³dulo de creaciÃ³n de un nuevo modelo de clasificaciÃ³n ........................................... 37 2.6. EstimaciÃ³n del modelo de clasificaciÃ³n ........................................................................... 38 2.7. Desarrollo de la aplicaciÃ³n ................................................................................................ 43 2.7.1 Casos de uso ................................................................................................................ 43 2.7.2 TecnologÃ­as utilizadas ................................................................................................. 58 2.7.3. DiseÃ±o de la interfaz ................................................................................................... 58 2.8. EvaluaciÃ³n de la aplicaciÃ³n ............................................................................................... 69 CONCLUSIONES Y RECOMENDACIONES ............................................................................. 77 REFERENCIAS .............................................................................................................................. 79 ANEXOS .......................................................................................................................................... 82 4 INTRODUCCIÃ“N En los Ãºltimos aÃ±os se ha producido un crecimiento exponencial de datos debido a la disponibilidad de almacenamiento y el gran nivel de procesamiento en las mÃ¡quinas actuales. Datos como: textos, imÃ¡genes, videos, y cualquier otro tipo utilizado en diferentes aspectos de la vida diaria, pueden ser perfectamente digitalizados y almacenados en bases de datos. Dichos datos poseen una gran cantidad de conocimiento Ãºtil, desconocido y no procesado. Es en este punto, donde la minerÃ­a de datos tiene un papel protagÃ³nico al proporcionar distintas tÃ©cnicas que pueden ser utilizadas para encontrar patrones, modelos y relaciones entre los datos, que ayuden en la toma de decisiones. Existen mÃºltiples Ã¡reas donde la minerÃ­a de datos puede ser aplicada, pero es en el campo de la medicina donde este trabajo enfocarÃ¡ su atenciÃ³n. En muchas clÃ­nicas y hospitales, como resultado de atender a una gran cantidad de pacientes con distintas patologÃ­as, se genera una gran cantidad de informaciÃ³n de gran valor para las investigaciones mÃ©dicas y cientÃ­ficas. Entre estos estudios se encuentra el AnÃ¡lisis del LÃ­quido Seminal (ALS) o tambiÃ©n llamado espermograma, el cual se realiza en el Ã¡rea de la bioquÃ­mica. Este anÃ¡lisis provee informaciÃ³n valiosa en procedimientos de reproducciÃ³n asistida. El espermograma se basa en un conjunto de pruebas macroscÃ³picas y microscÃ³picas que proporcionan informaciÃ³n sobre la calidad de una muestra de semen humana, clasificÃ¡ndolo segÃºn criterios preestablecidos por la OrganizaciÃ³n Mundial de la Salud, OMS (2001). Las pruebas macroscÃ³picas analizan caracterÃ­sticas fÃ­sico-quÃ­micas del semen, tales como aspecto, licuefacciÃ³n, volumen, color, viscosidad y pH. Mientras que las pruebas microscÃ³picas toman en cuenta aspectos como movilidad, vitalidad, morfologÃ­a de los espermatozoides en la muestra, entre otros. En el caso de la evaluaciÃ³n de la morfologÃ­a, el experto debe contar manualmente 200 espermatozoides y clasificarlos de acuerdo a sus caracterÃ­sticas morfolÃ³gicas; de igual forma, debe poder diferenciarlos de otras estructuras presentes en la muestra, siendo vulnerable a la subjetividad del experto. Es importante destacar que los resultados obtenidos deben ser confiables y reproducibles para poder ser interpretados de la misma forma por distintos expertos en el Ã¡rea. No obstante, la realizaciÃ³n de este estudio resulta compleja, debido al esfuerzo y tiempo que debe ser invertido. En la Escuela de ComputaciÃ³n de la Universidad Central de Venezuela se han realizado Trabajos de investigaciones cuyos objetivos se centran en la automatizaciÃ³n de la evaluaciÃ³n morfolÃ³gica de espermatozoides humanos. Uno de ellos es el presentado por Ferreira (2008), el cual consistiÃ³ en la construcciÃ³n de una herramienta de adquisiciÃ³n de conocimiento, la cual identificara y extrajera de forma automÃ¡tica caracterÃ­sticas de cÃ©lulas espermÃ¡ticas humanas, y que funcionara a partir de la definiciÃ³n de un modelo basado en tÃ©cnicas de procesamiento digital de imÃ¡genes. Sin embargo la clasificaciÃ³n 5 morfolÃ³gica seguÃ­a dependiendo del conocimiento y subjetividad del experto. Es por esto que surge la investigaciÃ³n de CasaÃ±as, Ramos, y NÃºÃ±ez (2009), Ã©sta se centrÃ³ en la construcciÃ³n de un modelo de clasificaciÃ³n morfolÃ³gico de espermatozoides humanos, haciendo uso de distintos algoritmos de minerÃ­a de datos y tomando como conjunto de datos los vectores de caracterÃ­sticas extraÃ­dos de la investigaciÃ³n de Ferreira (2008). Sin embargo, estas aproximaciones no se encuentran integradas en una Ãºnica aplicaciÃ³n que sirva de apoyo al experto. AdemÃ¡s, presentan ciertas caracterÃ­sticas desfavorables que necesitan ser mejoradas, tal es el caso de los algoritmos de segmentaciÃ³n diseÃ±ados por Ferreira (2008), los cuales permiten identificar los espermatozoides presentes en una muestra, pero no se encuentran adaptados para tratar con imÃ¡genes de mayor resoluciÃ³n a la establecida en su aplicaciÃ³n (1600x1200 pÃ­xeles). Con el fin de subsanar estos problemas, en este Trabajo Especial de Grado, se describe el desarrollo de una aplicaciÃ³n, basada en minerÃ­a de datos, para apoyar al experto en la evaluaciÃ³n morfolÃ³gica de cabeza de espermatozoides humanos, a partir de imÃ¡genes digitalizadas de las muestras de semen. La aplicaciÃ³n permitirÃ¡ la carga de imÃ¡genes (de mayor resoluciÃ³n a 1600x1200 pÃ­xeles) correspondientes a lÃ¡minas de muestras de semen, y estarÃ¡ en capacidad de realizar la evaluaciÃ³n de la morfologÃ­a espermÃ¡tica de las muestras suministradas (de forma automÃ¡tica). Este documento estÃ¡ estructurado de la siguiente manera. En el CapÃ­tulo 1, se presentan de manera general los conceptos bÃ¡sicos del AnÃ¡lisis de LÃ­quido Seminal, asÃ­ como los relacionados con la minerÃ­a de datos, el proceso de descubrimiento de conocimiento a partir de datos y la combinaciÃ³n de modelos (Ensemble Classifiers). TambiÃ©n se describen algunas aplicaciones de la minerÃ­a de datos en el campo de la medicina. En el CapÃ­tulo 2 se presenta la propuesta de Trabajo Especial de Grado, y se incluye un anÃ¡lisis detallado de los distintos mÃ³dulos que conforman la aplicaciÃ³n desarrollada (SegmentaciÃ³n, ExtracciÃ³n de caracterÃ­sticas y ClasificaciÃ³n). Para finalizar, se presenta el anÃ¡lisis de los resultados obtenidos al realizar la evaluaciÃ³n de la aplicaciÃ³n, asÃ­ como las conclusiones y recomendaciones para trabajos futuros. 6 CAPÃTULO 1. MARCO TEÃ“RICO 1.1. AnÃ¡lisis de lÃ­quido seminal El AnÃ¡lisis del LÃ­quido Seminal (ALS), tambiÃ©n llamado espermograma, es un examen diagnÃ³stico que permite evaluar la fertilidad masculina, asÃ­ como tambiÃ©n estimar el completo funcionamiento del aparato reproductor masculino (Ramos, Pereira, NÃºÃ±ez & others, 2007). TambiÃ©n, el espermograma puede ser utilizado para uso posterior, luego de una intervenciÃ³n mÃ©dico-quirÃºrgica como una vasectomÃ­a; de igual forma, es de gran utilidad en otros chequeos pre y post-operatorios. El ALS estÃ¡ compuesto de un conjunto de pruebas macroscÃ³picas y microscÃ³picas (Mortimer, 1994). Las pruebas macroscÃ³picas analizan caracterÃ­sticas fÃ­sico-quÃ­micas del semen, tales como aspecto, licuefacciÃ³n, volumen, color, viscosidad y pH, mientras que las microscÃ³picas evalÃºan concentraciÃ³n, aglutinaciÃ³n, motilidad, vialidad, morfologÃ­a espermÃ¡tica, entre otras. (PadrÃ³n, FernÃ¡ndez & Gallardo, 1988; Cerezo, 2006). En algunos casos, es necesario aplicar un conjunto de evaluaciones adicionales llamadas complementarias con el fin de obtener mÃ¡s informaciÃ³n acerca de la capacidad fertilizadora del semen (Ramos, 2009). A continuaciÃ³n, se resume el conjunto de pruebas que componen el ALS. - Evaluaciones MacroscÃ³picas ï‚· Aspecto: Se analiza la homogeneidad o heterogeneidad de la muestra, color, presencia de cuerpos mucosos y fibrinas, opacidad o transparencia. ï‚· LicuefacciÃ³n: Se analiza la consistencia, puede ser lÃ­quida o con coÃ¡gulos. ï‚· Volumen: Debe ser medido utilizando una pipeta volumÃ©trica, y el valor normal se encuentra entre los 2 y 6ml. ï‚· Viscosidad: Es la propiedad de resistencia de un lÃ­quido al movimiento uniforme de su masa. Esta se reporta normal en caso de observar un filamento menor a 2cm y aumentado en caso que el filamento sea mayor a 2cm. ï‚· pH: Este se mide utilizando un papel especial de rango de 2 a 9, al cabo de 30 segundos se debe observar el color de la zona impregnada y se compara con la cartilla de calibraciÃ³n. El valor de referencia considerado normal es mayor de 7.2. 7 - Evaluaciones MicroscÃ³picas ï‚· AglutinaciÃ³n: Es la uniÃ³n entre espermatozoides mÃ³viles por cualquiera de sus partes. ï‚· ConcentraciÃ³n: Es la cantidad de espermatozoides presentes en la muestra por unidad de volumen. ï‚· Motilidad: Permite contar los espermatozoides mÃ³viles e inmÃ³viles en una muestra. Los espermatozoides mÃ³viles pueden clasificarse segÃºn su progresividad: o MÃ³viles progresivos rÃ¡pidos o MÃ³viles progresivos lentos o MÃ³viles no progresivos ï‚· Viabilidad o vitalidad espermÃ¡tica: Es la proporciÃ³n entre los espermatozoides inmÃ³viles vivos y los inmÃ³viles muertos. ï‚· Elementos celulares diferentes: Se busca la presencia de cÃ©lulas epiteliales e inmaduras, leucocitos, eritrocitos, bacterias y otros residuos. ï‚· MorfologÃ­a EspermÃ¡tica: Permite evaluar las partes o regiones que constituyen al espermatozoide humano. En la Figura 1 se pueden apreciar las partes de un espermatozoide que son objeto de anÃ¡lisis: la cabeza, pieza intermedia y la cola. La cabeza se encuentra divida en dos regiones llamadas acrosoma y post- acrosoma. Figura 1: Regiones del espermatozoide humano (Ferreira, 2008) 8 1.1.1. MorfologÃ­a EspermÃ¡tica Al momento de realizar el anÃ¡lisis, el experto debe cumplir con las instrucciones que dicta la OrganizaciÃ³n Mundial de la Salud (OMS, 2001). Se debe contar de forma manual 200 espermatozoides y clasificarlos segÃºn sus caracterÃ­sticas morfolÃ³gicas, diferenciÃ¡ndolos de cualquier otra estructura presente en la muestra de semen (Katz, 1986). Dichos espermatozoides deben cumplir con las siguientes caracterÃ­sticas morfolÃ³gicas (de acuerdo a cada una de las regiones) para ser considerados normales: ï‚· Cabeza (Acrosoma y Post-Acrosoma): Ovalada, Ãºnica, lisa, acrosoma ocupa entre 40% y 70% del Ã¡rea. Longitud de 4-5 Î¼m, ancho 2.5-3.5 Î¼m. Si existen vacuolas, no deberÃ¡n ocupar mÃ¡s de la mitad del Ã¡rea. ï‚· Pieza intermedia: Estrecha, unida axialmente, alineada con la cabeza, sin restos citoplasmÃ¡ticos, no debe exceder 1/3 del Ã¡rea de la cabeza. Longitud 6-10 Î¼m. ï‚· Cola: Uniforme, Ãºnica, desenrollada, 45 Î¼m de longitud, ligeramente mÃ¡s estrecha que la pieza intermedia, sin residuos citoplasmÃ¡ticos. Los espermatozoides que no cumplan con los parÃ¡metros anteriormente definidos son considerados como anormales, ademÃ¡s que pueden presentar motilidad deficiente, al no contar con las condiciones aerodinÃ¡micas para desplazarse con la velocidad y orientaciÃ³n ideal (OMS, 2001). En la Figura 2 se muestran las malformaciones de acuerdo a cada regiÃ³n del espermatozoide. 9 Figura 2: Malformaciones morfolÃ³gicas del espermatozoide humano (Ferreira, 2008) Para poder considerar una muestra morfolÃ³gicamente normal, el porcentaje de espermatozoides normales debe ser mayor o igual a un 15%. 1.2. MinerÃ­a de datos El crecimiento desmedido del volumen de datos, generados por los distintos sistemas de gestiÃ³n empresariales y la inadecuada exploraciÃ³n de los mismos, ha hecho necesario el uso de tecnologÃ­as que permitan su organizaciÃ³n y procesamiento. Es por esto que surge la minerÃ­a de datos como un enfoque distinto para el manejo de estos grandes repositorios de datos. (Obenshain, 2004). De manera formal, la minerÃ­a de datos se define como: â€œEl proceso de extraer conocimiento Ãºtil y comprensible, previamente desconocido, desde grandes cantidades de datos almacenados en distintos formatosâ€ (Witten, Frank & Hall, 2011). El objetivo de la minerÃ­a de datos es transformar datos en conocimiento, haciendo uso de las tÃ©cnicas mÃ¡s adecuadas. Existen diversos campos, como se muestra en la Tabla 1, donde la minerÃ­a de datos puede ser aplicada, para encontrar patrones ocultos que representen conocimiento. Este conocimiento obtenido puede generar grandes beneficios a las distintas organizaciones, al servir como ayuda en la futura toma de decisiones. Campo Datos Conocimientos Medicina Registros mÃ©dicos asociados a pacientes ï‚· Efectividad de los tratamientos ï‚· Identificar riesgos de sufrir alguna patologÃ­a ï‚· GestiÃ³n hospitalaria Web Archivos de registros de servidores Web ï‚· AnÃ¡lisis de comportamiento de usuarios ï‚· ClasificaciÃ³n de sitios Web Mercado Variables financieras de compaÃ±Ã­as ï‚· AnÃ¡lisis de riesgo de asignaciÃ³n de crÃ©ditos ï‚· EstimaciÃ³n de ventas ï‚· DeterminaciÃ³n de perfiles de compra 10 Telecomunicaciones Registros de llamadas ï‚· DeterminaciÃ³n de patrones de llamadas ï‚· DetecciÃ³n de intrusos ï‚· Uso de telefonÃ­a mÃ³vil Turismo Registro de reservaciones ï‚· IdentificaciÃ³n de patrones de reserva ï‚· SegmentaciÃ³n de clientes IngenierÃ­a de Software Valores de mÃ©trica de un proyecto ï‚· PredicciÃ³n y estimaciÃ³n de Ã­ndices de calidad del software ï‚· DuraciÃ³n y coste de proyectos Tabla 1: Diferentes dominios donde la minerÃ­a de datos puede ser aplicada 1.2.1 Proceso de descubrimiento de conocimiento a partir de datos El proceso de descubrimiento de conocimiento a partir de datos o KDD (Knowledge Discovery In Databases), consta de diversas etapas, desde la obtenciÃ³n de los datos, hasta la aplicaciÃ³n del conocimiento adquirido. Es comÃºn confundir los conceptos de minerÃ­a de datos y KDD como equivalentes, pero existe una gran diferencia entre los dos: KDD es un proceso que consta de distintas etapas, y una de Ã©stas es, justamente, la minerÃ­a de datos (HernÃ¡ndez, RamÃ­rez & Ferri, 2004). Fayyad (1996) define KDD como â€œel proceso no trivial de identificar, a partir de datos, patrones vÃ¡lidos, novedosos, potencialmente Ãºtiles y, en Ãºltima instancia, comprensiblesâ€. SegÃºn esta definiciÃ³n, Fayyad afirma que las propiedades que deberÃ­a cumplir el conocimiento obtenido son: ï‚· VÃ¡lido: Los patrones encontrados deben permitir explicar o predecir datos nuevos. ï‚· Novedoso: Deben aportar nuevos conocimientos. ï‚· Potencialmente Ãºtil: Deben aportar algÃºn beneficio, como la ayuda a la toma de decisiones. ï‚· Comprensible: Los patrones deben facilitar su interpretaciÃ³n, revisiÃ³n y validaciÃ³n en la toma de decisiones Es importante analizar el dominio de la aplicaciÃ³n, lo que implica definir el problema a resolver y los objetivos a cumplir, para luego aplicar las cinco fases fundamentales del KDD, las cuales se explican a continuaciÃ³n (ver Figura 3) 11 Figura 3: Fases del proceso KDD (HernÃ¡ndez, RamÃ­rez & Ferri, 2004) - GeneraciÃ³n, recopilaciÃ³n e integraciÃ³n de datos Los datos pueden ser obtenidos a travÃ©s de mÃºltiples experimentos o de aplicaciones para la adquisiciÃ³n de datos. Si Ã©stos provienen de distintas fuentes de informaciÃ³n (almacenes de datos, bases de datos relacionales, datos transaccionales, hojas de cÃ¡lculo, entre otros), es necesario transformarlos a un formato comÃºn, para poder trabajarlos sin ninguna inconsistencia (HernÃ¡ndez, RamÃ­rez & Ferri, 2004). Inclusive, algunos conjuntos de datos necesitarÃ¡n ser preprocesados, tal es el caso de: conjuntos multimedia (imÃ¡genes, videos, audio), documentales (textos, pÃ¡ginas Web), entre otros. Al finalizar esta fase se obtiene una estructura denominada â€œtabla atributo-valorâ€, la cual serÃ¡ utilizada en la prÃ³xima fase. En la tabla, las columnas son los atributos, variables o caracterÃ­sticas, mientras que las filas son los distintos registros o instancias. Los atributos pueden ser de distintos tipos: ï‚· Nominales o categÃ³ricos: Variables cuyos valores representan una categorÃ­a, tales como, color, sexo, nacionalidad, entre otros. ï‚· Binarios: Variables cuyos valores solo pueden representar dos categorÃ­as o estados, donde â€œ0â€significa ausencia y â€œ1â€ significa presencia. ï‚· Ordinales: Variables cuyos valores representan una jerarquÃ­a. Ejemplo grado acadÃ©mico: [Bachiller, TÃ©cnico, Licenciado, Postgrado]. 12 ï‚· NumÃ©ricos o cuantitavos: Variables cuyos valores pueden ser expresados mediante nÃºmeros, Ã©stos pueden ser discretos o continuos. - PreparaciÃ³n de los datos (Limpieza, TransformaciÃ³n y SelecciÃ³n) El objetivo de esta fase, es obtener la vista minable, por lo que los datos a utilizar deben cumplir con ciertas caracterÃ­sticas que determinan la calidad de estos, tales como exactitud, completitud y consistencia (Ballou, & Tayi, 1999). Algunas de las tareas que se ejecutan en esta fase estÃ¡n dirigidas a: ï‚· Limpieza de los datos: Se intenta eliminar o corregir datos que presentan caracterÃ­sticas especÃ­ficas, tales como, datos ausentes, valores fuera de rango, datos errÃ³neos o con ruido, campos obsoletos o redundantes, entre otros. ï‚· Transformaciones: En este caso, se aplican tÃ©cnicas para modificar la forma de los datos y mejorar su representaciÃ³n, lo que permitirÃ¡ que el proceso de minerÃ­a sea mÃ¡s eficiente y los patrones mÃ¡s fÃ¡ciles de entender. Por ejemplo, se puede cambiar el rango y tipo de las variables. ï‚· SelecciÃ³n de atributos: Se escogen los atributos mÃ¡s importantes, con el fin de reducir la dimensionalidad de los datos, obtener modelos mÃ¡s comprensibles y reducir el tiempo de estimaciÃ³n de los modelos. - MinerÃ­a de Datos Esta fase constituye el centro del KDD, y a veces se utiliza el tÃ©rmino de minerÃ­a de datos para referirse a todo el proceso (Witten, Frank & Hall, 2011). Su objetivo es producir conocimiento que pueda ser utilizado por el usuario. Para esto, es necesario la construcciÃ³n de un modelo a partir de los datos, que pueda ser utilizado para realizar predicciones, o comprender mejor dichos datos (HernÃ¡ndez, RamÃ­rez & Ferri, 2004). Antes de iniciar el proceso es necesario tomar ciertas decisiones como: ï‚· Determinar la tarea de minerÃ­a de datos: Ã‰stas se pueden clasificar en dos tipos: tareas predictivas y tareas descriptivas. ï‚· Seleccionar el algoritmo o tÃ©cnica: Se busca un algoritmo que resuelva la tarea y que genere el tipo de patrÃ³n buscado. En la SecciÃ³n 1.2.2 se explicarÃ¡n los tipos de tareas y modelos de la minerÃ­a de datos. De igual forma, se explicarÃ¡n las tÃ©cnicas y algoritmos que son de importancia para este trabajo. 13 - EvaluaciÃ³n e InterpretaciÃ³n En este paso, se interpretan y evalÃºan los patrones obtenidos en el proceso de minerÃ­a de datos, lo que puede implicar repetir algunos de los pasos anteriores, realizar verificaciones con expertos, eliminar patrones redundantes, y utilizar medidas de evaluaciÃ³n de acuerdo a la tarea de minerÃ­a de datos utilizada (HernÃ¡ndez, RamÃ­rez & Ferri, 2004). - Uso y difusiÃ³n del conocimiento En esta etapa, es comÃºn que se incorpore el conocimiento a un sistema que permita su uso. Generalmente, la difusiÃ³n se logra a travÃ©s de publicaciones, congresos, o estÃ¡ndares para el intercambio de conocimiento. El modelo debe ser revisado constantemente, para verificar su desempeÃ±o, ya que en algunos casos es necesario reevaluar, reentrenar y reconstruir de nuevo el modelo (HernÃ¡ndez, RamÃ­rez & Ferri, 2004). 1.2.2. Tareas de la minerÃ­a de datos A la hora de aplicar la minerÃ­a de datos, se debe tener en cuenta el tipo de problema que se intenta resolver. En general, existen dos enfoques: - Tareas predictivas: En estas tareas los modelos predicen el valor de un atributo en particular (variable dependiente) basÃ¡ndose en los valores de otros atributos (variables independientes). BÃ¡sicamente, existen dos tipos: ï‚· ClasificaciÃ³n: En este caso, se tiene un atributo que representa una clase. El rango de valores para dicho atributo es un conjunto discreto de etiquetas simbÃ³licas. El objetivo de esta tarea es generar un modelo que describa una relaciÃ³n de dependencia entre los demÃ¡s atributos y la clase, que permita predecir la clase de futuras instancias. ï‚· RegresiÃ³n: En esta tarea el modelo resultante es una funciÃ³n que asigna a cada instancia un valor real. La diferencia entre la clasificaciÃ³n y la regresiÃ³n es que en esta Ãºltima, el valor a predecir para las nuevas instancias que se presenten es del tipo numÃ©rico. - Tareas Descriptivas: En estos tipos de tareas no existe o no se toma en cuenta ningÃºn atributo que represente la respuesta al problema. Los modelos identifican patrones que exploran las propiedades o las relaciones entre los datos. Entre las principales tareas descriptivas se encuentran: ï‚· AgrupaciÃ³n: En este caso se buscan grupos en el conjunto de datos, tomando en cuenta la similitud de los valores de cada una de las instancias. 14 ï‚· AsociaciÃ³n: El objetivo de esta tarea es buscar relaciones frecuentes entre los distintos atributos que definen los datos. Dichas relaciones son representadas a travÃ©s de reglas de asociaciÃ³n, las cuales son reglas de dependencias que predicen la ocurrencia de un atributo, basado en la ocurrencia de otros atributos. ï‚· DetecciÃ³n de anomalÃ­as: Se buscan, entre las instancias, valores de atributos que sean muy distintos de los demÃ¡s o que no entren entre los rangos esperados. Estos atributos son llamados â€œOutlierâ€. En general, a la hora de detectar estas anomalÃ­as, es necesario crear un perfil que refleje un comportamiento â€œNormalâ€, y a partir de Ã©ste, encontrar las caracterÃ­sticas que sean distintas (Tan, Steinbach, & Kumar, 2005). 1.2.3. TÃ©cnicas de la minerÃ­a de datos En la minerÃ­a de datos existen distintas tÃ©cnicas que tienen como objetivo descubrir patrones a partir de datos. Las tÃ©cnicas pueden ser implementadas por distintos algoritmos, por lo que es preciso comprender los parÃ¡metros y las caracterÃ­sticas de estos, para determinar cuÃ¡l es la tÃ©cnica mÃ¡s apropiada a la hora de resolver un problema. A continuaciÃ³n, se explicarÃ¡n las tÃ©cnicas y algoritmos mÃ¡s relevantes para este trabajo, haciendo Ã©nfasis en la tarea a la cual estÃ¡n dirigidas, los tipos de atributos que soportan y las caracterÃ­sticas mÃ¡s apreciables. A) Ãrboles de decisiÃ³n: Son utilizados en tareas de clasificaciÃ³n y regresiÃ³n. Son estructuras formadas por un conjunto de nodos y de arcos dirigidos y organizados de forma jerÃ¡rquica. Los nodos pueden ser clasificados en tres tipos, como se aprecia en la Figura 4. El nodo raÃ­z, el nodo interno y el nodo hoja. Los dos primeros llevan a cabo pruebas o test sobre un atributo, donde los arcos de salida representan los distintos valores que el atributo puede tomar. Mientras que el nodo hoja representa el valor que retorna el Ã¡rbol de decisiÃ³n, es decir, la clase o valor numÃ©rico que se le asocia al registro (HernÃ¡ndez, RamÃ­rez & Ferri, 2004). Figura 4: Estructura de un Ã¡rbol de decisiÃ³n 15 De forma general, en el proceso de construcciÃ³n de un Ã¡rbol de decisiÃ³n es importante tener en cuenta ciertos aspectos: A.1) En cada paso recursivo, el algoritmo debe seleccionar la mejor prueba de atributo para lograr dividir el conjunto de entrada en subconjuntos mÃ¡s pequeÃ±os, para esto existen distintos criterios de evaluaciÃ³n, tales como: - En donde n es el nÃºmero de clases - P (i|t) = fracciÃ³n de instancias pertenecientes a la clase i en el nodo t Se debe seleccionar el nodo con el menor grado de impureza. El grado de impureza del padre, debe ser comparado contra el grado de impureza de los nodos hijos a travÃ©s de la ganancia de informaciÃ³n o promedio ponderado. I = Medida de impureza del nodo N = NÃºmero de instancias en el nodo padre K = NÃºmero de valores del atributo Nj = NÃºmero de registros asignados al hijo A la hora de seleccionar entre las posibles pruebas, se debe escoger la que tenga el Ã­ndice mÃ¡s bajo. A.2) A la hora de detener la expansiÃ³n de los nodos, es necesario utilizar alguna condiciÃ³n de parada, tales como: ï‚· NÃºmero mÃ¡ximo de iteraciones. ï‚· NÃºmero definido de niveles o de hojas. TambiÃ©n se puede emplear una tÃ©cnica de poda en el Ã¡rbol: ï‚· Pre- poda: Detener la generaciÃ³n de nodos cuando la medida de impureza es menor a la de un lÃ­mite establecido. ï‚· Post- poda: Se completa todo el Ã¡rbol y luego se aplican tÃ©cnicas para eliminar nodos que no sean necesarios. ğºğ‘–ğ‘›ğ‘–: 1 âˆ’ [ğ‘ƒ(ğ‘–|ğ‘¡)]2ğ‘›ğ‘–=1 (2) ğ¸ğ‘›ğ‘¡ğ‘Ÿğ‘œğ‘Ã­ğ‘ = = ğ‘ƒ(ğ‘–|ğ‘¡) âˆ— ğ¿ğ‘œğ‘”2ğ‘ƒ(ğ‘–|ğ‘¡) ğ‘› ğ‘–=1 (1) ğ¸ğ‘Ÿğ‘Ÿğ‘œğ‘Ÿ ğ¸ğ‘ ğ‘ğ‘’ğ‘Ÿğ‘ğ‘‘ğ‘œ = 1 âˆ’ğ‘€ğ‘ğ‘¥ğ‘–[ğ‘ƒ(ğ‘–|ğ‘¡)] (3) ğºğ‘ğ‘›ğ‘ğ‘›ğ‘ğ‘–ğ‘ = ğ¼(ğ‘ğ‘œğ‘‘ğ‘œ ğ‘ğ‘ğ‘‘ğ‘Ÿğ‘’) âˆ’ ğ‘ğ‘— ğ‘ âˆ— ğ¼(ğ‘ğ‘œğ‘‘ğ‘œğ»ğ‘–ğ‘—ğ‘œğ‘—) ğ‘˜ ğ‘—=1 (4) 16 Existen distintos algoritmos de Ã¡rboles de decisiÃ³n, pero en general se derivan del algoritmo bÃ¡sico de Hunt, el cual se muestra en la Figura 5: Figura 5: Algoritmo de Hunt (Hunt, 1966) A partir de este algoritmo que se ha presentado, se han propuesto otros que siguen la misma estructura base y que son muy utilizados, sin embargo, en este documento solo se explicarÃ¡n los que siguen a continuaciÃ³n: ï‚· ID3 (Induction Decision Trees): Al igual que el algoritmo de Hunt, cada vez que se crea un nuevo camino, se debe seleccionar un test que realice una mejor divisiÃ³n de las instancias dependiendo de las clases. Para esto se utiliza como criterio de selecciÃ³n la EntropÃ­a (ver fÃ³rmula 3) mientras el valor sea menor, mejor serÃ¡ el test para realizar la clasificaciÃ³n. Por otro lado, el ID3 solo se puede aplicar a variables discretas, ya que no puede trabajar con atributos continuos debido a la EntropÃ­a (Quinlan, 1986). Otra desventaja de este algoritmo es la extensiÃ³n de los Ã¡rboles, lo que evita la fÃ¡cil interpretaciÃ³n del mismo. ï‚· C4.5: Debido a que estÃ¡ basado en ID3, su metodologÃ­a es la misma, a excepciÃ³n de que permite tratar con valores continuos, al realizar una discretizaciÃ³n a los mismos. Por lo tanto se tienen dos tipos de prueba; si el atributo es discreto, se realiza el mismo tratamiento que en ID3, caso contrario si es continuo se debe comparar el valor del atributo contra un umbral X (Quinlan, 1993). Utiliza la razÃ³n de ganancia (Gain ratio) (ver fÃ³rmula 5) a la hora seleccionar un test, esta medida hace uso de la informaciÃ³n de separaciÃ³n (Split Information) que es la entropÃ­a del conjunto de datos respecto al atributo a clasificar, asÃ­ como tambiÃ©n emplea la ganancia de informaciÃ³n. Por lo tanto, la razÃ³n de ganancia es la divisiÃ³n entre la ganancia de informaciÃ³n y la informaciÃ³n de separaciÃ³n. Algoritmo_Hunt (D: Conjunto de datos, N: Nodo): Si los registros del conjunto D pertenecen a la misma clase C Entonces Retornar N como un nodo hoja etiquetado con la clase C; Si _No el conjunto D es vacÃ­o Entonces Retornar N como un nodo hoja etiquetado con una clase por defecto; Si_ No los registros del conjunto D posee distintas clases Entonces Aplicar un Test de atributo, para dividir el conjunto D; Para cada resultado del test, crear un nodo hijo; Distribuir los registros del conjunto D, a los nodos hijos creados; Aplicar de forma recursiva Algoritmo_Hunt () a cada nodo hijo; Fin _Si Fin _ Algoritmo_Hunt 17 ğ¸ğ‘¥ğ‘ğ‘ğ‘¡ğ‘–ğ‘¡ğ‘¢ğ‘‘(ğ‘…) = ğ‘ğ‘ğ‘œğ‘Ÿğ‘Ÿğ‘’ğ‘ğ‘¡ğ‘œğ‘  ğ‘ğ‘ğ‘¢ğ‘ğ‘–ğ‘’ğ‘Ÿğ‘¡ğ‘œğ‘  (8) ğ¶ğ‘œğ‘ğ‘’ğ‘Ÿğ‘¡ğ‘¢ğ‘Ÿğ‘(ğ‘…) = ğ‘ğ‘ğ‘¢ğ‘ğ‘–ğ‘’ğ‘Ÿğ‘¡ğ‘œğ‘  |ğ·| (7) Emplea el mÃ©todo Post poda, con el algoritmo C4.5 se inicia en los nodos, hojas, hasta llegar al nodo raÃ­z. B) Reglas de ClasificaciÃ³n: Las reglas de clasificaciÃ³n son una alternativa a los Ã¡rboles de decisiÃ³n. Utilizan expresiones de la forma SI <condiciÃ³n> Entonces <acciÃ³n>, donde la CondiciÃ³n o Antecedente estÃ¡ compuesto de una serie de test, tal como los test evaluados en los nodos de un Ã¡rbol de decisiÃ³n. Mientras que la AcciÃ³n o consecuente determina la clase de una determinada instancia cubierta por dicha regla. Se dice que una regla cubre una instancia si la CondiciÃ³n corresponde con los valores de los atributos de la instancia (Witten, Frank & Hall, 2011). Al momento de generar las reglas de clasificaciÃ³n es importante tener en cuenta ciertos aspectos: B.1) Una regla R puede ser evaluada por su Exactitud y por su Cobertura. Dada una instancia X, de un conjunto de instancias D, Ncubiertos es el nÃºmero de instancias cubiertas por la regla R. Ncorrectos es el nÃºmero de instancias correctamente clasificadas por la regla R y |D| es el nÃºmero de instancias en D. (fÃ³rmulas 7 y 8) La cobertura de una regla es el porcentaje de instancias que son cubiertas por dicha regla. Mientras que para la exactitud de una regla se toma en cuenta las instancias que son cubiertas y que porcentajes de estas son correctamente clasificadas. (Witten, Frank & Hall, 2011). Los algoritmos de cobertura generan las reglas de forma secuencial (una a la vez), e idealmente, cada regla de la clase especificada deberÃ¡ cubrir muchas de las instancias pertenecientes a esa clase y ninguna de las clases restantes (Han, Kamber & Pei, 2006). En la Figura 6 se muestra un algoritmo bÃ¡sico de cobertura. ğ‘…ğ‘ğ‘§Ã³ğ‘› ğ‘‘ğ‘’ ğ‘”ğ‘ğ‘›ğ‘ğ‘›ğ‘ğ‘–ğ‘ = ğºğ‘ğ‘›ğ‘ğ‘›ğ‘ğ‘–ğ‘ğ‘‘ğ‘’ğ¼ğ‘›ğ‘“ğ‘œğ‘Ÿğ‘šğ‘ğ‘ğ‘–Ã³ğ‘›() ğ‘†ğ‘ğ‘™ğ‘–ğ‘¡ğ¼ğ‘›ğ‘“ğ‘œ() (5) Donde ğ‘†ğ‘ğ‘™ğ‘–ğ‘¡ğ¼ğ‘›ğ‘“ğ‘œ = ğ‘ƒ(ğ‘‰ğ‘–) âˆ— ğ¿ğ‘œğ‘”2(ğ‘‰ğ‘–) ğ‘˜ ğ‘–=1 (6) 18 Figura 6: Algoritmo bÃ¡sico de cobertura (Han, Kamber & Pei, 2006) La funciÃ³n Crear_una_regla encuentra la mejor regla para la clase actual (Ci), dado un conjunto de instancias. Las reglas pueden ser creadas de dos formas: ï‚· De lo general a lo especÃ­fico: Se inicia con una regla general que cubra todas las instancias y se van aÃ±adiendo test de forma iterativa para mejorar la calidad de la regla, excluyendo instancias que no pertenezcan a la clase (Ci). ï‚· De lo especÃ­fico a lo general: Se selecciona una instancia perteneciente a la clase actual (Ci) de forma aleatoria. Luego en cada iteraciÃ³n, se van eliminando test para generalizar la regla. A partir de este algoritmo que se ha presentado, se han propuesto otros que siguen la misma estructura base y que son muy utilizados, sin embargo, en este documento solo se explicarÃ¡n los que siguen a continuaciÃ³n: ï‚· CN2: Este algoritmo crea una lista de reglas de clasificaciÃ³n ordenada, en donde la Ãºltima regla es la â€œRegla por Defectoâ€, la cual predice la clase mÃ¡s comÃºn en el conjunto de instancias. (Clark & Niblett, 1989). En este caso el criterio de selecciÃ³n utilizado para los test es la EntropÃ­a (Ver fÃ³rmula 3). Por otro lado CN2 utiliza una sustituciÃ³n simple a la hora de tratar con valores desconocidos, simplemente reemplaza dicho valor con el mÃ¡s frecuente del atributo en cuestiÃ³n. En el caso de los atributos numÃ©ricos utiliza el valor medio del subrango mÃ¡s frecuente (Clark & Niblett, 1989). ï‚· RIPPER (Repeated Incremental Pruning to Produce Error Reduction): Si el conjunto de datos solo presenta dos clases, el algoritmo selecciona una como la clase positiva y la otra como la clase negativa, creando asÃ­ reglas con la clase positiva, y la clase negativa serÃ¡ la clase por defecto. En el caso de tener mÃºltiples clases, estas son ordenadas de acuerdo al incremento de prevalencia de la clase Algoritmo_Cobertura (D: Conjunto de instancias, Att_vals: Conjunto de atributos): conjunto_reglas= {} // El conjunto de reglas estÃ¡ vacÃ­o al inicio Para cada clase Ci: Repetir regla= Crear_una_regla (D, Att_vals, Ci); Eliminar (Instancias cubiertas por regla) Hasta CondiciÃ³n_de_parada conjunto_reglas= conjunto_reglas + regla; Fin_Para Retornar conjunto_reglas; Fin_Algoritmo_ Cobertura 19 (fracciÃ³n de instancias que pertenecen a una clase en particular). Utiliza como mÃ©trica de evaluaciÃ³n la ganancia FOIL, la cual se basa en el nÃºmero de instancias positivas y negativas cubiertas, antes y despuÃ©s de agregar un test a la regla. Esta mÃ©trica selecciona los test que cubran el mayor nÃºmero de instancias positivas y el menor nÃºmero de instancias negativas (Han, Kamber & Pei, 2006) (Ver FÃ³rmula 9) ) R: Regla en definiciÃ³n L: Nuevo test Râ€™: La regla obtenida al agregarle el test a la regla original P0: NÃºmero de instancias positivos cubiertos por R N0: NÃºmero de instancias negativos cubiertos por R P1: NÃºmero de instancias positivos cubiertos por Râ€Ÿ N1: NÃºmero de instancias negativos cubiertos por Râ€Ÿ T: NÃºmero de instancias positivos que siguen cubiertos por la regla R luego de aÃ±adir L. C) Redes Neuronales Artificiales: Son modelos computacionales basados en las estructuras biolÃ³gicas que componen el sistema nervioso central de los seres vivos. Su unidad bÃ¡sica de procesamiento es la neurona, la cual es capaz de recibir informaciÃ³n proveniente del exterior, o de otras neuronas pertenecientes a la misma red. Esta informaciÃ³n es procesada y transmitida a otras neuronas mediante las conexiones existentes entre ellas (Acosta, Salazar, & Zuluaga, 2000). En otras palabras, una red neuronal es capaz de percibir estÃ­mulos (entrada), activar o inhibir neuronas (procesamiento), y generar resultados en base a las entradas de la red (salida), emulando asÃ­ el comportamiento de una red neuronal biolÃ³gica (Acosta, Salazar, & Zuluaga, 2000). En la Figura 7 se aprecia la estructura bÃ¡sica de una red neuronal artificial Figura 7: Estructura de una Red Neuronal Artificial Xi: Canales de entrada donde se reciben los estÃ­mulos. Wi: Pesos sinÃ¡pticos asociados a cada conexiÃ³n. Y: Canal de salida, donde se transmite el valor generado por la funciÃ³n de salida. ğ¹ğ‘‚ğ¼ğ¿ ğºğ´ğ‘ğ´ğ‘ğ¶ğ¼ğ´(ğ¿,ğ‘…) = ğ‘‡(log2( ğ‘ƒ1 ğ‘ƒ1+ğ‘1 ) âˆ’ log2( ğ‘ƒ0 ğ‘ƒ0+ğ‘0 )) (9) 20 Su utilidad radica en su capacidad para procesar informaciÃ³n de forma paralela, logrando resolver problemas en los cuales los modelos de computaciÃ³n secuenciales son poco eficientes. Entre las Ã¡reas donde se aplican las redes neuronales artificiales se encuentran: reconocimiento de patrones, predicciÃ³n de modelos, procesamiento de imÃ¡genes, filtrado de seÃ±ales, entre otros (Acosta, Salazar, & Zuluaga, 2000). A la hora de crear una red neuronal artificial es necesario tener en cuenta ciertos aspectos: C.1) La informaciÃ³n que ingresa a la red neuronal es procesada mediante tres funciones: ï‚· FunciÃ³n de Entrada: Calcula los valores de entrada de la neurona. ï‚· FunciÃ³n de activaciÃ³n: Calcula el valor que la neurona genera para ser enviado por el canal de salida, tomando en cuenta las entradas y los pesos sinÃ¡pticos. ï‚· FunciÃ³n de salida: La mayorÃ­a de los casos la funciÃ³n de salida es la funciÃ³n identidad F(X)=X, siendo la salida la que calcula la funciÃ³n de activaciÃ³n. C.2) La estructura de una red neuronal artificial puede estar compuesta por una o muchas capas dependiendo del problema a resolver. ï‚· La primera capa puede contener de una a N neuronas en paralelo por donde se recibe la informaciÃ³n. (Garrido, Latorre, 2001). ï‚· Luego se puede tener una o varias capas â€œocultasâ€ cuyo objetivo es procesar la informaciÃ³n recibida a mediante el uso de las funciones de entrada, activaciÃ³n y de salida. ï‚· Finalmente se tiene una capa de salida que proporciona los resultados de la red. C.3) A la hora de resolver un problema de clasificaciÃ³n, en general, existen distintos tipos de redes neuronales, tales como: ï‚· PerceptrÃ³n Multicapa: Se basa en la red neuronal â€œPerceptrÃ³nâ€ (tambiÃ©n denominada PerceptrÃ³n simple). Compuesto de una capa de entrada, una o mÃ¡s capas ocultas, y una capa de salida. El mÃ©todo de aprendizaje que suele usar este tipo de red es llamado RetropropagaciÃ³n del error (Backpropagation), el cual es un mÃ©todo de aprendizaje supervisado basado en la tÃ©cnica del descenso por gradiente. Este funciona de la siguiente manera: Se inicializan los pesos y los umbrales, luego se presenta un patrÃ³n â€œNâ€ de entrenamiento y se propaga hacia la salida, obteniendo la salida de la red Y(N). Se procede a evaluar el error cuadrÃ¡tico e(N), cometido para cada patrÃ³n. Luego, es necesario aplicar la regla â€œDelta generalizadaâ€, la cual, modifica los pesos y los umbrales calculando el valor delta de atrÃ¡s hacia adelante. Es decir, de la capa de salida, a la capa de entrada. Por Ãºltimo se calcula el error actual y de acuerdo al criterio de parada se detiene o se repite el procedimiento. 21 ï‚· Redes neuronales de base radial o Radial Basis Function Network (RBFN): Compuesta de tres capas, capa de entrada, una o mÃ¡s capas ocultas, y la capa de salida. Estas redes, a diferencia de otras, utilizan funciones de base radial como funciÃ³n de activaciÃ³n de la neurona. Estas funciones reciben dos parÃ¡metros, el centro que define un vector de la misma dimensiÃ³n del vector de entrada. El otro parÃ¡metro es el ancho o DesviaciÃ³n estÃ¡ndar, el cual es el tÃ©rmino empleado para identificar a la amplitud de la campana de Gauss originada por la funciÃ³n radial. La funciÃ³n de base radial comÃºnmente utilizada es la funciÃ³n Gaussiana (ver fÃ³rmula 10). Donde Xi y Ci Son los componentes de n dimensiÃ³n del vector de entrada X y el vector centro C, respectivamente. Finalmente Ïƒ es la desviaciÃ³n estÃ¡ndar. Este tipo de redes neuronales requiere un proceso de entrenamiento de dos etapas, tambiÃ©n llamado aprendizaje hibrido. En la primera etapa se aplica un aprendizaje no supervisado en la capa oculta (por ejemplo se aplica el algoritmo de agrupaciÃ³n o Clustering). En la segunda etapa se aplica un aprendizaje supervisado en la capa de salida (como el algoritmo Gradiente estocÃ¡stico: LMS). 1.2.4. EvaluaciÃ³n de modelos de minerÃ­a de datos En la evaluaciÃ³n de un modelo de minerÃ­a de datos, se pretende obtener una estimaciÃ³n de su rendimiento antes de ser aplicado a un nuevo conjunto de datos. A la hora de realizar la evaluaciÃ³n de los modelos obtenidos, es necesario utilizar una tÃ©cnica y una medida de evaluaciÃ³n dependiendo de la tarea utilizada. ï‚· TÃ©cnicas de evaluaciÃ³n: Son utilizadas para estimar el error de predicciÃ³n del modelo. o SelecciÃ³n aleatoria (Holdout Method): En esta tÃ©cnica se divide el conjunto de datos D en dos conjuntos de manera aleatoria: uno para el entrenamiento (70-80%), y otro para el test (20-30%). El modelo se construye utilizando el conjunto de entrenamiento y se determina el valor de la medida de evaluaciÃ³n sobre el conjunto test; este proceso se repite varias veces. Luego, se promedian todo los valores (Witten, Frank & Hall, 2011). o ValidaciÃ³n Cruzada (Cross Validation): En esta tÃ©cnica se divide el conjunto de datos (D) en (N) particiones disjuntas de forma aleatoria. Dichas particiones serÃ¡n utilizadas de forma individual para realizar la ğœ‘(ğ‘‹) = ğ‘’ âˆ’ ||ğ‘¥ğ‘–âˆ’ğ‘ğ‘–|| 2 2ğœ2 (10) 22 evaluaciÃ³n, y con la parte restante se realiza el entrenamiento. Luego de realizar el proceso de entrenamiento y la evaluaciÃ³n (N) veces, se promedia el valor de la medida de evaluaciÃ³n de cada iteraciÃ³n (Witten, Frank & Hall, 2011). ï‚· Medidas de evaluaciÃ³n: Estas dependen de la tarea que se haya seleccionado. A continuaciÃ³n, se detallarÃ¡n las medidas comÃºnmente utilizadas para evaluar la tarea de clasificaciÃ³n utilizada en la investigaciÃ³n. A la hora de evaluar un clasificador, se debe tomar en cuenta la cantidad de registros predichos de forma correcta o incorrecta. Para esto se puede hacer uso de una Matriz de confusiÃ³n, tal como se muestra en la Figura 8, donde VP: Es el nÃºmero de predicciones correctas cuando la instancia es positiva. FP: Es el nÃºmero de predicciones incorrectas cuando la instancia es positiva. FN: Es el nÃºmero de predicciones incorrectas cuando la instancia es negativa. VN: Es el nÃºmero de predicciones correcta cuando la instancia es negativa. Figura 8: Matriz de confusiÃ³n para la evaluaciÃ³n de un clasificador La cantidad de predicciones correctas realizadas por el modelo, se determina sumando todos los valores que se encuentran en la diagonal de la matriz (VP+VN), mientras que la cantidad de predicciones incorrectas, se calcula sumando los valores que no formen parte de la diagonal (FP+FN). Existen dos mÃ©tricas de rendimiento que pueden ser calculadas, a partir de la matriz de confusiÃ³n, como son la exactitud y el error. Lo ideal, es que los resultados arrojados por estas medidas sean altos en el caso de la exactitud, y mÃ­nimos en el caso del error. Existen otras medidas, que determinan el rendimiento de cada una de las clases: ğ¸ğ‘¥ğ‘ğ‘ğ‘¡ğ‘–ğ‘¡ğ‘¢ğ‘‘ = ğ‘Ãºğ‘šğ‘’ğ‘Ÿğ‘œ ğ‘‘ğ‘’ ğ‘ğ‘Ÿğ‘’ğ‘‘ğ‘–ğ‘ğ‘ğ‘–ğ‘œğ‘›ğ‘’ğ‘  ğ‘ğ‘œğ‘Ÿğ‘Ÿğ‘’ğ‘ğ‘¡ğ‘ğ‘  (ğ‘‰ğ‘ƒ+ğ‘‰ğ‘) ğ‘Ãºğ‘šğ‘’ğ‘Ÿğ‘œ ğ‘‡ğ‘œğ‘¡ğ‘ğ‘™ ğ‘‘ğ‘’ ğ‘ğ‘Ÿğ‘’ğ‘‘ğ‘–ğ‘ğ‘ğ‘–ğ‘œğ‘›ğ‘’ğ‘  (ğ‘‰ğ‘ƒ+ğ¹ğ‘+ğ¹ğ‘ƒ+ğ‘‰ğ‘) âˆ— 100 (11) ğ¸ğ‘Ÿğ‘Ÿğ‘œğ‘Ÿ = ğ‘Ãºğ‘šğ‘’ğ‘Ÿğ‘œ ğ‘‘ğ‘’ ğ‘ğ‘Ÿğ‘’ğ‘‘ğ‘–ğ‘ğ‘ğ‘–ğ‘œğ‘›ğ‘’ğ‘  ğ‘–ğ‘›ğ‘ğ‘œğ‘Ÿğ‘Ÿğ‘’ğ‘ğ‘¡ğ‘ğ‘  (ğ¹ğ‘ƒ+ğ¹ğ‘) ğ‘Ãºğ‘šğ‘’ğ‘Ÿğ‘œ ğ‘‡ğ‘œğ‘¡ğ‘ğ‘™ ğ‘‘ğ‘’ ğ‘ğ‘Ÿğ‘’ğ‘‘ğ‘–ğ‘ğ‘ğ‘–ğ‘œğ‘›ğ‘’ğ‘  (ğ‘‰ğ‘ƒ+ğ¹ğ‘+ğ¹ğ‘ƒ+ğ‘‰ğ‘) âˆ— 100 (12) 23 o PrecisiÃ³n: Indica cuantas instancias clasificadas como positivas fueron clasificadas correctamente. o Sensibilidad o Recall: Indica cuantas instancias de la clase positiva fueron clasificadas correctamente o Especificidad: Indica cuantas instancias clasificadas como negativas fueron clasificadas correctamente. Existen medidas que son utilizadas en problemas con clases no balanceadas tal es el caso de la Media GeomÃ©trica (Guo et al., 2008; He et al., 2009). 1.2.5. CombinaciÃ³n de modelos de minerÃ­a de datos Cuando es necesario tomar una decisiÃ³n importante, usualmente se toma en cuenta la opiniÃ³n de varios expertos en el tema en lugar de confiar en un Ãºnico juicio. En minerÃ­a de datos un modelo puede ser considerado como un experto. Para esto se deben tomar en cuenta ciertos factores, tales como la cantidad y calidad de los datos de entrenamiento, o si la tÃ©cnica implementada fue la apropiada para resolver el problema. Un enfoque mÃ¡s exacto para una toma de decisiones mÃ¡s fiable seria combinar la salida de diferentes modelos de datos (Witten, Frank & Hall, 2011). Dicho enfoque es conocido como combinaciÃ³n de clasificadores (Ensemble Classifiers) el cual consiste en la integraciÃ³n de mÃºltiples clasificadores con el fin de obtener un modelo predictivo mÃ¡s preciso (Polikar, 2006). Entre las ventajas de emplear este enfoque, se tiene que los resultados son menos dependientes en cuanto a peculiaridades del conjunto de entrenamiento (Rokach, 2010). Por otro lado, la desventaja radica en la posible complicaciÃ³n del modelo, perdiendo comprensibilidad. Es decir, no serÃ­a fÃ¡cil determinar cuÃ¡les factores contribuyen a la mejora de las decisiones. (Witten, Frank & Hall, 2011). A continuaciÃ³n se explicarÃ¡n algunos de los mÃ©todos mÃ¡s conocidos para la combinaciÃ³n de modelos. ğ‘ƒğ‘Ÿğ‘’ğ‘ ğ‘–ğ‘ğ‘–Ã³ğ‘› = ğ‘‰ğ‘ƒ ğ‘‰ğ‘ƒ+ğ¹ğ‘ƒ (13) ğ‘†ğ‘’ğ‘›ğ‘ ğ‘–ğ‘ğ‘–ğ‘™ğ‘–ğ‘‘ğ‘ğ‘‘ ğ‘œ ğ‘…ğ‘’ğ‘ğ‘ğ‘™ğ‘™ = ğ‘‰ğ‘ƒ ğ‘‰ğ‘ƒ+ğ¹ğ‘ (14) ğ¸ğ‘ ğ‘ğ‘’ğ‘ğ‘–ğ‘“ğ‘–ğ‘ğ‘–ğ‘‘ğ‘ğ‘‘ = ğ‘‰ğ‘ ğ‘‰ğ‘+ğ¹ğ‘ƒ (15) ğ‘€ğ‘’ğ‘‘ğ‘–ğ‘ğºğ‘’ğ‘œğ‘šğ‘’ğ‘¡ğ‘Ÿğ‘–ğ‘ğ‘ = ğ‘†ğ‘’ğ‘›ğ‘ ğ‘–ğ‘ğ‘–ğ‘™ğ‘–ğ‘‘ğ‘ğ‘‘ âˆ— ğ¸ğ‘ ğ‘ğ‘’ğ‘ğ‘–ğ‘“ğ‘–ğ‘ğ‘–ğ‘‘ğ‘ğ‘‘ (16) 24 ï‚· Bagging (Bootstrap Aggregation): Este mÃ©todo intenta neutralizar la inestabilidad de los mÃ©todos de aprendizaje, alterando el conjunto de entrenamiento mediante la eliminaciÃ³n o duplicaciÃ³n de algunas instancias. En la Figura 9 se aprecian las dos etapas del algoritmo, la generaciÃ³n del modelo y la clasificaciÃ³n. En la generaciÃ³n del modelo las instancias se muestrean al azar, remplazando el conjunto original para crear uno nuevo del mismo tamaÃ±o (esto es conocido como Bootstrap Sample). Dichos conjuntos de datos son diferentes entre sÃ­, pero no son independientes ya que todos provienen del conjunto de datos original. En la etapa de la clasificaciÃ³n, por cada conjunto de datos generado es creado un clasificador, y luego se realiza una votaciÃ³n para seleccionar la clase mÃ¡s frecuente (Witten, Frank & Hall, 2011). Figura 9: Algoritmo para Bagging (Witten, Frank & Hall, 2011) ï‚· Boosting: Con el mÃ©todo Bagging se obtienen resultados positivos cuando los modelos son significativamente diferentes entre sÃ­, y cuando cada uno trata un porcentaje razonable del conjunto de datos correctamente. Lo ideal es que los modelos se complementen entre sÃ­, y que cada uno sea un especialista en un Ã¡rea del dominio en donde los demÃ¡s no tienen un buen desempeÃ±o. El mÃ©todo Boosting aprovecha este conocimiento al buscar explÃ­citamente modelos que se complementen los unos con los otros (Witten, Frank & Hall, 2011). Mientras que con Bagging la creaciÃ³n de los modelos se realiza de forma individual, con Boosting la creaciÃ³n de un modelo es influenciado por el rendimiento del generado anteriormente. El algoritmo expuesto en la Figura 10 asigna el mismo peso a cada una de las instancias del conjunto de datos, los cuales serÃ¡n rebalanceados de acuerdo a la salida de los clasificadores. El peso de las instancias correctamente clasificadas disminuye, mientras que el de las clasificadas errÃ³neamente aumenta, esto ocurre con el fin de que en la siguiente interacciÃ³n el nuevo modelo se centre en las instancias con mayor peso (Witten, Frank & Hall, 2011). GeneraciÃ³n de Modelos (N: nÃºmero de instancias en el conjunto de entrenamiento): Para cada iteraciÃ³n T: Tomar N instancias del conjunto de entrenamiento. Aplicar el algoritmo de aprendizaje a la nueva muestra. Almacenar el modelo resultante. ClasificaciÃ³n: Para cada modelo T: predecir clase de la instancia utilizando el modelo Retornar clase que ha sido seleccionada como mÃ¡s frecuente. 25 Figura 10: Algoritmo para Boosting (Witten, Frank & Hall, 2011) 1.2.6. AplicaciÃ³n de la minerÃ­a de datos en medicina y Ã¡reas relacionadas En la mayorÃ­a de los centros hospitalarios, es normal que se generen grandes cantidades de informaciÃ³n de gran valor para las investigaciones mÃ©dicas y cientÃ­ficas. Al mismo tiempo, la evoluciÃ³n de la tecnologÃ­a ha permitido el estudio y la clasificaciÃ³n de dicha informaciÃ³n, especÃ­ficamente, haciendo uso de la minerÃ­a de datos, la cual, como se explicÃ³ previamente, hace posible obtener patrones o modelos significativos que permiten generar nuevos conocimientos. Con este fin, se presentan a continuaciÃ³n algunas investigaciones en las cuales se aplicaron tÃ©cnicas de minerÃ­a de datos para resolver problemas en el Ã¡rea de la medicina que tienen que ver con el diagnÃ³stico y la clasificaciÃ³n. Una primera corriente de investigaciÃ³n ha consistido en aplicar tÃ©cnicas de clasificaciÃ³n de datos para obtener un diagnÃ³stico mÃ©dico. Se toma como primer ejemplo la investigaciÃ³n realizada por Vega, SÃ¡nchez, y CortiÃ±as (2012), la cual se planteÃ³ como objetivo principal aplicar la tÃ©cnica de Ã¡rboles de decisiÃ³n para hallar reglas que permitan clasificar un paciente con dengue en cualquiera de sus dos estados (FD) Ã³ (FHD/SCD), a partir de las caracterÃ­sticas clÃ­nicas y de laboratorio. La tÃ©cnica empleada fue Ã¡rboles de decisiÃ³n y el algoritmo CART. El desempeÃ±o del algoritmo se evaluÃ³ sobre la capacidad del mÃ©todo de reducir la tasa de error global y su habilidad para clasificar correctamente a los pacientes con FHD/SCD. Las conclusiones de esta investigaciÃ³n apuntan a que la implementaciÃ³n de Ã¡rboles de decisiÃ³n puede constituir un mÃ©todo capaz de proporcionar GeneraciÃ³n de Modelos Asignar mismo peso a cada instancia del conjunto de entrenamiento Para cada iteraciÃ³n T: Aplicar el algoritmo de aprendizaje al conjunto ponderado. Almacenar el modelo resultante. Calcular el error E del modelo sobre el conjunto de datos y almacenar el error Si E igual a cero, o mayor o igual a 0.5: Terminar generaciÃ³n del modelo. Para cada instancia en el conjunto de datos: Si instancia clasificada correctamente por el modelo Multiplicar peso de la instancia por (E/ (1-E)) Normalizar peso de todas las instancias. ClasificaciÃ³n: Asignar peso igual a cero a todas las clases: Para cada T modelo: Sumar â€“log (E/ (1-E)) a los pesos de las clases predichas por el modelo. Retornar clase con el peso mÃ¡s alto. 26 reglas de decisiÃ³n Ãºtiles en la prÃ¡ctica clÃ­nica y en la elaboraciÃ³n de sistemas expertos para diagnosticar un paciente. Siguiendo esta estrategia se ha implementado, por ejemplo, el uso de clasificadores para contribuir al diagnÃ³stico de la HipertensiÃ³n arterial. DÃ¡vila y SÃ¡nchez (2012) seleccionaron para el desarrollo de la investigaciÃ³n el algoritmo J48 (VersiÃ³n de WEKA) dentro de la tÃ©cnica supervisada Ã¡rboles de decisiÃ³n. Sin embargo, se debe tener en cuenta que un problema de este tipo puede ser resuelto haciendo uso de distintas tÃ©cnicas, por lo que DÃ¡vila y SÃ¡nchez (2012) decidieron utilizar una tÃ©cnica adicional con el fin de proponer distintos modelos cuya combinaciÃ³n pueda mejorar el diagnÃ³stico de la HipertensiÃ³n arterial. Para esto decidieron utilizar el algoritmo simple K- means para el desarrollo de la tÃ©cnica no supervisada (agrupaciÃ³n). En el mismo orden de ideas, la investigaciÃ³n realizada por Lorca, Arzola, y Pereira, (2010), se planteÃ³ como objetivo principal segmentar imÃ¡genes mÃ©dicas para reconstruir modelos anatÃ³micos 3D, haciendo uso de algoritmos de agrupaciÃ³n (Clustering). En esta investigaciÃ³n se implementaron dos algoritmos de agrupaciÃ³n, K- means, y Fuzzy K- means. Este Ãºltimo es una extensiÃ³n del K- means, la diferencia radica en que el algoritmo K- means encuentra particiones para las que un punto pertenece a un solo cluster, mientras que Fuzzy K- means permite que un punto pueda pertenecer a mÃ¡s de un cluster, tomando en cuenta un grado o intervalo de pertenencia entre los cluster, el cual indica que un elemento puede pertenecer totalmente a una clase, a todas, o a ninguna. Los autores afirman que para el perfeccionamiento de las tÃ©cnicas de segmentaciÃ³n de imÃ¡genes mÃ©dicas mediante tÃ©cnicas de agrupaciÃ³n es necesaria la bÃºsqueda de procedimientos mÃ¡s avanzados de inicializaciÃ³n de los centroides, y la utilizaciÃ³n de algoritmos que permitan alcanzar el Ã³ptimo global o aproximarse al mismo, tanto para el mÃ©todo K-means como para el Fuzzy K- means. En ocasiones se necesitan tÃ©cnicas para analizar problemas en los cuales se quiere predecir un valor real. En este caso es imprescindible utilizar tÃ©cnicas de regresiÃ³n, como por ejemplo la investigaciÃ³n realizada por Raghavendra y Jay (2011). Los algoritmos empleados fueron regresiÃ³n logÃ­stica, regresiÃ³n logÃ­stica con Backward Elimination (procedimiento de selecciÃ³n de variables en el que se incluyen todas las variables a la ecuaciÃ³n y se van eliminando aquellas que cumplan con el criterio de exclusiÃ³n, es decir las que tengan la menor relaciÃ³n con la variable dependiente) y regresiÃ³n logÃ­stica con Forward Selection (procedimiento de selecciÃ³n de variables en el que se incluyen una por una las variables a la ecuaciÃ³n, siempre que cumplan con el criterio de entrada, es decir la que tenga mayor relaciÃ³n con la variable dependiente). La tÃ©cnica de evaluaciÃ³n empleada fue la validaciÃ³n cruzada, mientras que las medidas de evaluaciÃ³n fueron la Exactitud (CA), la raÃ­z cuadrada media estandarizada (RMSE) y el error absoluto medio (MAE). Los autores afirman que los resultados fueron concluyentes sobre la efectividad de la regresiÃ³n logÃ­stica con mÃ©todos de selecciÃ³n, ya que la exactitud (CA), el error absoluto medio (MAE), y la raÃ­z cuadrada media estandarizada (RMSE) son mÃ¡s eficientes cuando los mÃ©todos de selecciÃ³n son empleados lo que valida la hipÃ³tesis de la investigaciÃ³n. 27 Por otra parte, en la investigaciÃ³n realizada por Delen, Walker, y Kadam (2004), se usÃ³ la minerÃ­a de datos para desarrollar modelos de predicciÃ³n del cÃ¡ncer de mama. En esta oportunidad se utilizaron dos tipos de tareas, regresiÃ³n y clasificaciÃ³n. Las tÃ©cnicas empleadas fueron, Ã¡rboles de decisiÃ³n, redes neuronales, y regresiÃ³n logÃ­stica. En el caso de los Ã¡rboles de decisiÃ³n se implementÃ³ el algoritmo C5.0 y para las redes neuronales se empleÃ³ la arquitectura PerceptrÃ³n multicapas, (MLP por sus siglas en inglÃ©s). De los tres algoritmos empleados, el Ã¡rbol de decisiÃ³n tuvo mejores resultados con una exactitud de 93.6%, sensibilidad de 96%, y especificidad del 90.6%. En segundo lugar se encuentran las redes neuronales con las cuales se obtuvo una exactitud del 91.2%, sensibilidad del 94.3 %, y especificidad del 87.4%. En la Ãºltima posiciÃ³n, la regresiÃ³n logÃ­stica con una exactitud del 89,2%, sensibilidad de 90.1%, y especificidad del 87.8%, en base a estos resultados los autores afirman que con los algoritmos de clasificaciÃ³n se obtuvieron mejores resultados en comparaciÃ³n con el algoritmo de regresiÃ³n. Algunas investigaciones emplean tÃ©cnicas de asociaciÃ³n; tal es el caso de la presentada en Antonie, ZaÃ¯ane y Coman (2001), la cual se centrÃ³ en clasificar mamografÃ­as digitalizadas en dos grandes grupos, normal y anormal utilizando tÃ©cnicas de asociaciÃ³n. La muestra consistiÃ³ de 322 imÃ¡genes pertenecientes a tres grandes categorÃ­as: normal, benigno y maligno, mientras que la tÃ©cnica empleada fue el algoritmo Apriori. Al analizar los resultados se observÃ³ que el conjunto de reglas era sensible al conjunto de datos desequilibrado que contiene alrededor de 70% de casos normales y solo el 30% de casos anÃ³malos, por lo que se decidiÃ³ repetir todo el proceso utilizando una distribuciÃ³n equilibrada de casos normales y anÃ³malos. La tasa de Ã©xito en este segundo intento fue mayor que el caso anterior, sin embargo, debido al desequilibro entre las imÃ¡genes malignas y las benignas, el nÃºmero de reglas generadas para las imÃ¡genes malignas fueron extremadamente reducidas, por lo tanto, tres de cada cuatro imÃ¡genes malignas fueron clasificadas como anormales benignas. En resumen, los resultados obtenidos en el segundo intento presentaron una menor tasa de reconocimiento de grasa en mamografÃ­as anormales y una mayor tasa de reconocimiento para todos los casos normales. Una investigaciÃ³n realizada por Pereira y YÃ©pez (2012) destinada al descubrimiento de patrones de supervivencia en mujeres con cÃ¡ncer invasivo de cuello uterino, empleÃ³ tÃ©cnicas de asociaciÃ³n y clasificaciÃ³n para la bÃºsqueda y descubrimientos de patrones insospechados y de interÃ©s en un conjunto de datos con caracterÃ­sticas especÃ­ficas de este grupo poblacional. El algoritmo utilizado para obtener las reglas de clasificaciÃ³n con Ã¡rboles de decisiÃ³n fue J48 (en WEKA), mientras que algoritmo utilizado para obtener las reglas de asociaciÃ³n fue el algoritmo Apriori. Los resultados obtenidos a travÃ©s de las tÃ©cnicas clasificaciÃ³n y asociaciÃ³n indican que estas son capaces de generar modelos consistentes, ademÃ¡s aplicando la tarea de AsociaciÃ³n se conocieron los principales factores socioeconÃ³micos y clÃ­nicos asociados a la supervivencia de este grupo poblacional. El objetivo de la investigaciÃ³n de Wilford, Rosete y RodrÃ­guez (2009), fue analizar la informaciÃ³n que provee un conjunto de coronariografÃ­as realizadas a pacientes con cardiopatÃ­a isquÃ©mica. En este trabajo se utilizaron dos tipos de tareas: clasificaciÃ³n y 28 asociaciÃ³n. Originalmente se consideraron 12 variables y se utilizaron 3 conjuntos de entrenamiento D, D1, y D2, donde estos Ãºltimos dos son subconjuntos disjuntos del primero. A los tres conjuntos se les aplicaron las mismas tÃ©cnicas, esto con el fin de realizar anÃ¡lisis comparativos entre los resultados de los datos centralizados (Conjunto D) y los datos separados en conjuntos disjuntos (conjuntos D1, D2). La tÃ©cnica empleada, para la tarea de clasificaciÃ³n fue Ã¡rboles de decisiÃ³n, y el algoritmo utilizado fue C4.5. El algoritmo utilizado en la tarea de asociaciÃ³n fue el algoritmo Apriori. En los resultados obtenidos se analizÃ³ la semejanza entre los conocimientos obtenidos de los distintos modelos generados con el objetivo de integrar los modelos generados por los conjuntos D1 y D2, y que el resultado fuese similar al modelo del conjunto D. Los autores afirman que con el algoritmo Apriori, fue posible lograr la integraciÃ³n de distintos modelos de datos con distintas fuentes homogÃ©neas. Por su parte, la investigaciÃ³n realizada por Soni, Ansari, Sharma y Soni (2011) planteÃ³ como objetivo emplear distintos algoritmos de minerÃ­a de datos para la predicciÃ³n efectiva de distintas enfermedades del corazÃ³n. Entre las tÃ©cnicas aplicadas se encuentran, Ã¡rboles de decisiÃ³n, clasificadores bayesianos, clasificaciÃ³n vÃ­a algoritmos de agrupaciÃ³n, asÃ­ como tambiÃ©n algoritmos genÃ©ticos utilizados para reducir el tamaÃ±o de los datos y obtener un conjunto Ã³ptimo de atributos. El resultado de aplicar distintas tÃ©cnicas predictivas en el mismo conjunto de datos revela que el Ã¡rbol de decisiÃ³n obtuvo un mayor desempeÃ±o (89%), y la clasificaciÃ³n bayesiana obtuvo (86.53%), mientras que la clasificaciÃ³n vÃ­a algoritmos de agrupaciÃ³n obtuvo un menor rendimiento. Sin embargo, luego de aplicar los algoritmos genÃ©ticos, la exactitud de los algoritmos mejorÃ³, el Ã¡rbol de decisiÃ³n obtuvo (99,2%), la clasificaciÃ³n bayesiana (96,5%) y la clasificaciÃ³n vÃ­a clustering obtuvo (88,3%). Por Ãºltimo, se presenta la investigaciÃ³n realizada por CasaÃ±as, Ramos y NÃºÃ±ez (2011) cuyo objetivo se basa en la construcciÃ³n de un modelo de clasificaciÃ³n morfolÃ³gica de espermatozoides humanos a partir de imÃ¡genes. La evaluaciÃ³n morfolÃ³gica es de gran utilidad ya que provee informaciÃ³n Ãºtil en la toma de decisiones en procedimientos de reproducciÃ³n. Pero la realizaciÃ³n de dicha evaluaciÃ³n resulta una tarea compleja para el experto debido a todos los factores que se deben tener en cuenta, por lo que es deseable la automatizaciÃ³n de dicho proceso haciendo uso de imÃ¡genes digitales correspondientes a lÃ¡minas de muestras de semen. Para generar el conjunto de datos se utilizÃ³ una herramienta de adquisiciÃ³n de conocimiento creada por Ferreira (2008), esta aplicaciÃ³n permite cargar imÃ¡genes digitales para realizar la segmentaciÃ³n de los espermatozoides y extraer las caracterÃ­sticas deseables de cada muestra. El uso de esta herramienta permitiÃ³ generar un conjunto de datos a travÃ©s del anÃ¡lisis de un grupo de muestras de semen. Entre las tÃ©cnicas implementadas se encuentran Ã¡rboles de decisiÃ³n, reglas de clasificaciÃ³n y redes neuronales. En el caso de los Ã¡rboles de decisiÃ³n se aplicÃ³ el algoritmo C4.5, para las reglas de clasificaciÃ³n se utilizÃ³ el algoritmo RIPPER y por Ãºltimo se utilizaron redes neuronales de base radial (RBFNN). Los autores afirman que los mejores modelos son los estimados con las redes neuronales y con el algoritmo C4.5 en comparaciÃ³n con el algoritmo RIPPER. 29 CAPÃTULO 2. MARCO APLICATIVO 2.1. Planteamiento del problema En la Escuela de ComputaciÃ³n de la Universidad Central de Venezuela se han realizado Trabajos de investigaciones cuyos objetivos se centran en la automatizaciÃ³n de la evaluaciÃ³n morfolÃ³gica de espermatozoides humanos. Uno de ellos es el presentado por Ferreira (2008), el cual consistiÃ³ en la construcciÃ³n de una herramienta de adquisiciÃ³n de conocimiento, la cual identificara y extrajera de forma automÃ¡tica caracterÃ­sticas de cÃ©lulas espermÃ¡ticas humanas, y que funcionara a partir de la definiciÃ³n de un modelo basado en tÃ©cnicas de procesamiento digital de imÃ¡genes. Esta aplicaciÃ³n requiriÃ³ el diseÃ±o de un algoritmo de segmentaciÃ³n que permitiera identificar, con el menor margen de error posible, los espermatozoides presentes asÃ­ como tambiÃ©n el diseÃ±o de un algoritmo de extracciÃ³n de caracterÃ­sticas que midiera y codificara las distintas estructuras presentes en las regiones resultantes del procedimiento de segmentaciÃ³n. Esta herramienta, ademÃ¡s de facilitar a los expertos el procesamiento de las imÃ¡genes de las muestras de espermatozoides, permitiÃ³ introducir etiquetas de clasificaciÃ³n con el objetivo de construir vectores de caracterÃ­sticas para estimar modelos de clasificaciÃ³n. Sin embargo, la clasificaciÃ³n morfolÃ³gica seguÃ­a dependiendo del conocimiento y subjetividad del experto. Es por esto que la investigaciÃ³n de CasaÃ±as, Ramos, y NÃºÃ±ez (2011) se centrÃ³ en la construcciÃ³n de un modelo de clasificaciÃ³n morfolÃ³gico de espermatozoides humanos, haciendo uso de distintos algoritmos de minerÃ­a de datos y tomando como conjunto de datos los vectores de caracterÃ­sticas extraÃ­dos de la investigaciÃ³n de Ferreira (2008). Sin embargo, estas aproximaciones no se encuentran integradas en una Ãºnica aplicaciÃ³n que sirva de apoyo al experto. AdemÃ¡s, presentan ciertas caracterÃ­sticas desfavorables que necesitan ser mejoradas, tal es el caso de los algoritmos de segmentaciÃ³n diseÃ±ados por Ferreira (2008), los cuales no se encuentran adaptados para tratar con imÃ¡genes de mayor resoluciÃ³n a la establecida en su aplicaciÃ³n (1600x1200 pÃ­xeles). En el caso de la investigaciÃ³n realizada por CasaÃ±as, Ramos, y NÃºÃ±ez (2011) se ve atada directamente a un Ãºnico modelo de clasificaciÃ³n, sin ninguna posibilidad de modificarlo de acuerdo a las necesidades del experto. Con el fin de subsanar estos problemas, se propone desarrollar una aplicaciÃ³n que de forma automatizada, permita la realizaciÃ³n de evaluaciones morfolÃ³gicas de cabezas de espermatozoides a partir de imÃ¡genes digitales, sirviendo de apoyo a los expertos en el Ã¡rea. La aplicaciÃ³n permitirÃ¡ la carga de imÃ¡genes (de mayor resoluciÃ³n a 1600x1200px) correspondientes a lÃ¡minas de muestras de semen, de igual forma permitirÃ¡ establecer valores de referencia y estarÃ¡ en capacidad de realizar la evaluaciÃ³n de la morfologÃ­a espermÃ¡tica de las muestras suministradas (de forma automÃ¡tica). Es importante mencionar que el experto contarÃ¡ con un mÃ³dulo que generarÃ¡ un nuevo modelo de 30 clasificaciÃ³n en base a muestras clasificadas previamente basÃ¡ndose en su conocimiento. En la Figura 11 se muestra un esquema general de la soluciÃ³n. Figura 11: Vista general de la aplicaciÃ³n ï‚· SegmentaciÃ³n y extracciÃ³n de caracterÃ­sticas: En este mÃ³dulo, se procesarÃ¡n las imÃ¡genes utilizando los algoritmos de segmentaciÃ³n y extracciÃ³n de caracterÃ­sticas diseÃ±ados por Ferreira (2008). Ã‰stos permitirÃ¡n identificar los espermatozoides que se encuentran en la muestra, asÃ­ como tambiÃ©n extraer las caracterÃ­sticas presentes en cada uno de los espermatozoides. AdemÃ¡s, se realizaran modificaciones para que se puedan procesar imÃ¡genes con resoluciones mayores a 1600x1200 pÃ­xeles. ï‚· ClasificaciÃ³n de espermatozoides: En este mÃ³dulo se clasificarÃ¡n cada uno de los espermatozoides extraÃ­dos en la fase anterior, haciendo uso de un modelo construido aplicando el proceso de minerÃ­a de datos. Como paradigma de clasificaciÃ³n se propone utilizar el esquema de combinaciÃ³n de clasificadores (Ensemble Classifiers). ï‚· CreaciÃ³n de nuevo modelo de clasificaciÃ³n: En este mÃ³dulo el experto podrÃ¡ clasificar muestras de forma manual basÃ¡ndose en su conocimiento, generando asÃ­ vectores de caracterÃ­sticas que serÃ¡n almacenados y que podrÃ¡n ser utilizados como conjunto de datos al momento de generar el nuevo modelo de clasificaciÃ³n. De igual forma, el experto podrÃ¡ cargar un archivo con el conjunto de datos previamente clasificado. ï‚· ContabilizaciÃ³n de espermatozoides: Se llevarÃ¡ el conteo de espermatozoides por muestra, hasta alcanzar los 200 establecidos como lÃ­mite, siguiendo el protocolo que utilizan los expertos. ï‚· ClasificaciÃ³n morfolÃ³gica de la muestra: Una vez clasificados 200 espermatozoides, se realizarÃ¡ la evaluaciÃ³n morfolÃ³gica de la muestra, tomando como base las reglas que utilizan los expertos y los valores de referencia. 31 2.2. Objetivos El objetivo de la presente investigaciÃ³n consiste en: ï‚· Objetivo general: Desarrollar una aplicaciÃ³n, basada en minerÃ­a de datos, que de forma automatizada realice la evaluaciÃ³n morfolÃ³gica de cabeza de espermatozoides a partir de imÃ¡genes digitales. ï‚· Objetivos especÃ­ficos o Desarrollar el mÃ³dulo de segmentaciÃ³n y extracciÃ³n de caracterÃ­sticas morfolÃ³gicas a partir de imÃ¡genes digitales de muestras de cÃ©lulas espermÃ¡ticas humanas, tomando como base los algoritmos diseÃ±ados por Ferreira (2008). o Generar un modelo de clasificaciÃ³n de la morfologÃ­a de cabeza de espermatozoide, aplicando el proceso de minerÃ­a de datos, y utilizando el enfoque Ensemble Classifiers. o Desarrollar el mÃ³dulo de conteo de espermatozoides y generaciÃ³n de la evaluaciÃ³n morfolÃ³gica siguiendo las reglas de los expertos. o Desarrollar un mÃ³dulo que permita al experto generar un nuevo modelo de datos a partir de la clasificaciÃ³n previa y bajo su criterio de las muestras de cabezas de espermatozoides. o Integrar los mÃ³dulos en una aplicaciÃ³n que tome como entrada las imÃ¡genes correspondientes a una muestra de semen. o Evaluar el desempeÃ±o de la aplicaciÃ³n, a travÃ©s de pruebas de rendimiento y de fidelidad. 2.3. MÃ³dulo de segmentaciÃ³n y extracciÃ³n de caracterÃ­sticas En este mÃ³dulo, se emplearon los algoritmos de segmentaciÃ³n y extracciÃ³n de caracterÃ­sticas diseÃ±ados por Ferreira (2008). Ã‰stos permitieron identificar los espermatozoides presentes en una determinada muestra, asÃ­ como tambiÃ©n extraer las caracterÃ­sticas de cada uno de estos espermatozoides. ï‚· SegmentaciÃ³n de imÃ¡genes: Los algoritmos de segmentaciÃ³n hacen uso de imÃ¡genes de tamaÃ±o fijo (1600x1200 pÃ­xeles) las cuales fueron capturadas bajo las mismas condiciones que aplicarÃ­a un experto al momento de analizar una muestra. Es decir, la muestra debiÃ³ ser posicionada en las regiones con menor densidad de espermatozoides con el fin de evitar agrupamientos. Luego, se 32 empleÃ³ la tÃ©cnica de recorrido de escena en forma de â€œSâ€ y por Ãºltimo se llevÃ³ un conteo de espermatozoides, hasta alcanzar los 200, para poder calcular la concentraciÃ³n espermÃ¡tica. El prÃ³ximo paso fue registrar las imÃ¡genes en el espacio de color RGB, por lo que se debiÃ³ convertir cada imagen a escala de grises, evitando la perdida de informaciÃ³n de las mismas. La estrategia utilizada para realizar la conversiÃ³n, consistiÃ³ en analizar el histograma de cada canal y determinar, cuÃ¡l de estos aportaba mayor informaciÃ³n de contraste a la escena. Los resultados indican que los canales rojo y verde aportan gran cantidad de informaciÃ³n, a diferencia del canal azul, por lo que se decidiÃ³ prescindir de este Ãºltimo. Luego se aplicÃ³ una binarizaciÃ³n a la imagen, aplicando tÃ©cnicas de umbralizaciÃ³n de dos niveles sobre la imagen de canal rojo. La imagen resultante, permite construir dos matrices, la MAP (MÃ¡scara de Ã¡rea de procesamiento), y la MCE (MÃ¡scara de cabezas de espermatozoides) Ferreira (2008). La MAP es utilizada para delimitar la regiÃ³n a segmentar indicando que pÃ­xel debe ser o no procesado. Por otro lado la MCE almacena las posibles Ã¡reas de la imagen que corresponden a las cabezas de los espermatozoides. EstÃ¡ ultima estructura se obtiene aplicando el algoritmo de bÃºsqueda de profundidad o DFS sobre la imagen binarizada y descartando las regiones con dimensiones inferiores a 18x18 pÃ­xeles y superiores a 55x55 (HeurÃ­sticamente calculados), por lo que se debe cambiar el valor de estos a cero. Ferreira (2008). Existen ocasiones, en donde las cabezas de espermatozoides cercanas entre sÃ­, suelen fusionarse en una misma regiÃ³n, produciendo un inconveniente a la hora de realizar la segmentaciÃ³n de las imÃ¡genes. Por esta razÃ³n, se diseÃ±Ã³ un mecanismo capaz de separar las regiones mediante la intensidad del pÃ­xel actual y sus vecinos llamada NÃºcleo de CÃ­rculo y Anillo (NCA). La idea consiste en tener dos regiones. La regiÃ³n A estÃ¡ conformada por un cÃ­rculo centrado en el pÃ­xel de interÃ©s y radio R. La regiÃ³n B consiste en un anillo con radio interno R y radio externo S, como se puede apreciar en la figura 12. Figura 12: NÃºcleo de CÃ­rculo y Anillo (NCA), Ferreira (2008) 33 Se compara el promedio de las intensidades de gris de la regiÃ³n A, con el promedio de intensidades de gris de la regiÃ³n B, esta segmentaciÃ³n se logra teniendo en cuenta que los espermatozoides son mÃ¡s oscuros que el fondo, por lo que, si el promedio de A es menor al de B, al pÃ­xel central se le asigna el valor 1, caso contrario se le asigna valor 0. En la figura 12 se observa la representaciÃ³n del NCA. El siguiente paso consiste en construir la MÃ¡scara de NÃºcleo de CÃ­rculo y Anillo (MNCA) cuyo objetivo es almacenar la estructura de los espermatozoides como un conjunto, incluyendo cabeza, pieza intermedia y cola (en el caso de tenerla). Para poder construir esta matriz se deben realizar dos operaciones. Primero binarizar la imagen utilizando NCA con radio R=3 y S=5, y luego eliminar mediante DFS las regiones cuya dimensiÃ³n sea inferior a 25x25 pÃ­xeles, Ferreira (2008). Luego se debe construir la MÃ¡scara de Contornos de Espermatozoides (MCOE) cuya funcionalidad es corregir los errores de la MCE, haciendo uso de la MNCA. Al disponer de la matriz MCOE, es posible remover las regiones cuya Ã¡rea sea menor a 200 pÃ­xeles (haciendo uso de DFS), asÃ­ como tambiÃ©n las regiones que no sean intersectadas por la MNCA (correspondientes a manchas u otros elementos). La efectividad de todas estas funciones (cuyo objetivo es crear estructuras matriciales para delimitar las regiones a procesar), puede verse afectada al utilizar una imagen de mayor o menor resoluciÃ³n, ya que las regiones a descartar podrÃ­an presentar una proporciÃ³n distinta a la establecida por las heurÃ­sticas definidas previamente, lo que traerÃ­a como consecuencia posibles errores de segmentaciÃ³n. Con el fin de evitar discrepancias en el procesamiento de las imÃ¡genes debido a sus dimensiones, se modificaron todas estas funciones para que puedan realizar los mismos procesamientos haciendo uso de las proporciones de la imagen (porcentaje total del tamaÃ±o de la imagen). Para calcular las dimensiones de las regiones basadas en la proporciÃ³n de la imagen, se determinÃ³ la relaciÃ³n entre el Ã¡rea total de la imagen utilizada por Ferreira (2008) y las dimensiones de cada regiÃ³n (calculadas heurÃ­sticamente) (Ver fÃ³rmula 17). Sea Pi: el factor de proporciÃ³n de la regiÃ³n Ri Sea Wi el ancho de la regiÃ³n Ri Sea A: el Ã¡rea de la imagen utilizada por Ferreira (2008). ğ‘ƒğ‘– = ğ‘Šğ‘– ğ´ (17) 34 Tomando como ejemplo el cÃ¡lculo de la MÃ¡scara de Cabezas de Espermatozoides (MCE), la cual descarta las regiones con dimensiones inferiores a 18x18 pÃ­xeles o superiores a 55x55 pÃ­xeles, los valores resultantes serÃ­an los siguientes: R1=18x18px y R2= 55x55px. AsÃ­, el cÃ¡lculo del factor de proporciÃ³n producirÃ­a los siguientes resultados: Una vez obtenido este factor, es posible su uso para el cÃ¡lculo de las nuevas Regiones de delimitaciÃ³n de acuerdo con las dimensiones de la imagen a procesar (FÃ³rmula 18). Por ejemplo, si se procesa una imagen cuya Ã¡rea es el doble de las utilizadas por Ferreira (2008), las regiones obtenidas serÃ­an las siguientes: Por lo tanto, al momento de calcular la MCE de la imagen cuya Ã¡rea es el doble de la original, se deberÃ¡n descartar las regiones con dimensiones inferiores a 36x36 pÃ­xeles o superiores a 110x110 pÃ­xeles. Como se mencionÃ³ anteriormente, este procedimiento se aplicÃ³ en todas las funciones cuyo objetivo era crear estructuras matriciales para realizar la segmentaciÃ³n de imÃ¡genes: o CreaciÃ³n de la MÃ¡scara de Cabezas de Espermatozoide (MCE), donde se remueven las regiones con dimensiones inferiores a 18x18 pÃ­xeles o superiores a 55x55 pÃ­xeles. o CreaciÃ³n de la MÃ¡scara de NÃºcleo de CÃ­rculo y Anillo (MNCA), donde se remueven mediante DFS, las regiones con dimensiones inferiores a 25x25 pÃ­xeles. o CreaciÃ³n de la MÃ¡scara de Contornos de Espermatozoides (MCOE), donde se remueven mediante DFS, las regiones con dimensiones inferiores a 200 pÃ­xeles. ğ‘ƒ1 = 18 1600 âˆ— 1200 = 0.00000937 ğ‘ƒ2 = 55 1600 âˆ— 1200 = 0.00002864583333 ğ‘…1 = ((1600 âˆ— 1200)*2)*0.00000937= 36 ğ‘…2 = ((1600 âˆ— 1200)*2)*0.00002864583333= 110 ğ‘…ğ‘– = ğ´ âˆ— ğ‘ƒğ‘– (18) 35 ï‚· ExtracciÃ³n de caracterÃ­sticas: Una vez culminado el proceso de segmentaciÃ³n, e identificado cada una de las regiones en las imÃ¡genes, es necesario extraer las caracterÃ­sticas de cada una de estas regiones, por lo que se deben seguir los criterios definidos por la OMS a la hora de clasificar morfolÃ³gicamente cabezas de espermatozoides, Ferreira (2008). Se decidiÃ³ utilizar como variables el Ã¡rea de la regiÃ³n acrosÃ³mica, y post- acrosÃ³mica, asÃ­ como el Ã¡rea total de la cabeza. Estos valores fueron cÃ¡lculados utilizando DFS y permitieron determinar la presencia de: o Defectos de forma: Estimando que tan ovalada resulta la cabeza del espermatozoide a travÃ©s del cÃ¡lculo del tamaÃ±o de sus ejes de orientaciÃ³n, o verificando la presencia de anormalidades calculando el perÃ­metro de la cabeza, contando los pÃ­xeles del borde y comparÃ¡ndolos con el perÃ­metro de la elipse definida a partir de los ejes. o Defectos de inserciÃ³n asimÃ©trica de pieza intermedia: Calculando el Ã¡ngulo de inserciÃ³n entre el eje horizontal de la cabeza y la pieza intermedia. o Gota citoplasmÃ¡tica y cuello engrosado: En este caso, es necesario calcular el ancho mÃ¡ximo de la pieza intermedia. Al finalizar esta fase, se obtuvo un conjunto de 13 variables que conformaron el vector de caracterÃ­sticas; algunas de Ã©stas surgieron de la combinaciÃ³n entre otras, en la Tabla 2 se describe el conjunto completo y en la Figura 13 se aprecian los aspectos morfolÃ³gicos evaluados. ParÃ¡metro DescripciÃ³n Ãrea cabeza NÃºmero de pÃ­xeles contenidos en la regiÃ³n de la cabeza. Ãrea acrosoma NÃºmero de pÃ­xeles contenidos en la regiÃ³n acrosÃ³mica. Ãrea post-acrosoma NÃºmero de pÃ­xeles contenidos en la regiÃ³n post-acrosÃ³mica. Eje horizontal cabeza Longitud en pÃ­xeles del eje horizontal de la cabeza. Eje vertical cabeza Longitud en pÃ­xeles del eje vertical de la cabeza. Diferencia Ei-Cr Diferencia en pÃ­xeles entre contorno real y contorno de elipse ideal calculada a partir de los ejes de la cabeza. Elipticidad DivisiÃ³n entre eje horizontal y eje vertical de la cabeza. PerÃ­metro real NÃºmero de pÃ­xeles que conforman el borde de la cabeza. PerÃ­metro ideal PerÃ­metro elÃ­ptico definido por: p = 2Ï€âˆš ((aÂ²+bÂ²)/ 2). Diferencia Pi - Pr Diferencia entre perÃ­metro elÃ­ptico ideal y perÃ­metro real. Presencia PI Indica si la pieza intermedia estÃ¡ o no presente. Ãngulo inserciÃ³n PI Ãngulo en grados entre eje Horizontal de la cabeza y eje PIâ€“cabeza. Ancho mÃ¡ximo PI Ancho mÃ¡ximo en pÃ­xeles de PI. Tabla 2: Conjunto de caracterÃ­sticas extraÃ­das de la imagen, Ferreira (2008) 36 Figura 13: Aspectos morfolÃ³gicos evaluados, Ferreira (2008) 2.4. MÃ³dulo de clasificaciÃ³n de espermatozoides Como paradigma de clasificaciÃ³n se utilizÃ³ el esquema de combinaciÃ³n de clasificadores (Ensemble Classifiers), aplicando el mÃ©todo Bagging. La finalidad de aplicar este paradigma, radica en mejorar los resultados de los clasificadores individuales. EstÃ¡ tÃ©cnica constÃ³ de dos etapas, la generaciÃ³n de los modelos, en donde se aplicÃ³ cada uno de los algoritmos seleccionados, al conjunto de entrenamiento: ï‚· Ãrboles de decisiÃ³n ï‚· Reglas de ClasificaciÃ³n ï‚· Redes Neuronales de base radial La segunda etapa es la de clasificaciÃ³n, la cual emplea cada uno de los modelos generados para predecir la clase de cada una de las instancias del conjunto de datos. Como se ve en la Figura 14 una instancia puede pertenecer a distintas clases, pero aplicando un esquema de votaciÃ³n, dicha instancia es asignada a la clase mÃ¡s frecuente. La clasificaciÃ³n de la muestra se puede llevar a cabo mediante tres enfoques diferentes: unanimidad, mayorÃ­a simple y pluralidad. En el caso de la unanimidad, todos los clasificadores coinciden en su decisiÃ³n; la mayorÃ­a simple se refiere a la coincidencia del 50% mÃ¡s uno; y finalmente la pluralidad la cual consiste en seleccionar la clase sobre la que coinciden como la correcta el mayor nÃºmero de clasificadores (Campo, 2009). En este trabajo se implementÃ³ la pluralidad como esquema de votaciÃ³n. 37 Figura 14: Modelo de CombinaciÃ³n de Clasificadores Los Anexos A y B contienen la descripciÃ³n de cada uno de los modelos obtenidos individualmente con los algoritmos J48 y JRIP respectivamente, recordando que los modelos generados por las redes neuronales no son humanamente entendibles. 2.5. MÃ³dulo de creaciÃ³n de un nuevo modelo de clasificaciÃ³n Este mÃ³dulo permite generar otro modelo de clasificaciÃ³n, utilizando un nuevo conjunto de datos que puede ser obtenido de dos formas: ï‚· Utilizando el mÃ³dulo de clasificaciÃ³n manual de las muestras, en donde el experto en base a su conocimiento determina la clase de cada uno de los espermatozoides presentes en la muestra, generando asÃ­ vectores de clasificaciÃ³n (siguiendo el mismo lineamiento que Ferreira (2008) planteo en su aplicaciÃ³n). Estos vectores son almacenados en un archivo .arff (formato utilizado WEKA Waikato Environment for Knowledge Analysis, ver anexo D), listo para ser utilizado por los algoritmos de clasificaciÃ³n y generar un nuevo modelo de ClasificaciÃ³n, que puede ser utilizado en el mÃ³dulo de clasificaciÃ³n automÃ¡tica. ï‚· En este caso el experto ya tiene preparado los vectores de clasificaciÃ³n ordenados en un archivo .arff (ver anexo D), los cuales pueden ser cargados directamente a la aplicaciÃ³n. 38 2.6. EstimaciÃ³n del modelo de clasificaciÃ³n En esta secciÃ³n se describe detalladamente, el proceso de descubrimiento de conocimiento a partir de datos (KDD) aplicado en esta investigaciÃ³n. Es importante mencionar que la calidad de las salidas obtenidas en cada fase influyÃ³ significativamente en los resultados de las fases posteriores. ï‚· Fase de generaciÃ³n, recopilaciÃ³n e integraciÃ³n de datos: Para generar el conjunto de datos se procesaron 12 muestras de semen (ver figura 15). Por cada muestra se obtuvo una cantidad de imÃ¡genes distinta, ya que el nÃºmero de imÃ¡genes depende directamente de la concentraciÃ³n espermÃ¡tica de la muestra. Es decir, si la concentraciÃ³n es baja la cantidad de imÃ¡genes es mayor, caso contrario si la concentraciÃ³n es alta la cantidad de imÃ¡genes disminuye. Esto es debido a los lineamientos definidos por la OMS (2001), los cuales especifican la cantidad total espermatozoides que debe ser analizada en una muestra, la cual no debe superar los 200. Figura 15: Conjunto de imÃ¡genes que conforman a una muestra El siguiente paso fue utilizar la aplicaciÃ³n creada por Ferreira (2008), la cual permitiÃ³ segmentar y extraer las caracterÃ­sticas de las imÃ¡genes capturadas. Haciendo uso de esta herramienta y con la participaciÃ³n de expertos en la realizaciÃ³n de este examen, se generÃ³ un conjunto de datos (TambiÃ©n conocido como tabla-atributo-valor) compuesto de 868 vectores de caracterÃ­sticas. El vector de caracterÃ­stica estÃ¡ compuesto por 17 variables, descritas en la Tabla 3. 39 Nombre Tipo de dato Ãrea cabeza NumÃ©rico Ãrea acrosoma NumÃ©rico Ãrea post-acrosoma NumÃ©rico Eje horizontal cabeza NumÃ©rico Eje vertical cabeza NumÃ©rico Diferencia Ei-Cr NumÃ©rico Elipticidad NumÃ©rico PerÃ­metro real NumÃ©rico PerÃ­metro ideal NumÃ©rico Diferencia Pi - Pr NumÃ©rico Presencia PI NumÃ©rico Ãngulo inserciÃ³n PI NumÃ©rico Ancho mÃ¡ximo PI NumÃ©rico Tipo de cabeza Nominal Tipo de cuello Nominal Tipo de cola Nominal ClasificaciÃ³n Nominal Tabla 3: Variables que conforman el vector de caracterÃ­sticas ï‚· Fase de preparaciÃ³n de los datos (Limpieza, TransformaciÃ³n y SelecciÃ³n): Una vez obtenidas y procesadas las imÃ¡genes en una tabla atributo valor, se procediÃ³ a realizar la fase de procesamiento de los datos para obtener la vista minable. o Limpieza: Mediante inspecciÃ³n visual, realizada por los expertos, se detectaron errores de segmentaciÃ³n en algunos registros, asÃ­ como errores en el cÃ¡lculo de algunas caracterÃ­sticas, principalmente a la hora de calcular los ejes horizontales y verticales. Por otro lado, analizando los valores presentados en los histogramas de cada una de las variables, se localizaron valores extremos, los cuales fueron eliminados. Entonces el conjunto de datos fue reducido a 832 registros de los cuales 154 corresponden a cabezas normales y 678 a anormales. o Transformaciones: No fue necesario la modificaciÃ³n de la forma de los datos, es decir, cambiar el rango o tipo de dato de un atributo o un conjunto de atributos. 40 o CreaciÃ³n de variables: se generÃ³ una nueva variable llamada Cociente_Acrosoma_Atotal, el cual representa el cociente entre los atributos Ãrea Acrosoma y Ãrea Cabeza. Ya que la OMS (2001) especifica que el acrosoma de un espermatozoide normal debe ocupar entre el 40% y 70% del Ã¡rea de la cabeza. o SelecciÃ³n de variables: Los atributos (Tipo de cuello, Tipo de cola, ClasificaciÃ³n) fueron eliminados previamente, ya que no son variables necesarias para la clasificaciÃ³n morfolÃ³gica de cabezas. La variable Tipo de cabeza pasÃ³ a ser la variable ClasificaciÃ³n, dejando un total de 14 atributos presentes en la muestra. A este conjunto de datos se le aplicÃ³ diferentes criterios de selecciÃ³n de variables, tal como se muestra en la tabla 4 MÃ©todo de BÃºsqueda Evaluador de Atributito Atributos seleccionados Ranking Chi cuadrado 4,2,3,7,5,6,1,8 Ranking GainRatio 7,5,4,2,3,1,6,8 Ranking Ganancia de informaciÃ³n 4,2,7,3,5,1,6,8 Tabla 4: Criterio de selecciÃ³n de variables El orden de selecciÃ³n de los atributos generados por los filtros, determina la importancia de los mismos, por lo que la variable nÃºmero 8 (Diferencia Ei â€“ Cr) puede ser descartada, al ser seleccionada como la Ãºltima por todos los mÃ©todos de bÃºsqueda. Para validar que las variables descartadas no produjeron un cambio muy significativo se compara el porcentaje de instancias clasificadas correctamente tanto antes y despuÃ©s de la selecciÃ³n de variables (ver fase de EvaluaciÃ³n e InterpretaciÃ³n). ï‚· GeneraciÃ³n de nuevos datos: El conjunto de datos utilizado se encontraba desbalanceado ya que contenÃ­a mÃ¡s variables pertenecientes a la clase â€œAnormalâ€, en comparaciÃ³n con la clase â€œNormalâ€, lo que podÃ­a dificultar la generaciÃ³n de un buen modelo de clasificaciÃ³n. Es por esto que se utilizÃ³ el algoritmo SMOTE, aplicando sobre muestreo (over-sampling) de la clase minoritaria, con el fin de nivelar la proporciÃ³n sobre los datos existentes. En la Figura 16 se describe este algoritmo, el cual permitiÃ³ generar cuatro vistas minables para el anÃ¡lisis de los resultados: o Una con los datos originales, 832 registros o Tres con la clase minoritaria aumentada en proporciones del (50%,100%, y 150%) 41 Figura 16: Algoritmo SMOTE (Chawla et al., 2002) ï‚· Fase de minerÃ­a de datos: En esta fase se seleccionaron las tÃ©cnicas de minerÃ­a de datos, de acuerdo a los objetivos especÃ­ficos planteados para poder estimar el modelo de clasificaciÃ³n de la morfologÃ­a de cabezas de espermatozoides humanos. Es importante mencionar que los resultados de la investigaciÃ³n realizada por CasaÃ±as, Ramos & NÃºÃ±ez (2011) fueron tomados en cuenta para la selecciÃ³n de las tÃ©cnicas y algoritmos. En la Tabla 5, se especifican los algoritmos utilizados. TÃ©cnica de minerÃ­a de datos Algoritmo Ãrboles de decisiÃ³n J48 (ImplementaciÃ³n del algoritmo C4.5 en WEKA ) Reglas de ClasificaciÃ³n JRIP (ImplementaciÃ³n del algoritmo RIPPER en WEKA) Redes Neuronales RBFNetwork (ImplementaciÃ³n del algoritmo RBFN en WEKA) Tabla 5: TÃ©cnicas y algoritmos empleados o En esta fase se utilizaron los algoritmos que provee la plataforma para el aprendizaje automÃ¡tico y la minerÃ­a de datos WEKA (Hall, Frank, Holmes & others, 2009). Esta plataforma es de software libre distribuido bajo la licencia GNU-GPL. o Como paradigma de clasificaciÃ³n se utilizÃ³ el esquema de combinaciÃ³n de clasificadores (Ensemble Classifiers), explicado en la SecciÃ³n 2.4. ï‚· Fase de EvaluaciÃ³n e InterpretaciÃ³n del modelo de clasificaciÃ³n: En esta fase se utilizÃ³ como tÃ©cnica de evaluaciÃ³n la validaciÃ³n cruzada de 10 particiones (Cross Validation). Mientras que las medidas de evaluaciÃ³n seleccionadas fueron la exactitud predictiva (fÃ³rmula 11) y la media geomÃ©trica (fÃ³rmula 16). Algoritmo_SMOTE (D: Conjunto de datos, P: proporciÃ³n de datos a aumentar, K: nÃºmero de vecinos): K_V_C []=calcularVecinos(Ejemplo_Clase_minoritaria) // se almacenan los K vecinos de la instancia perteneciente a la clase minoritaria D_V_K []=CaclularDiferencia(D, K_V_C) // Se calcula diferencia entre el valor de muestra y el vecino Elemento=GenerarElemento(D_V_K, Ejemplo_Clase_minoritaria) // Se genera un nuevo elemento, al sumar (la multiplicaciÃ³n de la diferencia con un aleatorio entre 0 y 1) con el valor original de la muestra Fin _ Algoritmo_SMOTE 42 En la tabla 6 y 7 se presentan los resultados obtenidos con cada una de las vistas minables utilizadas en las fases previas. La diferencia entre cada tabla radica en la variable eliminada en la fase de selecciÃ³n. La tabla 7 muestra los resultados antes de la eliminaciÃ³n de variables, mientras que la tabla 8 refleja los resultados despuÃ©s de eliminar la variable Diferencia Ei â€“ Cr. ProporciÃ³n de datos aumentada RBFNetwork JRIP J48 CombinaciÃ³n de clasificadores Exactitud G- media Exactitud G- media Exactitud G- media Exactitud G- media 0% 82.932 68.365 81.850 64.404 81.009 75.644 82.692 71.111 50% 81.848 81.258 80.638 75.453 80.638 78.649 82.178 79.626 100% 82.657 83.625 80.020 78.058 80.020 81.468 81.440 82.140 150% 82.878 83.944 80.244 79.283 82.690 83.104 83.72 84.495 Tabla 6: Resultados obtenidos previo a la selecciÃ³n de variables ProporciÃ³n de datos aumentada RBFNetwork JRIP J48 CombinaciÃ³n de clasificadores Exactitud G- media Exactitud G- media Exactitud G- media Exactitud G- media 0% 83.293 72.094 82.211 61.646 81.129 75.710 82.692 70.765 50% 81.738 79.665 80.198 73.720 80.858 79.865 82.838 80.682 100% 82.555 82.967 79.310 76.294 81.135 81.407 82.251 82.310 150% 83.066 83.910 81.467 80.331 83.819 85.083 84.477 85.398 Tabla 7: Resultados obtenidos despuÃ©s de la selecciÃ³n de variables o Los valores arrojados por la medida de Exactitud y la medida GeomÃ©trica reflejan que el modelo obtenido con la tÃ©cnica de combinaciÃ³n de clasificadores es el mejor en comparaciÃ³n con los modelos obtenidos de forma individual, siempre que la proporciÃ³n este aumentada al 150%. Sin embargo, luego de hacer la selecciÃ³n de variables, la tabla 8 refleja que en la mayorÃ­a de los casos, la combinaciÃ³n de clasificadores es mejor que los modelos individuales. o El incremento de la media GeomÃ©trica estÃ¡ sujeto al aumento de la proporciÃ³n de la clase minoritaria (â€œNormalâ€), debido a la reducciÃ³n del desbalanceo de las clases, implicando una mejora en la clasificaciÃ³n de los datos. o Los porcentajes de clasificaciÃ³n reflejados en las Tabla 6 y 7 tienen una variaciÃ³n, no muy significativa despuÃ©s de la selecciÃ³n de las variables. Sin embargo, descartar la variable Diferencia Ei â€“ Cr tuvo repercusiÃ³n en el proceso, al darle mayor ventaja a la combinaciÃ³n de clasificadores. 43 o Los resultados permiten concluir que el conjunto de datos cuya proporciÃ³n fue aumentada al 150% y se le aplico selecciÃ³n de variables, es el mÃ¡s propicio para obtener mejores resultados al momento der clasificar una instancia. 2.7. Desarrollo de la aplicaciÃ³n A continuaciÃ³n, se describen los casos de usos, la interfaz de usuario y posteriormente las tecnologÃ­as utilizadas. 2.7.1 Casos de uso: En esta secciÃ³n se detallan los casos de usos bÃ¡sicos definidos para satisfacer los requerimientos de la aplicaciÃ³n. Nivel 0 ï‚· Actores: (Usuarios) Bioanalistas encargados de realizar la clasificaciÃ³n morfolÃ³gica de cabeza de espermatozoide humano. ï‚· Casos de uso: Figura 17: Modelo de casos de uso Nivel 0 del clasificador morfolÃ³gico de cabezas Nombre Clasificar Muestra ID 1 Pre-CondiciÃ³n Tener lista el grupo de imÃ¡genes que representa la muestra. DescripciÃ³n: Esta actividad permite a los usuarios cargar un conjunto de imÃ¡genes para poder realizar la clasificaciÃ³n espermÃ¡tica de cabeza. Post-CondiciÃ³n Se despliega la pantalla de clasificaciÃ³n con distintas opciones para el usuario. 44 Nombre Crear modelo ID 2 Pre-CondiciÃ³n Tener lista el grupo de imÃ¡genes o conjunto de datos (previamente clasificado) necesarios para la generaciÃ³n de un nuevo modelo de datos. DescripciÃ³n: Esta actividad permite a los usuarios crear un nuevo modelo de datos a partir de dos opciones, cargar un conjunto de datos previamente clasificado, o cargar un conjunto de imÃ¡genes que serÃ¡n clasificadas por el usuario. Post-CondiciÃ³n Se despliega una pantalla de acuerdo a la opciÃ³n seleccionada por el usuario. Nombre Visualizar ayuda ID 3 Pre-CondiciÃ³n - DescripciÃ³n: Esta actividad le muestra al usuario una guÃ­a bÃ¡sica, explicando las distintas funcionalidades de la aplicaciÃ³n Post-CondiciÃ³n Se despliega una pantalla de ayuda al usuario. Nombre Visualizar InformaciÃ³n del desarrollador ID 4 Pre-CondiciÃ³n - DescripciÃ³n: Esta actividad le muestra al usuario una pantalla de informaciÃ³n acerca el desarrollador y el Tutor. Post-CondiciÃ³n Se despliega una pantalla de informaciÃ³n al usuario. Nivel 1 ï‚· Actores: (Usuarios) Bioanalistas encargados de realizar la clasificaciÃ³n morfolÃ³gica de cabeza de espermatozoide humano. ï‚· Casos de uso: 45 Figura 18: Modelo de casos de uso Nivel 1 (ID: 1) del clasificador morfolÃ³gico de cabezas Nombre Visualizar imÃ¡genes ID 1.1 Pre-CondiciÃ³n Haber seleccionado un conjunto de imÃ¡genes a clasificar DescripciÃ³n: Esta actividad permite a los usuarios visualizar todas las imÃ¡genes que conforman la muestra. Post-CondiciÃ³n Se identifican los espermatozoides reconocidos con un id numÃ©rico ascendente que inicia en 0. En el panel lateral se carga la imagen y caracterÃ­sticas del primer espermatozoide reconocido. Nombre Clasificar imÃ¡genes ID 1.2 Pre-CondiciÃ³n Haber seleccionado un conjunto de imÃ¡genes a clasificar. DescripciÃ³n: Esta actividad permite a los usuarios visualizar informaciÃ³n detallada al momento de realizar la clasificaciÃ³n Post-CondiciÃ³n Se muestra en la interfaz una vista en miniatura del conjunto de imÃ¡genes Nombre Detallar modelo ID 1.3 Pre-CondiciÃ³n - DescripciÃ³n: Esta actividad permite a los usuarios visualizar toda la informaciÃ³n referente al modelo de clasificaciÃ³n utilizado para clasificar la muestra. Post-CondiciÃ³n Se muestra en la interfaz informaciÃ³n referente a las variables utilizadas en el proceso de clasificaciÃ³n. 46 Nombre Modificar informaciÃ³n ID 1.4 Pre-CondiciÃ³n Cargar un conjunto de imÃ¡genes DescripciÃ³n: El usuario puede modificar los datos que identifican la muestra (nombre, fecha, edad del paciente, nombre Bioanalista) Post-CondiciÃ³n Se muestra en la interfaz, los cambios realizados. Figura 19: Modelo de casos de uso Nivel 1 (ID: 2) del clasificador morfolÃ³gico de cabezas Nombre Analizar imÃ¡genes ID 2.1 Pre-CondiciÃ³n Haber seleccionado un conjunto de imÃ¡genes para generar un nuevo modelo de datos. DescripciÃ³n: Esta actividad permite a los usuarios analizar todas las imÃ¡genes que conforman la muestra. Post-CondiciÃ³n Se identifican los espermatozoides reconocidos con un id numÃ©rico ascendente que inicia en 0. En el panel lateral se carga la imagen y caracterÃ­sticas del primer espermatozoide reconocido. Nombre Analizar conjunto de datos ID 2.2 Pre-CondiciÃ³n Haber seleccionado un conjunto de datos (previamente clasificado) para generar un nuevo modelo de clasificaciÃ³n. DescripciÃ³n: Esta actividad permite a los usuarios analizar el conjunto de datos Post-CondiciÃ³n Se muestra una tabla atributo valor, que el usuario puede editar de acuerdo a sus necesidades 47 Nombre Definir modelo ID 2.3 Pre-CondiciÃ³n Haber generado el modelo de clasificaciÃ³n DescripciÃ³n: Esta actividad permite a los usuarios visualizar toda la informaciÃ³n referente al modelo de clasificaciÃ³n utilizado para clasificar la muestra. Post-CondiciÃ³n Se muestra en la interfaz informaciÃ³n referente a las variables utilizadas en el proceso de clasificaciÃ³n. Nombre Modificar informaciÃ³n ID 2.4 Pre-CondiciÃ³n Cargar un conjunto de imÃ¡genes DescripciÃ³n: El usuario puede modificar los datos que identifican el conjunto de datos (nombre, fecha, edad del paciente, nombre Bioanalista) Post-CondiciÃ³n Se muestra en la interfaz, los cambios realizados. Nivel 2 ï‚· Actores: (Usuarios) Bioanalistas encargados de realizar la clasificaciÃ³n morfolÃ³gica de cabeza de espermatozoide humano. ï‚· Casos de uso: 48 Figura 20: Modelo de casos de uso Nivel 2 (ID: 1.1) del clasificador morfolÃ³gico de cabezas Nombre Adaptar imagen ID 1.1.1 Pre-CondiciÃ³n Cargar un conjunto de imÃ¡genes DescripciÃ³n: El usuario puede amplificar o estabilizar el tamaÃ±o de la imagen de acuerdo a sus necesidades Post-CondiciÃ³n Se muestra en la interfaz, la imagen procesa amplificada Nombre Ver cajas contenedoras ID 1.1.2 Pre-CondiciÃ³n Cargar un conjunto de imÃ¡genes DescripciÃ³n: El usuario puede visualizar las cajas contenedoras orientadas de los espermatozoides reconocidos. Post-CondiciÃ³n Se muestra en la interfaz, las cajas contendoras. 49 Nombre Ver diagonales mayores ID 1.1.3 Pre-CondiciÃ³n Cargar un conjunto de imÃ¡genes DescripciÃ³n: El usuario puede visualizar las diagonales mayores de los espermatozoides reconocidos. Post-CondiciÃ³n Se muestra en la interfaz, las diagonales mayores. Nombre Ver diagonales menores ID 1.1.4 Pre-CondiciÃ³n Cargar un conjunto de imÃ¡genes DescripciÃ³n: El usuario puede visualizar las diagonales menores de los espermatozoides reconocidos. Post-CondiciÃ³n Se muestra en la interfaz, las diagonales menores. Nombre Ver identificadores ID 1.1.5 Pre-CondiciÃ³n Cargar un conjunto de imÃ¡genes DescripciÃ³n: El usuario puede visualizar los identificadores de los espermatozoides reconocidos. Post-CondiciÃ³n Se muestra en la interfaz, los identificadores. Nombre Seleccionar vista ID 1.1.6 Pre-CondiciÃ³n Cargar un conjunto de imÃ¡genes DescripciÃ³n: El usuario dispone de varias formas de visualizar los resultados (RGB, canal rojo, canal azul, canal verde, segmentada, mascara de contornos) Post-CondiciÃ³n Se muestra en la interfaz, la opciÃ³n selecciona por el usuario. Nombre Cargar otra muestra ID 1.1.7 Pre-CondiciÃ³n - DescripciÃ³n: El usuario puede seleccionar otra muestra para clasificar si la que eligiÃ³ previamente no es de su agrado. Post-CondiciÃ³n Se muestra en la interfaz, la opciÃ³n selecciona por el usuario. 50 Nombre Exportar espermatozoides segmentados ID 1.1.8 Pre-CondiciÃ³n Cargar un conjunto de imÃ¡genes DescripciÃ³n: El usuario puede exportar como imÃ¡genes individuales los espermatozoides reconocidos por el mÃ³dulo de segmentaciÃ³n. Post-CondiciÃ³n Se muestra en la interfaz, la opciÃ³n selecciona por el usuario. Figura 21: Modelo de casos de uso Nivel 2 (ID: 1.2) del clasificador morfolÃ³gico de cabezas Nombre Clasificar ID 1.2.1 Pre-CondiciÃ³n Cargar un conjunto de imÃ¡genes DescripciÃ³n: El usuario puede iniciar el proceso de clasificaciÃ³n de la muestra cuando desee. Post-CondiciÃ³n Se muestra en la interfaz, los resultados al nivel general obtenidos al clasificar la muestra. Nombre Modificar parÃ¡metros ID 1.2.2 Pre-CondiciÃ³n Haber clasificado la muestra DescripciÃ³n: El usuario puede modificar el porcentaje normal morfolÃ³gico utilizado como referencia. Post-CondiciÃ³n Se muestra en la interfaz, la nueva clasificaciÃ³n de la muestra en base al nuevo porcentaje 51 Nombre Generar informe ID 1.2.3 Pre-CondiciÃ³n Haber clasificado la muestra DescripciÃ³n: Permite descargar un informe con toda la informaciÃ³n referente a la clasificaciÃ³n de la muestra. Post-CondiciÃ³n Se genera un informe en formato PDF Figura 22: Modelo de casos de uso Nivel 2 (ID: 1.3) del clasificador morfolÃ³gico de cabezas Nombre Mostrar resultados Ã¡rbol de clasificaciÃ³n ID 1.3.1 Pre-CondiciÃ³n - DescripciÃ³n: El usuario puede visualizar el Ã¡rbol de clasificaciÃ³n y los resultados de la evaluaciÃ³n realizada al modelo Post-CondiciÃ³n Se muestra en la interfaz, el Ã¡rbol de clasificaciÃ³n y los resultados 52 Nombre Mostrar resultados reglas de clasificaciÃ³n ID 1.3.2 Pre-CondiciÃ³n - DescripciÃ³n: El usuario puede visualizar el conjunto de reglas de clasificaciÃ³n y los resultados de la evaluaciÃ³n realizada al modelo Post-CondiciÃ³n Se muestra en la interfaz, el conjunto de reglas y los resultados Nombre Mostrar resultados Red Neuronal ID 1.3.3 Pre-CondiciÃ³n - DescripciÃ³n: El usuario puede visualizar los resultados de la evaluaciÃ³n realizada al modelo. Post-CondiciÃ³n Se muestra en la interfaz, los resultados de la evaluaciÃ³n realizada al modelo. Nombre Mostrar resultados combinaciÃ³n de clasificadores ID 1.3.4 Pre-CondiciÃ³n -- DescripciÃ³n: El usuario puede visualizar los resultados de la evaluaciÃ³n realizada al modelo. Post-CondiciÃ³n Se muestra en la interfaz, los resultados de la evaluaciÃ³n realizada al modelo. Nombre Seleccionar variable ID 1.3.5 Pre-CondiciÃ³n -- DescripciÃ³n: El usuario puede seleccionar cualquiera de las variables que conforma el conjunto de datos para obtener informaciÃ³n mÃ¡s detallada de cada una. Post-CondiciÃ³n Se muestra en la interfaz, la informaciÃ³n de la variable seleccionada 53 Figura 23: Modelo de casos de uso Nivel 2 (ID: 2.1) del clasificador morfolÃ³gico de cabezas Nombre Procesar imagen ID 2.1.1 Pre-CondiciÃ³n Cargar un conjunto de imÃ¡genes DescripciÃ³n: El usuario puede iniciar la secuencia de procesamiento que se ocupa de la segmentaciÃ³n y extracciÃ³n de caracterÃ­sticas de los espermatozoides Post-CondiciÃ³n Se identifican los espermatozoides reconocidos con un id numÃ©rico ascendente que inicia en 0. En el panel lateral se carga la clasificaciÃ³n del primer espermatozoide reconocido, asÃ­ como las etiquetas que le hayan sido asignadas en procesamientos previos 54 Nombre Generar archivo de clasificaciÃ³n ID 2.1.2 Pre-CondiciÃ³n Haber procesado todas las imÃ¡genes de la muestra DescripciÃ³n: El usuario puede especificar al sistema el momento en el que desee generar el archivo de clasificaciÃ³n Post-CondiciÃ³n El sistema escribe un archivo de clasificaciÃ³n llamado â€espermatozoides.txtâ€Ÿ Nombre Adaptar imagen ID 2.1.3 Pre-CondiciÃ³n Cargar un conjunto de imÃ¡genes DescripciÃ³n: El usuario puede amplificar o estabilizar el tamaÃ±o de la imagen de acuerdo a sus necesidades Post-CondiciÃ³n Se muestra en la interfaz, la imagen procesa amplificada Nombre Ver cajas contenedoras ID 2.1.4 Pre-CondiciÃ³n Cargar un conjunto de imÃ¡genes DescripciÃ³n: El usuario puede visualizar las cajas contenedoras orientadas de los espermatozoides reconocidos. Post-CondiciÃ³n Se muestra en la interfaz, las cajas contendoras. Nombre Ver diagonales mayores ID 2.1.5 Pre-CondiciÃ³n Cargar un conjunto de imÃ¡genes DescripciÃ³n: El usuario puede visualizar las diagonales mayores de los espermatozoides reconocidos. Post-CondiciÃ³n Se muestra en la interfaz, las diagonales mayores. Nombre Ver diagonales menores ID 2.1.6 Pre-CondiciÃ³n Cargar un conjunto de imÃ¡genes DescripciÃ³n: El usuario puede visualizar las diagonales menores de los espermatozoides reconocidos. Post-CondiciÃ³n Se muestra en la interfaz, las diagonales menores. 55 Nombre Ver identificadores ID 2.1.7 Pre-CondiciÃ³n Cargar un conjunto de imÃ¡genes DescripciÃ³n: El usuario puede visualizar los identificadores de los espermatozoides reconocidos. Post-CondiciÃ³n Se muestra en la interfaz, los identificadores. Nombre Seleccionar vista ID 2.1.8 Pre-CondiciÃ³n Cargar un conjunto de imÃ¡genes DescripciÃ³n: El usuario dispone de varias formas de visualizar los resultados (RGB, canal rojo, canal azul, canal verde, segmentada, mascara de contornos) Post-CondiciÃ³n Se muestra en la interfaz, la opciÃ³n selecciona por el usuario. Nombre Cargar otra muestra ID 2.1.9 Pre-CondiciÃ³n - DescripciÃ³n: El usuario puede seleccionar otra muestra para clasificar si la que eligiÃ³ previamente no es de su agrado. Post-CondiciÃ³n Se muestra en la interfaz, la opciÃ³n selecciona por el usuario. Nombre Exportar espermatozoides segmentados ID 2.1.10 Pre-CondiciÃ³n Cargar un conjunto de imÃ¡genes DescripciÃ³n: El usuario puede exportar como imÃ¡genes individuales los espermatozoides reconocidos por el mÃ³dulo de segmentaciÃ³n. Post-CondiciÃ³n Se muestra en la interfaz, la opciÃ³n selecciona por el usuario. Figura 24: Modelo de casos de uso Nivel 2 (ID: 2.2) del clasificador morfolÃ³gico de cabezas 56 Nombre Almacenar cambios ID 2.2.1 Pre-CondiciÃ³n Cargar un conjunto de datos previamente clasificado DescripciÃ³n: El usuario luego de modificar los valores del conjunto de datos cargado puede almacenar los cambios realizados. Post-CondiciÃ³n Se muestra en la interfaz los cambios realizados. Nombre Generar modelo ID 2.2.2 Pre-CondiciÃ³n Cargar un conjunto de datos previamente clasificado DescripciÃ³n: El usuario puede generar cuando desee el nuevo modelo de clasificaciÃ³n Post-CondiciÃ³n Se genera el nuevo modelo de datos. Figura 25: Modelo de casos de uso Nivel 2 (ID: 2.3) del clasificador morfolÃ³gico de cabezas 57 Nombre Sustituir modelo ID 2.3.1 Pre-CondiciÃ³n Generar un modelo de clasificaciÃ³n DescripciÃ³n: El usuario puede sustituir el nuevo modelo de clasificaciÃ³n en el sistema. Post-CondiciÃ³n Se sustituye el nuevo modelo de datos en el sistema. Nombre Mostrar resultados Ã¡rbol de clasificaciÃ³n ID 2.3.2 Pre-CondiciÃ³n - DescripciÃ³n: El usuario puede visualizar el Ã¡rbol de clasificaciÃ³n y los resultados de la evaluaciÃ³n realizada al modelo Post-CondiciÃ³n Se muestra en la interfaz, el Ã¡rbol de clasificaciÃ³n y los resultados Nombre Mostrar resultados reglas de clasificaciÃ³n ID 2.3.3 Pre-CondiciÃ³n - DescripciÃ³n: El usuario puede visualizar el conjunto de reglas de clasificaciÃ³n y los resultados de la evaluaciÃ³n realizada al modelo Post-CondiciÃ³n Se muestra en la interfaz, el conjunto de reglas y los resultados Nombre Mostrar resultados Red Neuronal ID 2.3.4 Pre-CondiciÃ³n - DescripciÃ³n: El usuario puede visualizar los resultados de la evaluaciÃ³n realizada al modelo. Post-CondiciÃ³n Se muestra en la interfaz, los resultados de la evaluaciÃ³n realizada al modelo. Nombre Mostrar resultados combinaciÃ³n de clasificadores ID 2.3.5 Pre-CondiciÃ³n -- DescripciÃ³n: El usuario puede visualizar los resultados de la evaluaciÃ³n realizada al modelo. Post-CondiciÃ³n Se muestra en la interfaz, los resultados de la evaluaciÃ³n realizada al modelo. 58 Nombre Seleccionar variable ID 2.36 Pre-CondiciÃ³n -- DescripciÃ³n: El usuario puede seleccionar cualquiera de las variables que conforma el conjunto de datos para obtener informaciÃ³n mÃ¡s detallada de cada una. Post-CondiciÃ³n Se muestra en la interfaz, la informaciÃ³n de la variable seleccionada 2.7.2 TecnologÃ­as utilizadas o Especificaciones de Hardware ï‚§ Procesador: IntelÂ® PentiumÂ® CPU 2.60GHz ï‚§ 2.00 GB de Memoria RAM ï‚§ Disco Duro de 250 GB o Sistema Operativo: la aplicaciÃ³n se desarrollÃ³ bajo ambiente MicrosoftÂ® Windows 7 Professional. o Herramientas de Software ï‚§ Kit de Desarrollo Java (JDK): Java Platform (JDK) 8u25 ï‚§ Entorno de desarrollo integrado: NetBeans IDE 8.0 ï‚§ Weka Jar: versiÃ³n 3.6 2.7.3. DiseÃ±o de la interfaz: La aplicaciÃ³n resultante se denominÃ³ CMCE- Clasificador MorfolÃ³gico de Cabezas de espermatozoides. La aplicaciÃ³n sigue los mismos lineamientos definidos por la aplicaciÃ³n creada por Ferreira (2008), una ventana donde se despliegue la muestra y todos los controles necesarios para llevar a cabo la clasificaciÃ³n. Sin embargo, esta nueva aplicaciÃ³n presenta varias funcionalidades extras, las cuales se explicarÃ¡n a continuaciÃ³n: Al iniciar la aplicaciÃ³n (Ver Figura 26), el usuario dispone de dos opciones principales, la clasificaciÃ³n automÃ¡tica de una muestra de espermatozoides, o la creaciÃ³n de un nuevo modelo de datos para futuras clasificaciones. 59 Figura 26: Pantalla inicial de la aplicaciÃ³n Al seleccionar la opciÃ³n â€œClasificar Muestraâ€ se le desplegara al usuario, una pequeÃ±a pantalla (Ver figura 27) que le indicara los pasos a seguir. Figura 27: Pantalla de indicaciones de la primera opciÃ³n 60 En este caso se le especÃ­fica al usuario, que debe seleccionar la carpeta en donde se encuentra la muestra a clasificar. Luego de esto, se le despliega la pantalla principal, la cual tiene tres pestaÃ±as, cada una con un propÃ³sito distinto. En la Figura 28 se muestra la primera pestaÃ±a, cuyo objetivo principal es permitir al usuario visualizar la muestra. Entre las opciones que ofrece la pestaÃ±a de visualizaciÃ³n se encuentran: ï‚· Datos de la muestra: Permite identificar la muestra a travÃ©s de un nombre o identificador para la misma, la fecha de clasificaciÃ³n, el nombre del paciente y el nombre del Bionalista que supervisa la clasificaciÃ³n. ï‚· Opciones de visualizaciÃ³n: Permite al usuario controlar distintas opciones que son dibujadas en las imÃ¡genes, tales como: 1) ImÃ¡genes Ajustadas: Aumentar o disminuir el tamaÃ±o de la imagen actual 2) Cajas Contenedoras: Dibuja las Cajas que delimitan a los espermatozoides 3) Diagonales Mayores: Dibuja la diagonal mayor en cada uno de los espermatozoides 4) Diagonales Menores: Dibuja la diagonal menor en cada uno de los espermatozoides 5) ID de Elementos: Dibuja el identificador numÃ©rico de cada uno de los espermatozoides ï‚· El cuadro de CaracterÃ­sticas permite al usuario visualizar los valores extraÃ­dos de cada uno de los espermatozoides. ï‚· Los cuadros â€œEspermatozoideâ€ y â€œSegmentaciÃ³nâ€ permiten al usuario visualizar el espermatozoide original, y la SegmentaciÃ³n del espermatozoide diferenciando entre Acrosoma, Post-Acrosoma y Pieza Intermedia. ï‚· Vista: permite al usuario visualizar distintas formas en las que serÃ¡n desplegadas las imÃ¡genes pertenecientes a la muestra: 1) Imagen original RGB 2) Cada uno de los canales RGB por separado (Rojo, Verde, Azul) 3) Contornos dibujados sobre la imagen original RGB 4) MÃ¡scara binaria con los contornos identificados ï‚· Nueva muestra: permite al usuario seleccionar una nueva muestra para poder clasificarla. ï‚· Descargar: permite al usuario exportar los espermatozoides segmentados de la imagen actual a ser procesada. 61 Figura 28: Pantalla principal primera opciÃ³n (PestaÃ±a: VisualizaciÃ³n) En la figura 29, se muestra la segunda pestaÃ±a â€œClasificaciÃ³nâ€. Esta pestaÃ±a permite al usuario visualizar toda la informaciÃ³n obtenido luego de realizar la clasificaciÃ³n a la muestra. Entre las opciones se encuentran: ï‚· Datos de la muestra: al igual que la pestaÃ±a visualizar, permite desplegar informaciÃ³n bÃ¡sica de la muestra ï‚· Clasificar: opciÃ³n que clasifica la muestra. ï‚· Generar informe: esta opciÃ³n permite al usuario descargar un informe con toda la informaciÃ³n relacionada a la clasificaciÃ³n de la muestra en formato PDF. En el Anexo C se puede apreciar el modelo del informe. ï‚· Resultados generales: Permite al usuario visualizar toda la informaciÃ³n relacionada con la clasificaciÃ³n de la muestra 1) Cantidad de espermatozoides extraÃ­dos de la muestra 2) Cantidad de espermatozoides Normales 3) Cantidad de espermatozoides Anormales 4) Conteo de espermatozoides 5) Porcentaje Normal MorfolÃ³gico utilizado 6) Porcentaje Normal MorfolÃ³gico obtenido 7) ClasificaciÃ³n general de la muestra 62 ï‚· Muestra: Permite al usuario seleccionar entre las distintas imagines pertenecientes a la muestra para ver sus caracterÃ­sticas especÃ­ficas, las cuales son desplegadas en el cuadro â€œResultados por imagenâ€. ï‚· Modificar ParÃ¡metros de clasificaciÃ³n: Permite al usuario modificar el porcentaje normal utilizado al momento de realizar la clasificaciÃ³n Figura 29: Pantalla principal primera opciÃ³n (PestaÃ±a: ClasificaciÃ³n) En la Figura 30, se muestra la tercera pestaÃ±a â€œDetallar Modeloâ€. Esta pestaÃ±a permite al usuario visualizar toda la informaciÃ³n referente al modelo de clasificaciÃ³n utilizado: ï‚· Datos Modelo: al igual que las pestaÃ±as visualizar y clasificar, permite desplegar informaciÃ³n bÃ¡sica pero esta vez del modelo de clasificaciÃ³n. ï‚· Ãrbol de ClasificaciÃ³n: Permite al usuario graficar el Ã¡rbol de clasificaciÃ³n y los valores de las medidas de evaluaciÃ³n generadas en la creaciÃ³n del modelo. ï‚· Reglas de ClasificaciÃ³n: Permite al usuario graficar las reglas de clasificaciÃ³n y los valores de las medidas de evaluaciÃ³n generados en la creaciÃ³n del modelo. ï‚· Red Neuronal: Permite al usuario generar los valores de las medidas de evaluaciÃ³n pertenecientes a la Red Neuronal. ï‚· CombinaciÃ³n de clasificadores: Permite al usuario generar los valores de las medidas de evaluaciÃ³n pertenecientes a la CombinaciÃ³n de Clasificadores. ï‚· Matriz de confusiÃ³n: Permite al usuario visualizar la matriz de confusiÃ³n generada en cada uno de los modelos (Ã¡rbol de clasificaciÃ³n, reglas de clasificaciÃ³n, red neuronal, CombinaciÃ³n de clasificadores). 63 ï‚· Medidas de evaluaciÃ³n: Permite al usuario visualizar los valores de las medidas de evaluaciÃ³n pertenecientes a cada uno de los modelos. ï‚· Conjunto de Variables: Permite al usuario visualizar las distintas variables pertenecientes al conjunto de datos utilizado. ï‚· Variables Seleccionadas: Permite al usuario visualizar caracterÃ­sticas especÃ­ficas de la variable seleccionada. Figura 30: Pantalla principal primera opciÃ³n (PestaÃ±a: Detallar Modelo) Volviendo a la pantalla inicial (Ver figura 26) al seleccionar la opciÃ³n â€œCrear Modeloâ€ se le desplegara al usuario, una pequeÃ±a pantalla (Ver figura 31) que le indicara los pasos a seguir. 64 Figura 31: Pantalla de indicaciones de la segunda opciÃ³n En este caso se le especÃ­fica al usuario que tiene dos opciones para poder generar el modelo. La primera le permite cargar una muestra y clasificarla manualmente en base a los conocimientos del experto (desplegÃ¡ndose la pantalla que se muestra en la Figura 32). La segunda opciÃ³n le permite al usuario cargar una muestra previamente clasificada a travÃ©s de un archivo arff (desplegÃ¡ndose la pantalla que se muestra en la Figura 33). Independientemente de la opciÃ³n que elija, se desplegara una pestaÃ±a adicional (Ver figura 34) que permite visualizar el rendimiento del modelo de clasificaciÃ³n creado. En la Figura 32 se le presenta al usuario una pestaÃ±a (Clasificar Muestra) similar a la que se muestra en la Figura 28, la diferencia radica en las siguientes opciones: ï‚· ClasificaciÃ³n: Permite al usuario realizar la clasificaciÃ³n manual de la muestra. ï‚· Conteo: Permite al usuario controlar el conteo de espermatozoides, al momento de realizar la clasificaciÃ³n. Una vez terminado la clasificaciÃ³n, se despliega la pantalla que se muestra en la Figura 33. 65 Figura 32: Pantalla principal segunda opciÃ³n (PestaÃ±a: Clasificar Muestra) En la Figura 33, se muestra la segunda pestaÃ±a â€œTabla Atributo Valorâ€. Esta pestaÃ±a permite al usuario visualizar todos los vectores de clasificaciÃ³n extraÃ­dos de la muestra (imÃ¡genes o archivo arff, Anexo D) desplegados en una tabla. ï‚· Datos Modelo: al igual que la pestaÃ±a Clasificar Muestra, permite desplegar informaciÃ³n bÃ¡sica del modelo de clasificaciÃ³n. ï‚· Generar Modelo: Permite al usuario generar el nuevo modelo de clasificaciÃ³n. ï‚· Conjunto Variables: Permite al usuario visualizar las distintas variables pertenecientes al conjunto de datos utilizado. ï‚· Ãrea cabeza: Permite al usuario visualizar caracterÃ­sticas especÃ­ficas de la variable seleccionada. 66 Figura 33: Pantalla principal segunda opciÃ³n (PestaÃ±a: Tabla Atributo Valor) En la Figura 34, se muestra la tercera pestaÃ±a â€œDetallar Modeloâ€. Esta pestaÃ±a permite al usuario visualizar toda la informaciÃ³n referente al modelo de clasificaciÃ³n creado: ï‚· Datos Modelo: al igual que la pestaÃ±a Clasificar Muestra, permite desplegar informaciÃ³n bÃ¡sica del modelo de clasificaciÃ³n. ï‚· Ãrbol de ClasificaciÃ³n: Permite al usuario graficar el Ã¡rbol de clasificaciÃ³n y los valores de las medidas de evaluaciÃ³n generadas en la creaciÃ³n del modelo. ï‚· Reglas de ClasificaciÃ³n: Permite al usuario graficar las reglas de clasificaciÃ³n y los valores de las medidas de evaluaciÃ³n generados en la creaciÃ³n del modelo. ï‚· Red Neuronal: Permite al usuario generar los valores de las medidas de evaluaciÃ³n pertenecientes a la Red Neuronal. ï‚· CombinaciÃ³n de clasificadores: Permite al usuario generar los valores de las medidas de evaluaciÃ³n pertenecientes a la CombinaciÃ³n de Clasificadores. ï‚· Matriz de confusiÃ³n: Permite al usuario visualizar la matriz de confusiÃ³n generada en cada uno de los modelos (Ã¡rbol de clasificaciÃ³n, reglas de clasificaciÃ³n, red neuronal, CombinaciÃ³n de clasificadores). ï‚· Medidas de evaluaciÃ³n: Permite al usuario visualizar los valores de las medidas de evaluaciÃ³n pertenecientes a cada uno de los modelos. ï‚· Guardar Modelo: Permite al usuario almacenar en el sistema el nuevo modelo. 67 Figura 34: Pantalla principal segunda opciÃ³n (PestaÃ±a: Detallar Modelo) Volviendo a la pantalla inicial (Ver Figura 26) se presentan dos opciones adicionales a las previamente explicadas. Ver Ayuda y Acerca de, la primera (Ver Figura 35) despliega una pantalla de ayuda para el usuario al momento de usar la aplicaciÃ³n, explicando cada una de las pestaÃ±as presentes en cada opciÃ³n. La segunda opciÃ³n (Ver Figura 36), despliega al usuario una pantalla de informaciÃ³n acerca del desarrollador y el tutor de la TEG. 68 Figura 35: Pantalla de ayuda para el usuario Figura 36: Pantalla de informaciÃ³n (Acerca de) 69 2.8. EvaluaciÃ³n de la aplicaciÃ³n Para la verificaciÃ³n y validaciÃ³n de la aplicaciÃ³n, se clasificÃ³ un grupo de doce muestras de semen, para luego comparar los resultados obtenidos con la clasificaciÃ³n realizada por un experto al mismo grupo de muestras. Los parÃ¡metros que se tomaron en cuenta fueron los siguientes: ï‚· Cantidad total de estructuras presentes en la muestra (T_Estructuras) ï‚· Cantidad total de espermatozoides clasificados, hasta llegar a 200, incluyendo Normales y Anormales (T_Espermatozoides) ï‚· Cantidad de cabezas de espermatozoides normales (Normal) ï‚· Cantidad de cabezas de espermatozoides anormales (Anormal) ï‚· Porcentaje morfolÃ³gico normal obtenido (% normal) ï‚· ClasificaciÃ³n general de la muestra (Clase) El porcentaje morfolÃ³gico normal definido para la realizaciÃ³n de la evaluaciÃ³n fue de 15%, es decir, si la muestra presenta un porcentaje de espermatozoides normales igual o mayor al 15% del total se considerÃ³ â€œNormalâ€, caso contrario la muestra se considerÃ³ â€œAnormalâ€. En la Tabla 8, se aprecian los resultados obtenidos. ParÃ¡metro Valor Estructuras identificadas 2628 Espermatozoides clasificados (Normal, Anormal) 2628 Muestras clasificadas que coinciden con el experto 6 Muestras clasificadas que no coinciden con el experto 6 Tabla 8: Resumen de valores obtenidos en la evaluaciÃ³n Los resultados arrojan una diferencia significativa en cuanto a la coincidencia en las clasificaciones realizadas por el experto y la aplicaciÃ³n. Se aprecia que mitad de las muestras coinciden en ambas clasificaciones (50%) y la otra mitad del conjunto de muestra no coincide (50%). La causa de estas diferencias puede deberse a los falsos reconocimientos obtenidos con los algoritmos de segmentaciÃ³n, es decir, elementos en la muestra que no son espermatozoides. El experto, al momento de clasificar la muestra tomÃ³ en cuenta estos casos, sin embargo, estos elementos son de igual forma procesados por la aplicaciÃ³n y clasificados como â€œNormalesâ€ o â€œAnormalesâ€ influyendo directamente en el aumento del porcentaje morfolÃ³gico normal de la muestra, y por consiguiente en la clasificaciÃ³n de Ã©sta. 70 Debido a los resultados obtenidos se decidiÃ³ repetir todo el proceso de minerÃ­a de datos, para asÃ­ obtener un nuevo modelo de clasificaciÃ³n, pero esta vez utilizando un conjunto de datos que incluyera la clase â€œNo_espermatozoidesâ€, lo que permitiÃ³ tomar en cuenta la presencia de estos elementos al clasificar una instancia. Para generar este nuevo modelo, se agregÃ³ al conjunto de datos original 166 instancias cuya clase era â€œNo_espermatozoideâ€, formando un total de 998 instancias. Luego de esto se procediÃ³ a realizar de nuevo, la fase de preparaciÃ³n de los datos (limpieza, transformaciones, creaciÃ³n y selecciÃ³n de variables), obteniendo los mismo resultados que en el conjunto de datos previo. Al igual que el conjunto de datos anterior, Ã©ste se encontraba desbalanceado ya que contenÃ­a mÃ¡s datos pertenecientes a la clase â€œAnormalâ€, por lo tanto se debiÃ³ aumentar la proporciÃ³n de las clases â€œNo_espermatozoideâ€ y â€œNormalâ€, utilizando el algoritmo SMOTE. Igual que en el caso anterior, se aumentaron las clases â€œNormalâ€ y â€œNo_espermatozoideâ€ en proporciones del (50%,100% y 150%) cada una. Sin embargo, al aumentar la clase â€œNo_espermatozoideâ€ en estas proporciones, los resultados obtenidos no fueron los esperados, por lo que se decidiÃ³ probar porcentajes menores a los anteriores para la clase â€œNo_espermatozoideâ€ (40%, 35% y 25%). De estos tres valores con los que se obtuvieron mejores resultados fue el caso del 35%, ya que al crear el modelo de clasificaciÃ³n con los otros valores (25%, 40%, 50%, 100%, 150%) la cantidad de muestras clasificadas por la aplicaciÃ³n que coincidÃ­an con el diagnÃ³stico del experto disminuÃ­a en vez de aumentar. Por lo tanto, al momento de evaluar la data se tomaron en cuenta las siguientes vistas minables: ï‚· Una con los datos originales, 998 registros. ï‚· Tres con la clase â€œNormalâ€ aumentada en proporciones del (50%,100% y 150%) y la clase â€œNo espermatozoideâ€ aumentada en un 35% en todos los casos. Luego de esto, se aplicaron las tÃ©cnicas de minerÃ­a de datos, para obtener el nuevo modelo de clasificaciÃ³n. En la Tabla 9 se presentan los resultados obtenidos con cada una de las vistas minables. ProporciÃ³n de datos aumentada RBFNetwork JRIP J48 CombinaciÃ³n de clasificadores Exactitud G- media Exactitud G- media Exactitud G- media Exactitud G- media 0% 76.352 66.311 73.547 56.535 74.649 62.190 74.849 64.279 50% 75.551 74.201 75.022 70.965 75.022 72.853 77.405 76.698 100% 76.859 76.136 76.033 74.861 76.776 75.354 77.851 77.602 150% 77.156 76.391 76.845 76.822 75.524 74.552 78.554 78.55 Tabla 9: Resultados obtenidos con el nuevo modelo de clasificaciÃ³n 71 Al comparar estos resultados con los reflejados en la Tabla 7, se puede constatar que la variaciÃ³n es muy sutil, es decir, a pesar de que el conjunto de datos posee una nueva clase, a la cual incluso se le aumento su proporciÃ³n en un 35%, los resultados en ambos casos son muy parecidos, por esta razÃ³n, al igual que en el caso anterior los resultados permiten concluir que el conjunto de datos cuya proporciÃ³n fue aumentada al 150% (Clase Normal) y 35% clase No_espermatozoide, es el mÃ¡s propicio para obtener una clasificaciÃ³n mÃ¡s exacta, teniendo en cuenta que la diferencia entre los valores obtenidos por los modelos de datos simples contra la combinaciÃ³n de clasificadores no es muy significativa. A continuaciÃ³n, se presentan de forma detallada los resultados obtenidos al clasificar las doce muestras con el nuevo modelo de clasificaciÃ³n, ademÃ¡s se toma en cuenta un nuevo parÃ¡metro (No_espermatozoides). Muestra #579 Clasificador T_Estru cturas T_Esper matozoi des Anormal Normal No_espermatoz oides (%)normal ClasificaciÃ³n AplicaciÃ³n 199 171 130 41 28 23.97% Normal Experto 184 165 123 42 19 25.45% Normal Muestra #604 Clasificador T_Estru cturas T_Esper matozoi des Anormal Normal No_espermatoz oides (%)normal ClasificaciÃ³n AplicaciÃ³n 242 138 106 32 104 23.18% Normal Experto 211 200 135 65 3 48.14% Normal Muestra #726 Clasificador T_Estru cturas T_Esper matozoi des Anormal Normal No_espermatoz oides (%)normal ClasificaciÃ³n AplicaciÃ³n 197 146 111 35 51 23.97% Normal Experto 197 197 159 38 0 19.28% Normal Muestra #735 Clasificador T_Estru cturas T_Esper matozoi des Anormal Normal No_espermatoz oides (%)normal ClasificaciÃ³n AplicaciÃ³n 259 200 166 34 12 17% Normal Experto 259 200 160 40 0 20% Normal 72 Muestra #736 Clasificador T_Estru cturas T_Esper matozoi des Anormal Normal No_espermatoz oides (%)normal ClasificaciÃ³n AplicaciÃ³n 216 196 180 16 20 8% Anormal Experto 216 200 180 20 0 10% Anormal Muestra #737 Clasificador T_Estru cturas T_Esper matozoi des Anormal Normal No_espermatoz oides (%)normal ClasificaciÃ³n AplicaciÃ³n 211 147 122 25 64 17.1% Normal Experto 211 200 180 20 0 10% Anormal Muestra #738 Clasificador T_Estru cturas T_Esper matozoi des Anormal Normal No_espermatoz oides (%)normal ClasificaciÃ³n AplicaciÃ³n 237 200 160 40 9 20% Normal Experto 237 200 166 34 0 17% Normal Muestra #754 Clasificador T_Estru cturas T_Esper matozoi des Anormal Normal No_espermatoz oides (%)normal ClasificaciÃ³n AplicaciÃ³n 238 200 118 82 24 41% Normal Experto 168 168 135 33 0 19.64% Normal Muestra #755 Clasificador T_Estru cturas T_Esper matozoi des Anormal Normal No_espermatoz oides (%)normal ClasificaciÃ³n AplicaciÃ³n 231 168 152 16 63 9.52% Anormal Experto 231 200 180 20 0 10% Anormal Muestra #759 Clasificador T_Estru cturas T_Esper matozoi des Anormal Normal No_espermatoz oides (%)normal ClasificaciÃ³n AplicaciÃ³n 216 153 138 15 63 9.80% Anormal Experto 216 200 180 20 0 10% Anormal 73 Muestra #766 Clasificador T_Estru cturas T_Esper matozoi des Anormal Normal No_espermatoz oides (%)normal ClasificaciÃ³n AplicaciÃ³n 189 118 92 26 71 22.03% Normal Experto 189 189 171 18 0 9.52% Anormal Muestra #771 Clasificador T_Estru cturas T_Esper matozoi des Anormal Normal No_espermatoz oides (%)normal ClasificaciÃ³n AplicaciÃ³n 193 173 115 58 20 33.52% Normal Experto 193 193 169 24 0 12.43% Anormal En la Tabla 10 se muestran los resultados obtenidos de forma resumida ParÃ¡metro Valor Estructuras identificadas 2628 Espermatozoides clasificados (Normal, Anormal) 2010 No espermatozoides 529 Muestras clasificadas que coinciden con el experto 9 Muestras clasificadas que no coinciden con el experto 3 Tabla 10: Resumen de valores obtenidos, nueva muestra En este caso, los resultados arrojan una mejora significativa, en este segundo intento nueve de las doce muestras coincidieron con su correspondiente clasificaciÃ³n (75%), mientras que el resto de las muestras no coincidieron con la clasificaciÃ³n dada por el experto, lo que equivale a un 25% del total de las muestras. Dados estos resultados se puede concluir que, al agregar la clase â€œNo espermatozoideâ€ en el conjunto de datos, mejoraron los porcentajes de muestras correctamente clasificadas, disminuyendo asÃ­, los falsos reconocimientos por parte del modelo de clasificaciÃ³n al momento de procesar una estructura distinta a un espermatozoide. Dado que, los valores obtenidos por los modelos de clasificaciÃ³n individuales contra el modelo de combinaciÃ³n de clasificadores no fueron muy significativos (Tabla 9), se realizÃ³ la clasificaciÃ³n de las doce muestras con cada uno de los modelos de forma individual (Tabla 12). De igual forma, para poder comparar los resultados, se procediÃ³ a calcular la precisiÃ³n y el error de cada uno de los modelos (Tabla 11). 74 Modelo PrecisiÃ³n Error RBFNetwork 82.5163% 22.8438% JRIP 81.8471% 23.1546% J48 81.7434% 24.4755% CombinaciÃ³n de clasificadores 85.0921% 21.4452% Tabla 11: PrecisiÃ³n y Error de cada uno de los modelos obtenidos En la Tabla 11, se presentan los valores obtenidos al calcular la precisiÃ³n y error de clasificaciÃ³n de cada uno de los modelos (valores que se calculan a partir de las matrices de confusiÃ³n que se muestran en la Figura 37). Los resultados obtenidos para la combinaciÃ³n de clasificadores presentan un porcentaje de 85.0921% en cuanto a precisiÃ³n, y menor a 22% en cuanto a error, los cuales son los valores promedio que generan los tres modelos restantes. Figura 37: Matrices de confusiÃ³n de cada uno de los modelos obtenidos De las matrices de confusiÃ³n que se presentan en la Figura 37, se puede observar que la cantidad de falsos reconocimientos es menor en el caso del modelo generado por la combinaciÃ³n de clasificadores (276). Mientras que los otros modelos presentan valores que se encuentran en un rango entre 315 y 298. ParÃ¡metro RBFNetwork JRIP J48 Estructuras identificadas 2628 2628 2628 Espermatozoides clasificados (Normal, Anormal) 1971 2058 1982 75 No espermatozoides 570 451 558 Muestras clasificadas que coinciden con el experto 8 9 9 Muestras clasificadas que no coinciden con el experto 4 3 3 Tabla 12: Valores obtenidos con los modelos individuales Los resultados reflejados en las tablas 10 y 12 indican que la cantidad de estructuras identificadas en los cuatro casos es la misma, debido a que el valor depende directamente de los algoritmos de segmentaciÃ³n. Por otro lado, los resultados arrojan una desventaja sobre el modelo de clasificaciÃ³n creado por la red neuronal RBFN, ya que Ã©ste aumenta la cantidad de muestras diagnosticadas de forma incorrecta. Sin embargo, la combinaciÃ³n de clasificadores, JRIP y J48 mantienen la misma cantidad de muestras diagnosticadas correctamente. Comparando los resultados en la tabla 12 con los valores reflejados en la tabla 11, se muestra que si bien RBFNetwork tiene un porcentaje de error y de precisiÃ³n similar al de JRIP y J48, existen algunas muestras que empeoran levemente sus resultados. Los porcentajes de aciertos obtenidos con la combinaciÃ³n de clasificadores (Tabla 11) no constituyen el modelo Ã³ptimo. Sin embargo, calculando la media de todos los resultados obtenidos con los modelos individuales, se obtuvo una precisiÃ³n de 85,092% y una tasa de error de 21.4452%, que en tÃ©rminos globales se considera aceptable. Al momento de evaluar el rendimiento de la aplicaciÃ³n, se tomaron en cuenta otros aspectos como son el tiempo de ejecuciÃ³n de cada uno de los mÃ³dulos de la aplicaciÃ³n (SegmentaciÃ³n, extracciÃ³n de caracterÃ­sticas, clasificaciÃ³n de espermatozoides, clasificaciÃ³n morfolÃ³gica de la muestra). En la Tabla 13 se muestran los tiempos promedios obtenidos en cada uno de los mÃ³dulos de la aplicaciÃ³n, al procesar la muestra mÃ¡s pequeÃ±a (tres imÃ¡genes por muestra) y la mÃ¡s grande (40 imÃ¡genes por muestra). MÃ³dulo Tiempo promedio SegmentaciÃ³n de imÃ¡genes 8,95 Segundos ExtracciÃ³n de caracterÃ­sticas 0,0075 Segundos ClasificaciÃ³n de espermatozoides 6,335 Segundos ClasificaciÃ³n morfolÃ³gica de la muestra 1,375 Segundos Suma Total 16,6675 Segundos Tabla 13: Promedio de tiempos de ejecuciÃ³n de los mÃ³dulos de la aplicaciÃ³n 76 Los valores arrojados indican que los mÃ³dulos con mayor tiempo de procesamiento son el de segmentaciÃ³n y clasificaciÃ³n de espermatozoides. Es necesario acotar que en el mÃ³dulo de segmentaciÃ³n se realizan cÃ¡lculos extras al momento de generar cualquiera de las estructuras matriciales necesarias para la detecciÃ³n de los espermatozoides presentes en la muestra. Estos cÃ¡lculos aumentan el tiempo de ejecuciÃ³n al momento de segmentar una imagen. Por otro lado, se debe tomar en cuenta que el mÃ³dulo de clasificaciÃ³n de datos, utiliza tres clasificadores para obtener una clasificaciÃ³n de una instancia. Cada una de las clasificaciones obtenidas por sus respectivos clasificadores, son procesadas por un esquema de votaciÃ³n. Todas estas consideraciones aumentan el tiempo de clasificaciÃ³n de una simple instancia. Los tiempos de ejecuciÃ³n de los mÃ³dulos estÃ¡n sujetos a la cantidad de imÃ¡genes y espermatozoides presentes en una muestra. Es por esto que mientras mayor sea la cantidad de imÃ¡genes y espermatozoides, mayor serÃ¡ el tiempo requerido por cada uno de los mÃ³dulos de procesamiento. 77 CONCLUSIONES Y RECOMENDACIONES El objetivo principal de este trabajo consistiÃ³ en la creaciÃ³n de una aplicaciÃ³n que de forma automatizada permitiera la realizaciÃ³n de evaluaciones morfolÃ³gicas de cabezas de espermatozoides a partir de imÃ¡genes digitales, evitando asÃ­ que los resultados fueran expuestos a la subjetividad del experto. La aplicaciÃ³n estÃ¡ compuesta de tres mÃ³dulos principales. El primero se encarga de segmentar y extraer las caracterÃ­sticas de cada uno de los espermatozoides. El segundo mÃ³dulo tiene como objetivo clasificar cada uno de los espermatozoides extraÃ­dos, haciendo uso del modelo de clasificaciÃ³n creado. El Ãºltimo, permite generar un nuevo modelo de clasificaciÃ³n a partir de la creaciÃ³n de un conjunto de datos. Los algoritmos de segmentaciÃ³n empleados en la aplicaciÃ³n fueron diseÃ±ados por Ferreira (2008), sin embargo estos fueron modificados para poder procesar imÃ¡genes de mayor resoluciÃ³n a la establecida en su trabajo de investigaciÃ³n, la cual era 1600x1200 pÃ­xeles. Las funciones modificadas fueron las que tenÃ­an como objetivo crear estructuras matriciales para delimitar las regiones a procesar (creaciÃ³n de la MÃ¡scara de Cabezas de Espermatozoide, creaciÃ³n de la MÃ¡scara de NÃºcleo de CÃ­rculo y Anillo, creaciÃ³n de la MÃ¡scara de Contornos de Espermatozoides). Para lograr esto se procediÃ³ a calcular la relaciÃ³n entre el Ã¡rea total de la imagen utilizada por Ferreira (2008) y las dimensiones de cada regiÃ³n. El cÃ¡lculo del factor de proporciÃ³n se obtuvo dividiendo el ancho de la regiÃ³n, entre el Ã¡rea de la imagen utilizada por Ferreira (2008). Una vez obtenido este factor, se multiplicÃ³ por el Ã¡rea de la nueva imagen a procesar, obteniÃ©ndose asÃ­ la nueva regiÃ³n acorde a la resoluciÃ³n de la imagen. Los beneficios de introducir estas modificaciones, radica en que se podrÃ¡ procesar imÃ¡genes de mayor resoluciÃ³n a la establecida por Ferreira (2008) y evaluar las heurÃ­sticas diseÃ±adas para el reconocimiento de las estructuras en las muestras a evaluar. Por otro lado, para la creaciÃ³n del mÃ³dulo de clasificaciÃ³n de datos se utilizÃ³ el esquema de combinaciÃ³n de clasificadores Ensemble Classifiers aplicando el mÃ©todo Baggins o Bootstrap Aggregation. Este mÃ³dulo consta de dos etapas, la generaciÃ³n de los modelos, en donde se aplicaron los algoritmos seleccionados (J48, JRIP, RBFN) al conjunto de entrenamiento (aumentando la clase minoritaria a un 150%, para disminuir el desbalance de la clase normal y 35% la clase No_Espermatozoide, asÃ­ como tambiÃ©n descartando la variable Diferencia Ei â€“ Cr) y la etapa de clasificaciÃ³n, en donde se utilizan los modelos creados para clasificar la nueva instancia. Cada modelo determina la clase para la instancia, empleando un sistema de votaciÃ³n. Dicha instancia es asignada a la clase mÃ¡s frecuente. En cuanto a los resultados obtenidos con el modelo, nueve de las doce muestras coincidieron con su correspondiente clasificaciÃ³n (75%), mientras que el resto de las 78 muestras no coincidieron con el diagnostico dado por el experto, lo que equivale a un 25% del total de las muestras. Si bien el porcentaje de aciertos obtenidos con la combinaciÃ³n de clasificadores no constituye el Ã³ptimo, al promediar todos los resultados generados con los modelos individuales, se obtienen resultados que en tÃ©rminos globales se consideran aceptables. Mediante la combinaciÃ³n de clasificadores, se pretende obtener en todo momento el mejor resultado entre los distintos modelos utilizados, ayudando a que la clasificaciÃ³n realizada responda eficientemente a las expectativas deseadas. En trabajos futuros el objetivo es claro, se debe plantear el aumento de la cantidad de algoritmos de clasificaciÃ³n a emplear aprovechando la amplia variedad de algoritmos que ofrece la plataforma WEKA. Permitiendo asÃ­, obtener modelos cuyos resultados se complementen los unos con los otros y cuyos aciertos sean tan elevados como sea posible. Otro aspecto que se debe tomar en cuenta es el rendimiento de los algoritmos de segmentaciÃ³n y extracciÃ³n de datos. Es necesario optimizar estos algoritmos para disminuir el tiempo de ejecuciÃ³n de los mismos, ya que a diferencia del trabajo de Ferreira (2008), el cual segmentaba las imÃ¡genes de forma individual, la aplicaciÃ³n segmenta las imÃ¡genes de la muestra de forma continua, aumentado el tiempo de ejecuciÃ³n de los algoritmos. Por otro lado, no se debe olvidar que el mÃ³dulo de clasificaciÃ³n de datos, utiliza tres modelos para obtener la clasificaciÃ³n de una instancia. Cada una de las clasificaciones obtenidas por sus respectivos modelos, son procesadas por un esquema de votaciÃ³n. Todas estas consideraciones aumentan el tiempo de clasificaciÃ³n de una simple instancia. Para finalizar, se expone como recomendaciones e investigaciones futuras, hacer Ã©nfasis en la realizaciÃ³n de pruebas utilizando imÃ¡genes de mayor resoluciÃ³n, para poder evaluar los cambios realizados a los algoritmos de segmentaciÃ³n y extracciÃ³n de caracterÃ­sticas de espermatozoides, esperando asÃ­, obtener mejores resultados al momento de extraer las caracterÃ­sticas de cada una de las estructuras segmentadas. 79 REFERENCIAS Acosta, M., Salazar, H., & Zuluaga, C. (2000). Tutorial de Redes Neuronales. (Universidad TecnolÃ³gica de Pereira - Facultad de IngenierÃ­a ElÃ©ctrica) Recuperado el 6 Enero de 2015, de http://goo.gl/hdtiyI Antonie, M. L., Zaiane, O. R., & Coman, A. (2001). Application of Data Mining Techniques for Medical Image Classification. MDM/KDD, 2001, 94-101. Ballou, D.; & Tayi, G. (1999).Enhancing Data Quality in Data Warehouse Environments. Communications of the ACM, 42(1), 73-78. Bar-Ilan, J. Broomhead, D. S., & Lowe, D. (1988). Radial basis functions, multi-variable functional interpolation and adaptive networks (No. RSRE-MEMO-4148). Royal signals and radar establishment Malvern (United Kingdom). Campo, J; (2009). DiseÃ±o de un nuevo clasificador supervisado para minerÃ­a de datos. Proyecto Fin de MÃ¡ster en Sistemas Inteligentes para la Universidad Complutense. Madrid, EspaÃ±a. CasaÃ±as, R.; Ramos, E.; & NÃºÃ±ez, H. (2009). ConstrucciÃ³n de modelos de clasificaciÃ³n de la morfologÃ­a de espermatozoide humano mediante tÃ©cnicas de minerÃ­a de datos. Conferencia Latinoamericana de InformÃ¡tica, CLEIâ€Ÿ2011. Quito, Ecuador CasaÃ±as, R.; Castro, M.; Pereira, H.; Ramos, E.; & NÃºÃ±ez, H. (2007). AplicaciÃ³n de visualizaciÃ³n de una ontologÃ­a para el dominio del anÃ¡lisis del semen humano. IngenierÃ­a y Ciencia, ISSN 1794-9165, vol. 3, num. 5, pp. 43-66. Cerezo, G. (2006). El AnÃ¡lisis de Semen Humano: La EstandarizaciÃ³n de su EvaluaciÃ³n. Contacto QuÃ­mico 1, vol. 3, oct.-dic. 6-8, 2006. Clark, P., & Niblett, T. (1989). The CN2 induction algorithm. Machine learning, 3(4), 261- 283. Cohen, W., (1995). Fact, Effective Rule Induction. In ICMLâ€Ÿ95,12th International Conference on Machine .Learning, pp.115-123. Colmenares G. (2004). Funcion De Base Radial Radial Basis Function (RBF). Recuperado el 6 de Enero de 2015, de http://goo.gl/NiRHPy DÃ¡vila, F; SÃ¡nchez, Y. (2012) TÃ©cnicas de minerÃ­a de datos aplicadas al diagnÃ³stico de entidades clÃ­nicas. Universidad y Salud, 14(2) ,174-183. Recuperado el 15 de Febrero de 2015, de: http://goo.gl/s5wZRy Delen, D.; Walker, G.; & Kadam, A. (2004) Predicting breast cancer survivability a comparison of three data mining methods. Artificial Intelligence in Medicine, 1-15. 80 Fayyad, U.; Piatetsky-Shapiro, G. & Smyth, P. (1996). From Data Mining to Knowledge Discovery in Databases. AI Magazine, 17(3), 37-54. Ferreira, H.; (2008). Herramienta para la extracciÃ³n automÃ¡tica de caracterÃ­sticas morfolÃ³gicas de espermatozoides humanos a partir de imÃ¡genes. Trabajo Especial de Grado para la Universidad Central de Venezuela. Caracas, Venezuela. Garrido, L., & Latorre, J. I. (2001). Aplicaciones empresariales de Data Mining. Guo, X.; Yin, X.; Dong, C.; Yang, G.; Zhou, G. (2008). On the Class Imbalance Problem. ICNC, Proceedings of the 2008 Fourth International Conference on Natural Computation. 4:192-201. HernÃ¡ndez, J.; RamÃ­rez, M. & Ferri, C. (2004). IntroducciÃ³n a la minerÃ­a de datos. (3ra EdiciÃ³n) Madrid: Pearson - Prentice Hall. Hall, M.; Frank, E.; Holmes, G.; Pfahringer, B.; Reutemann, P.; Witten, I.; (2009); The WEKA Data Mining Software: An Update; SIGKDD Explorations, Volume 11, Issue 1. Han, J., Kamber, M., & Pei, J. (2006). Data Mining: Concepts and Techniques, (The Morgan Kaufmann Series in Data Management Systems). Hunt, E.; Marin, J. & Stone, P. (1966). Experiments in induction. New York: Academic Press. Katz, D.; Overstreet, J.; Samuels, S.; Nis Wander, P.; Bloom, T.; Lewis, E. (1986) Morphometric Analysis of Spermatozoa in the Assessment of Human Male Fertility. Journal of Andrology. 7: 203-210. Kruger, T.; Coetzee, K. (1999). The role of sperm morphology in assisted reproduction. Human reproduction update. 5(2):172-178. Lorca, G.; Arzola, J. & Pereira, O. (2010). SegmentaciÃ³n de ImÃ¡genes MÃ©dicas Digitales mediante TÃ©cnicas de Clustering. Revista Aporte Santiaguino; 3(1): 1-9. Mortimer, D. (1994). Practical Laboratory Andrology. Oxford University Press. Obenshain, MK. (2004). Application of data mining techniques to healthcare data. Infect Control Hosp Epidemiol; 25(8):690-695. OMS â€“ OrganizaciÃ³n Mundial de la Salud (2001). Manual de Laboratorio para el examen del semen humano y de la interacciÃ³n entre el semen y el moco cervical. Madrid, EspaÃ±a. Editorial MÃ©dica Panamericana S.A. Cuarta EdiciÃ³n. PadrÃ³n, R.; FernÃ¡ndez, G.; Gallardo, M. (1988) InterpretaciÃ³n del AnÃ¡lisis Seminal. Revista cubana EndocrinologÃ­a, ISSN 0188-9796, Instituto Nacional de EndocrinologÃ­a, Departamento de ReproducciÃ³n Humana, 9(1), 81-90, referenciado en 47,50. Pedraza, L.; GutiÃ©rrez, L.; Duarte, S. & Niebles, F. (2012) AplicaciÃ³n de la FunciÃ³n de 81 Base Radial (RBF) en una red neuronal Artificial (RNA) para la predicciÃ³n de series de tiempo en fenÃ³menos fÃ­sicos. Pereira, R. & YÃ©pez, M. (2012). La minerÃ­a de datos aplicada al descubrimiento de patrones de supervivencia en mujeres con cÃ¡ncer invasivo de cuello uterino. Universidad y Salud, 14(2), 117-129. Recuperado el 15 de Febrero de 2015, de: http://goo.gl/7KxFJe Polikar, R. (2006) Ensemble based systems in decision making. IEEE Circuits Syst Mag 6(3):21â€“45. Quinlan, J. (1986). Induction of decision trees. Machine Learning, 1:81â€“106. Quinlan, J. (1993). C4.5: Programs for machine learning. San Mateo, California: Morgan Kaufmann Publishers Inc. Raghavendra, B. & Jay B. (2011). Evaluation of logistic regression model with feature selection methods on medical dataset. International Journal of Advanced Engineering Technology; 2(1): 228-233. Ramos, E. (2009). Sistema Basado en Agentes para Apoyar el Diagnostico de la Calidad del Semen Humano. Tesis Doctoral para la Universidad Central de Venezuela. Caracas, Venezuela. RodrÃ­guez, J.; Rojas, E. & Franco, R. (2007). ClasificaciÃ³n de datos usando el mÃ©todo K- nn. VÃ­nculos, volumen 4, primera ediciÃ³n. Rokach, L. (2010). Ensemble-based classifiers. Journal Artificial Intelligence Review. Volume 33 Issue 1-2, Pages 1 â€“ 39. February. Soni, J.; Ansari, U.; Sharma, D. & Soni, S. (2011). Predictive Data mining for medical diagnosis: An overview of Heart Disease prediction. International Journal of computer Applications. Volumen 17, Octava ediciÃ³n. Tan P.; Steinbach, M. & Kumar, V. (2005). Introduction to Data Mining. Boston, MA, USA: Addison-Wesley Longman Publishing Co. TimarÃ¡n, P; & YÃ©pez, M. (2012). La minerÃ­a de datos aplicada al descubrimiento de patrones de supervivencia en mujeres con cÃ¡ncer invasivo de cuello uterino. Universidad y Salud, 14(2), 117-129. Recuperado en 15 de febrero de 2015, de http://goo.gl/S1xZW1. Vega, B.; SÃ¡nchez, L. & CortiÃ±as, J. (2012). ClasificaciÃ³n de dengue hemorrÃ¡gico utilizando Ã¡rboles de decisiÃ³n en la fase temprana de la enfermedad. Rev Cubana Med Trop 2012. Wilford, I.; Rosete, A. & RodrÃ­guez, A. (2009). AnÃ¡lisis de InformaciÃ³n ClÃ­nica mediante tÃ©cnicas de MinerÃ­a de Datos. Witten, I; Frank, E. & Hall, M. (2011). Data Mining: Practical Machine Learning Tools and Techniques. (3ra EdiciÃ³n) Nueva Zelanda: Elsevier. 82 ANEXOS Anexo A A continuaciÃ³n se presenta el modelo de clasificaciÃ³n generado por el algoritmo J48 (ImplementaciÃ³n del algoritmo C4.5 en WEKA) Ãrbol de ClasificaciÃ³n ------------------ Elipticidad <= 1.166667 | Cociente_Acrosoma_Atotal <= 0.34 | | Area_Cabeza <= 433 | | | Cociente_Acrosoma_Atotal <= 0.28: Anormal (15.0) | | | Cociente_Acrosoma_Atotal > 0.28 | | | | Eje_Vertical <= 18.481157: No_es_un_espermatozoide (2.0) | | | | Eje_Vertical > 18.481157 | | | | | Eje_Horizontal <= 22.489767 | | | | | | Area_Cabeza <= 298: Anormal (3.0) | | | | | | Area_Cabeza > 298: No_es_un_espermatozoide (2.0) | | | | | Eje_Horizontal > 22.489767: Anormal (5.0) | | Area_Cabeza > 433 | | | Area_post_acrosoma <= 504.307055 | | | | Elipticidad <= 0.96: Anormal (3.0) | | | | Elipticidad > 0.96 | | | | | Elipticidad <= 1.140515: No_es_un_espermatozoide (16.0) | | | | | Elipticidad > 1.140515: Anormal (2.0) | | | Area_post_acrosoma > 504.307055 | | | | Area_Cabeza <= 790: Anormal (8.0) | | | | Area_Cabeza > 790: No_es_un_espermatozoide (14.0/1.0) | Cociente_Acrosoma_Atotal > 0.34: No_es_un_espermatozoide (104.0/10.0) Elipticidad > 1.166667 | Elipticidad <= 1.75 | | Cociente_Acrosoma_Atotal <= 0.4: Anormal (158.0/13.0) | | Cociente_Acrosoma_Atotal > 0.4 | | | Cociente_Acrosoma_Atotal <= 0.77 | | | | Area_Cabeza <= 585 | | | | | Area_Cabeza <= 354 | | | | | | Cociente_Acrosoma_Atotal <= 0.5: Anormal (9.0) | | | | | | Cociente_Acrosoma_Atotal > 0.5 | | | | | | | Elipticidad <= 1.508861: No_es_un_espermatozoide (14.0) | | | | | | | Elipticidad > 1.508861: Anormal (2.0/1.0) | | | | | Area_Cabeza > 354 | | | | | | Eje_Horizontal <= 32.990144 | | | | | | | Elipticidad <= 1.35 | | | | | | | | Eje_Vertical <= 19.94617: Normal (15.0/1.0) | | | | | | | | Eje_Vertical > 19.94617 | | | | | | | | | Area_Acrosoma <= 249 | | | | | | | | | | Area_post_acrosoma <= 190.16751: No_es_un_espermatozoide (6.0/1.0) | | | | | | | | | | Area_post_acrosoma > 190.16751 | | | | | | | | | | | Cociente_Acrosoma_Atotal <= 0.415907: No_es_un_espermatozoide (2.0) | | | | | | | | | | | Cociente_Acrosoma_Atotal > 0.415907 | | | | | | | | | | | | Elipticidad <= 1.33: Anormal (19.0/3.0) | | | | | | | | | | | | Elipticidad > 1.33 | | | | | | | | | | | | | Eje_Horizontal <= 27.177371: Anormal (4.0/1.0) | | | | | | | | | | | | | Eje_Horizontal > 27.177371: Normal (3.0/1.0) | | | | | | | | | Area_Acrosoma > 249 83 | | | | | | | | | | Area_post_acrosoma <= 166: No_es_un_espermatozoide (4.0/1.0) | | | | | | | | | | Area_post_acrosoma > 166 | | | | | | | | | | | Cociente_Acrosoma_Atotal <= 0.64 | | | | | | | | | | | | Elipticidad <= 1.283118 | | | | | | | | | | | | | Area_Cabeza <= 441.483746: Normal (3.0) | | | | | | | | | | | | | Area_Cabeza > 441.483746 | | | | | | | | | | | | | | Area_Cabeza <= 545: Anormal (5.0) | | | | | | | | | | | | | | Area_Cabeza > 545: Normal (7.0/2.0) | | | | | | | | | | | | Elipticidad > 1.283118: Normal (14.0/1.0) | | | | | | | | | | | Cociente_Acrosoma_Atotal > 0.64: Normal (11.0) | | | | | | | Elipticidad > 1.35 | | | | | | | | Area_Acrosoma <= 204 | | | | | | | | | Eje_Horizontal <= 27.864167 | | | | | | | | | | Area_post_acrosoma <= 216.006683 | | | | | | | | | | | Area_Cabeza <= 381 | | | | | | | | | | | | Area_Acrosoma <= 161: Anormal (2.0) | | | | | | | | | | | | Area_Acrosoma > 161 | | | | | | | | | | | | | Eje_Horizontal <= 26.976734: Normal (9.0) | | | | | | | | | | | | | Eje_Horizontal > 26.976734 | | | | | | | | | | | | | | Area_Acrosoma <= 179.320388: Anormal (2.0) | | | | | | | | | | | | | | Area_Acrosoma > 179.320388: Normal (2.0) | | | | | | | | | | | Area_Cabeza > 381: Anormal (8.0/1.0) | | | | | | | | | | Area_post_acrosoma > 216.006683: Normal (9.0) | | | | | | | | | Eje_Horizontal > 27.864167: Anormal (24.0/3.0) | | | | | | | | Area_Acrosoma > 204 | | | | | | | | | Cociente_Acrosoma_Atotal <= 0.687273: Normal (372.0/86.0) | | | | | | | | | Cociente_Acrosoma_Atotal > 0.687273 | | | | | | | | | | Area_post_acrosoma <= 123: Anormal (7.0) | | | | | | | | | | Area_post_acrosoma > 123: Normal (16.0/6.0) | | | | | | Eje_Horizontal > 32.990144 | | | | | | | Area_Acrosoma <= 216.266307: No_es_un_espermatozoide (4.0) | | | | | | | Area_Acrosoma > 216.266307 | | | | | | | | Eje_Vertical <= 21.455163 | | | | | | | | | Cociente_Acrosoma_Atotal <= 0.58498: Anormal (24.0) | | | | | | | | | Cociente_Acrosoma_Atotal > 0.58498 | | | | | | | | | | Eje_Horizontal <= 33.452236 | | | | | | | | | | | Area_post_acrosoma <= 202 | | | | | | | | | | | | Area_post_acrosoma <= 185: No_es_un_espermatozoide (2.0) | | | | | | | | | | | | Area_post_acrosoma > 185: Anormal (2.0) | | | | | | | | | | | Area_post_acrosoma > 202: Normal (4.0) | | | | | | | | | | Eje_Horizontal > 33.452236: Anormal (6.0) | | | | | | | | Eje_Vertical > 21.455163 | | | | | | | | | Eje_Vertical <= 22.338278 | | | | | | | | | | Area_Cabeza <= 565: Normal (7.0/1.0) | | | | | | | | | | Area_Cabeza > 565: Anormal (3.0) | | | | | | | | | Eje_Vertical > 22.338278: Anormal (2.0) | | | | Area_Cabeza > 585 | | | | | Area_Cabeza <= 771 | | | | | | Eje_Horizontal <= 30.699341: No_es_un_espermatozoide (2.0) | | | | | | Eje_Horizontal > 30.699341 | | | | | | | Elipticidad <= 1.32 | | | | | | | | Area_Cabeza <= 658: Anormal (5.0) | | | | | | | | Area_Cabeza > 658: No_es_un_espermatozoide (3.0) | | | | | | | Elipticidad > 1.32: Anormal (37.0) | | | | | Area_Cabeza > 771: No_es_un_espermatozoide (4.0) | | | Cociente_Acrosoma_Atotal > 0.77: No_es_un_espermatozoide (39.0/7.0) | Elipticidad > 1.75 | | Cociente_Acrosoma_Atotal <= 0.71: Anormal (232.0/5.0) | | Cociente_Acrosoma_Atotal > 0.71 | | | Cociente_Acrosoma_Atotal <= 0.82: Anormal (6.0/2.0) | | | Cociente_Acrosoma_Atotal > 0.82: No_es_un_espermatozoide (4.0) NÃºmero de hojas: 55 TamaÃ±o del Ã¡rbol: 109 84 Anexo B A continuaciÃ³n se presenta el modelo de clasificaciÃ³n generado por el algoritmo JRIP (ImplementaciÃ³n del algoritmo RIPPER en WEKA) Reglas de ClasificaciÃ³n: =========== (Elipticidad <= 1.318182) and (Elipticidad <= 1.137214) and (Area_Acrosoma >= 132.490404) => Clasificacion=No_es_un_espermatozoide (105.0/9.0) (Area_post_acrosoma <= 152) and (Elipticidad <= 1.345373) => Clasificacion=No_es_un_espermatozoide (38.0/6.0) (Cociente_Acrosoma_Atotal >= 0.79) => Clasificacion=No_es_un_espermatozoide (29.0/5.0) (Elipticidad <= 1.35) and (Eje_Horizontal <= 22.403622) and (Cociente_Acrosoma_Atotal >= 0.29) => Clasificacion=No_es_un_espermatozoide (19.0/6.0) (Eje_Vertical >= 23.987788) and (Cociente_Acrosoma_Atotal <= 0.51) and (Area_Acrosoma >= 271) and (Elipticidad <= 1.484848) => Clasificacion=No_es_un_espermatozoide (11.0/0.0) (Area_post_acrosoma >= 401) and (Eje_Horizontal <= 29) => Clasificacion=No_es_un_espermatozoide (6.0/1.0) (Elipticidad <= 1.375) and (Area_Cabeza >= 675) and (Area_Acrosoma >= 183) => Clasificacion=No_es_un_espermatozoide (10.0/3.0) (Eje_Vertical >= 20) and (Area_Acrosoma <= 245) and (Area_post_acrosoma <= 186.954377) => Clasificacion=No_es_un_espermatozoide (8.0/1.0) (Area_post_acrosoma >= 433) and (Area_post_acrosoma <= 468) => Clasificacion=No_es_un_espermatozoide (5.0/1.0) (Cociente_Acrosoma_Atotal >= 0.450479) and (Eje_Horizontal <= 32.990144) and (Eje_Vertical >= 19.001083) => Clasificacion=Normal (312.0/82.0) (Area_post_acrosoma <= 217.382025) and (Elipticidad <= 1.681442) and (Area_Acrosoma >= 205) and (Area_Acrosoma <= 275.078228) => Clasificacion=Normal (97.0/17.0) => Clasificacion=Anormal (647.0/93.0) NÃºmero de reglas: 12 85 Anexo C A continuaciÃ³n se presenta el modelo del informe generado al momento de clasificar cualquier muestra de espermatozoides. InformaciÃ³n de la muestra Identificador de la muestra: Muestra_000 Fecha de clasificaciÃ³n: DD/MM/AAAA Nombre del paciente: Nombre Apellido Nombre del Bionalista: Nombre Apellido Resultados Generales Resultado Valor Cantidad Total de espermatozoides extraÃ­dos de la muestra 00 Espermatozoides Normales 00 Espermatozoides Anormales 00 No espermatozoides 00 Conteo de espermatozoides 00 Porcentaje Normal MorfolÃ³gico utilizado (%) 00 Porcentaje Normal MorfolÃ³gico Obtenido (%) 00 ClasificaciÃ³n Clase Resultados por imagen Imagen Cantidad de espermatozoides Espermatozoides Normales Espermatozoides Anormales No espermatozoides 0 000 00 00 00 1 000 00 00 00 2 000 00 00 00 86 Anexo D Los archivos con extensiÃ³n arff (Attribute Relation File Format), son utilizados por WEKA para obtener los datos de entrada a procesar. Este formato estÃ¡ compuesto en tres partes: ï‚· Cabecera: Todo archivo debe comenzar con esta declaraciÃ³n en su primera lÃ­nea. @relation <relation-name>, donde <relation-name> no puede contener espacios en blancos. ï‚· Declaraciones de atributos: En esta secciÃ³n, se debe incluir una lÃ­nea por cada atributo que compone al conjunto de datos. La sintaxis es la siguiente: @attribute <attribute-name> <datatype>, donde <attribute-name> indica el nombre del atributo (sin espacios), y <datatype> el tipo de dato del atributo (soportado por Weka: numÃ©rico, string, date, y nominal). ï‚· SecciÃ³n de datos: Inicia con la sintaxis: @data, se declaran los datos que componen la relaciÃ³n. Los atributos deben estar separados por comas y deberÃ¡n tener el mismo nÃºmero de atributos definidos en la secciÃ³n anterior. A continuaciÃ³n se presenta el formato utilizado en el archivo arff, al momento de crear un nuevo modelo de clasificaciÃ³n. @relation Nombre_Relacion @attribute Area_Cabeza numeric @attribute Area_Acrosoma numeric @attribute Area_post_acrosoma numeric @attribute Cociente_Acrosoma_Atotal numeric @attribute Eje_Horizontal numeric @attribute Eje_Vertical numeric @attribute Elipticidad numeric @attribute Diferencia_Ei_Cr numeric @attribute Clasificacion {Anormal,Normal,No_espermatozoide} @data 414,280,134,0.676328,31,16,1.93,93,Normal 561,293,268,0.522281,39,17,2.29,134,Normal 511,205,306,0.401174,35,20,1.75,184,Normal 427,175,252,0.409836,34,18,1.88,122,Normal 487,217,270,0.445585,33,20,1.65,116, No_espermatozoide